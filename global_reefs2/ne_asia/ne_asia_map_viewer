/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var center_map = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.Point([129.08616031430057, 29.021032935504547]),
    wcmc = ee.FeatureCollection("projects/coral_atlas/global_datasets/wcmc_reefs_2018v4_dissolved"),
    distFromLand = ee.Image("projects/coral_atlas/southeastern_asia/in_out/sea_distFromLand500"),
    region_extent = 
    /* color: #ffc82d */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[115.28785113771441, 22.38226756414005],
          [120.44827309146359, 19.050393458112897],
          [123.15090981021359, 23.078427375581146],
          [126.35891762271359, 23.623095525305327],
          [129.8965152789636, 26.488971446910437],
          [130.0503238727136, 25.24341349214531],
          [130.7973941852136, 21.39038453758988],
          [135.9389957477136, 18.91533849254428],
          [144.1567691852136, 23.683475721957127],
          [145.8926090289636, 26.075247014443423],
          [142.8823551227136, 28.766416227279937],
          [135.8950504352136, 26.64619143082659],
          [133.09933483764272, 30.456396470006684],
          [127.8808289782677, 30.456396470006684],
          [121.1297303454552, 29.26067184800689],
          [115.0213319079552, 22.996985069896642]]]),
    ne_extent = ee.FeatureCollection("projects/coral_atlas/ne_asia/in_out/ne_asia_extent"),
    pixels = ee.Image("projects/coral_atlas/ne_asia/in_out/ne_asia_pixels"),
    segmentation = ee.Image("projects/coral_atlas/ne_asia/in_out/ne_asia_segmentation"),
    benref = ee.FeatureCollection("projects/coral_atlas/ne_asia/training/TAJ_benthic_reference"),
    georef = ee.FeatureCollection("projects/coral_atlas/ne_asia/training/TAJ_geo_reference"),
    mid_mask = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry({
      "type": "GeometryCollection",
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.82413869064246,
                25.64214257130676
              ],
              [
                121.82413869064246,
                25.57217273081679
              ],
              [
                122.07772343274998,
                25.50055358882475
              ],
              [
                122.32388584730076,
                25.423989691824374
              ],
              [
                122.3643979322617,
                25.54919436422291
              ],
              [
                121.8535336744492,
                25.6742683834656
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                122.0466118351737,
                25.62264182170111
              ],
              [
                122.06703835744578,
                25.625117820508976
              ],
              [
                122.05974334877908,
                25.64090361703592
              ],
              [
                122.06686787765418,
                25.650499060383563
              ],
              [
                122.18703084152136,
                25.654831824332447
              ],
              [
                122.15181223460705,
                25.73897998654278
              ],
              [
                121.86582438060314,
                25.736196624012713
              ],
              [
                121.86651102611096,
                25.669995258798185
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                122.09653727122814,
                25.664734693843826
              ],
              [
                122.08486429759533,
                25.6114971066741
              ],
              [
                122.37256876536877,
                25.53841158539632
              ],
              [
                122.39866129466564,
                25.63192829011155
              ],
              [
                122.10889689036877,
                25.67525559162467
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.81776864894817,
                25.58021842825684
              ],
              [
                121.67906625637005,
                25.394271970367278
              ],
              [
                121.74361093410442,
                25.32353700482777
              ],
              [
                121.7480741299052,
                25.287843588839063
              ],
              [
                121.7642102993388,
                25.20586418781101
              ],
              [
                121.7971692837138,
                25.201825895049282
              ],
              [
                121.79476602443646,
                25.188778187673122
              ],
              [
                121.7748533047099,
                25.184117953444296
              ],
              [
                121.76901681789349,
                25.17013618138756
              ],
              [
                121.8136487759013,
                25.151802095314313
              ],
              [
                121.91527231105755,
                25.15739583741775
              ],
              [
                121.93552835353802,
                25.200893962312012
              ],
              [
                122.00213296779583,
                25.22636422264095
              ],
              [
                122.27816446193646,
                25.4472960102186
              ],
              [
                122.1106229580302,
                25.49208468105448
              ],
              [
                122.11096628078411,
                25.486506378924613
              ],
              [
                122.11182458766888,
                25.481547670791887
              ],
              [
                122.10598810085247,
                25.477983472983297
              ],
              [
                122.1018682278056,
                25.480462926122147
              ],
              [
                122.10066659816692,
                25.484646887345665
              ],
              [
                122.10135324367474,
                25.488985656281223
              ],
              [
                122.10409982570599,
                25.493634163471388
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.99535503477104,
                25.02566409738609
              ],
              [
                122.0071996697808,
                25.019442118424983
              ],
              [
                122.01286449522026,
                25.01010855869165
              ],
              [
                122.00994625181205,
                24.999685245318446
              ],
              [
                121.99466838926323,
                24.99221725322567
              ],
              [
                121.95398464292533,
                24.971522321565946
              ],
              [
                122.07483425230033,
                24.849616231620143
              ],
              [
                122.15654506773002,
                24.968876853738998
              ],
              [
                122.03075633831949,
                25.25844253321562
              ],
              [
                121.92432628460855,
                25.195084340368293
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                123.52195269951837,
                25.80281853793497
              ],
              [
                123.61258990654962,
                25.814563473431186
              ],
              [
                123.63181598076837,
                25.77190525127845
              ],
              [
                123.59679705986993,
                25.755208726811233
              ],
              [
                123.61808307061212,
                25.625266812423604
              ],
              [
                123.86115558037774,
                25.695824300321743
              ],
              [
                123.85497577080743,
                25.826925305369052
              ],
              [
                123.67164142022149,
                25.912804354657197
              ],
              [
                123.66614825615899,
                25.9319487184224
              ],
              [
                123.6778212297918,
                25.940593540814437
              ],
              [
                123.69292743096368,
                25.933183731887876
              ],
              [
                123.70666034111993,
                25.89180373645331
              ],
              [
                123.77052239610595,
                25.862153864933916
              ],
              [
                123.78356463799493,
                25.867092342647794
              ],
              [
                123.84673602471368,
                26.011580557960556
              ],
              [
                123.59817035088555,
                26.073273536860658
              ],
              [
                123.46564776787774,
                25.85597052893033
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                123.42073647111201,
                25.768584405842898
              ],
              [
                123.32735268204951,
                25.727146815850634
              ],
              [
                123.44476906388545,
                25.61636961439116
              ],
              [
                123.62673012345576,
                25.618846206576112
              ],
              [
                123.59926430314326,
                25.694976341011095
              ],
              [
                123.4585019740417,
                25.724672472765132
              ],
              [
                123.43858925431513,
                25.74570274758582
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                124.36897419758046,
                24.739111235679417
              ],
              [
                124.39644001789296,
                24.42065598101604
              ],
              [
                125.1297774202367,
                24.378134233316917
              ],
              [
                125.08171223468983,
                24.989555962629552
              ],
              [
                124.74868916340077,
                24.632425330689667
              ],
              [
                124.71504353351796,
                24.620565708518875
              ],
              [
                124.68277119465077,
                24.61994148670926
              ],
              [
                124.65805195636952,
                24.634921949852824
              ],
              [
                124.65942524738514,
                24.668621424400175
              ],
              [
                124.66560505695546,
                24.788991386408938
              ],
              [
                124.79057453937733,
                24.764677315353172
              ],
              [
                124.90867756672108,
                24.828881074822586
              ],
              [
                124.73588414579324,
                25.05258381101318
              ],
              [
                124.40492101102761,
                24.92562090821035
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.44021625129182,
                26.15866073064175
              ],
              [
                127.04882831183869,
                26.016821803911842
              ],
              [
                127.13534564582307,
                25.761079769878318
              ],
              [
                127.58303851691682,
                25.867397342758384
              ],
              [
                127.47317523566682,
                26.151264692222576
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.74992613784377,
                29.180289751344585
              ],
              [
                129.13788084975783,
                29.044112356599747
              ],
              [
                129.23675780288283,
                29.10592443533398
              ],
              [
                129.1859460353047,
                29.131718502755664
              ],
              [
                129.18045349645854,
                29.143412746088412
              ],
              [
                129.17701964370312,
                29.160504237826437
              ],
              [
                129.20482723479122,
                29.171599681790756
              ],
              [
                129.23607115737502,
                29.17129680890429
              ],
              [
                129.34936766616408,
                29.298922667714987
              ],
              [
                129.0870690821797,
                29.71364776395201
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                129.75084986981653,
                29.725552464920685
              ],
              [
                129.76183619794153,
                29.609208572461664
              ],
              [
                130.03924098309778,
                29.774436340099168
              ],
              [
                130.03718104657435,
                29.90844635159524
              ],
              [
                129.87719264325403,
                29.928086024437917
              ],
              [
                129.9465438395431,
                29.804827698037638
              ],
              [
                129.85521998700403,
                29.796485891309686
              ],
              [
                129.8111662305156,
                29.851347620724084
              ],
              [
                129.8722776807109,
                29.96978992017505
              ],
              [
                129.59487289555466,
                30.010230355482335
              ],
              [
                129.66747948309055,
                29.854813740355194
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.53881384333889,
                23.50662580586765
              ],
              [
                121.54842688044826,
                23.438604606369488
              ],
              [
                121.53057409724514,
                23.40836171390452
              ],
              [
                121.5175278325967,
                23.324527609421096
              ],
              [
                121.48937536677639,
                23.31317757119348
              ],
              [
                121.43375708064357,
                23.184476169280938
              ],
              [
                121.43719030818264,
                23.141548134918278
              ],
              [
                121.45023657283107,
                23.119447461636472
              ],
              [
                121.42071081599514,
                23.070181440803154
              ],
              [
                121.53007131538256,
                23.05142039312709
              ],
              [
                121.65840537002595,
                23.572789496205097
              ],
              [
                121.5622749989322,
                23.58034144101814
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.42339138224851,
                23.070984123350495
              ],
              [
                121.30872158244382,
                22.93762364679745
              ],
              [
                121.29122655549719,
                22.914540362150472
              ],
              [
                121.27305005603336,
                22.88702443169095
              ],
              [
                121.21468626540867,
                22.836406214496687
              ],
              [
                121.21005232377937,
                22.812835784186973
              ],
              [
                121.21734536167544,
                22.79756805945222
              ],
              [
                121.28231977038882,
                22.8247001898152
              ],
              [
                121.44230817370914,
                22.846216355237527
              ],
              [
                121.53054212146304,
                23.052345278213476
              ],
              [
                121.46993160860538,
                23.068936114134488
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.6011140564119,
                21.958394580822738
              ],
              [
                121.61227196965693,
                21.961021821757814
              ],
              [
                121.62205674440018,
                21.96046427378993
              ],
              [
                121.63098313600175,
                21.940562131557236
              ],
              [
                121.64025285035721,
                21.91763141149155
              ],
              [
                121.73123338014237,
                21.910305541909683
              ],
              [
                121.70308091432206,
                22.04879609747952
              ],
              [
                121.5513322570955,
                21.974314519898346
              ],
              [
                121.54927232057206,
                21.918905437299596
              ],
              [
                121.62960984498612,
                21.921453454718147
              ],
              [
                121.6230867126619,
                21.93801445624358
              ],
              [
                121.61398865968339,
                21.932600494709085
              ],
              [
                121.60531994372712,
                21.935466880485034
              ],
              [
                121.59836747438065,
                21.939288299604147
              ],
              [
                121.59287431031815,
                21.95202610571274
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                120.75888829405841,
                21.917606436410864
              ],
              [
                120.70224003966388,
                21.77675645995105
              ],
              [
                120.89175419982013,
                21.776437637588522
              ],
              [
                121.00505070860919,
                21.83030854891705
              ],
              [
                120.98651127989825,
                21.923976452573104
              ],
              [
                120.9991244046608,
                22.1259233392175
              ],
              [
                120.96929265234188,
                22.27340886962714
              ],
              [
                120.93804384882053,
                22.326831934676868
              ],
              [
                120.91399391258942,
                22.284989562109526
              ],
              [
                120.91811811305813,
                22.15798815896345
              ],
              [
                120.91882701796969,
                22.11054007489099
              ],
              [
                120.92438092637695,
                22.04806935018136
              ],
              [
                120.9197011790863,
                22.033841673529107
              ],
              [
                120.896122782121,
                22.008725547422582
              ],
              [
                120.87094330616094,
                21.978841953671274
              ],
              [
                120.869349237585,
                21.94643971112236
              ],
              [
                120.88539811777292,
                21.91920601117339
              ],
              [
                120.87973790343341,
                21.90518408533325
              ],
              [
                120.87115483458575,
                21.897220470073727
              ],
              [
                120.86394505675372,
                21.892442087346872
              ],
              [
                120.84815255993026,
                21.896583559622094
              ],
              [
                120.84334569151935,
                21.90231723510304
              ],
              [
                120.84454757700273,
                21.91020061481926
              ],
              [
                120.83613591368731,
                21.913625031598105
              ],
              [
                120.83302539318507,
                21.91780530498808
              ],
              [
                120.82751124451295,
                21.924056063061077
              ],
              [
                120.81888542854581,
                21.929550419911816
              ],
              [
                120.80712599750038,
                21.93034683303239
              ],
              [
                120.80154677452568,
                21.9350441099013
              ],
              [
                120.79253392394122,
                21.938148715811234
              ],
              [
                120.7844646251977,
                21.938865738341445
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.59912996628695,
                23.325495417533944
              ],
              [
                119.73645906784945,
                23.24728719073923
              ],
              [
                119.56617098191195,
                23.181657807855462
              ],
              [
                119.40137606003695,
                23.138728869973033
              ],
              [
                119.15418367722445,
                22.901109430508807
              ],
              [
                119.4041226420682,
                22.746686248359055
              ],
              [
                119.9644253764432,
                23.108417810909145
              ],
              [
                119.9204800639432,
                23.511999821326317
              ],
              [
                119.60321363314054,
                23.43653382541367
              ],
              [
                119.5414517436307,
                23.461619167783756
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.89378200477304,
                23.779455956746474
              ],
              [
                119.98023482041367,
                23.731663627415028
              ],
              [
                119.9877866558055,
                23.863547128057117
              ],
              [
                120.0448440164918,
                24.000447402600813
              ],
              [
                120.2261184305543,
                24.261130463319535
              ],
              [
                120.3854201883668,
                24.438790635083482
              ],
              [
                120.4952834696168,
                24.60371535491991
              ],
              [
                120.70677028602304,
                24.829306302731364
              ],
              [
                120.7919143289918,
                24.951388083110327
              ],
              [
                120.86607204383554,
                25.0808120091072
              ],
              [
                121.30552516883554,
                25.284625669066465
              ],
              [
                121.55821071571054,
                25.34421385879614
              ],
              [
                121.72300563758554,
                25.277175084994273
              ],
              [
                121.7806838602418,
                25.314423428089924
              ],
              [
                121.48130641883554,
                25.6081366882062
              ],
              [
                120.4788039774293,
                25.19380021498394
              ],
              [
                119.36094509071054,
                23.99256878389312
              ],
              [
                119.6603225321168,
                24.012641397692455
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.58872838086026,
                23.450660259113956
              ],
              [
                119.89222569531339,
                23.526230297670992
              ],
              [
                119.92381138867276,
                23.61182390816719
              ],
              [
                119.97187657421964,
                23.668436034288494
              ],
              [
                119.99110264843839,
                23.737595347143568
              ],
              [
                119.94853062695401,
                23.750165828064603
              ],
              [
                119.67387242382901,
                24.017628112504696
              ],
              [
                119.35389561718839,
                24.0050835821568
              ],
              [
                119.15202183789151,
                23.757707534214134
              ],
              [
                119.25776524609464,
                23.548892857256934
              ],
              [
                119.32368321484464,
                23.50734184965304
              ],
              [
                119.54615635937589,
                23.41789980097937
              ],
              [
                119.54203648632901,
                23.467037442378622
              ],
              [
                119.46238560742276,
                23.506082523451813
              ],
              [
                119.43629307812589,
                23.552669570846405
              ],
              [
                119.44727940625089,
                23.597981666030098
              ],
              [
                119.47337193554776,
                23.654599775985545
              ],
              [
                119.49671788281339,
                23.718737351695577
              ],
              [
                119.54615635937589,
                23.804205063166076
              ],
              [
                119.61894078320401,
                23.851941960988118
              ],
              [
                119.67799229687589,
                23.838125191884984
              ],
              [
                119.72193760937589,
                23.806717969285977
              ],
              [
                119.73567051953214,
                23.73130965180874
              ],
              [
                119.74803013867276,
                23.698619150374512
              ],
              [
                119.75352330273526,
                23.652083935379054
              ],
              [
                119.75077672070401,
                23.587913663116428
              ],
              [
                119.68760533398526,
                23.536303028417286
              ],
              [
                119.61207432812589,
                23.501045098263056
              ],
              [
                119.56400914257901,
                23.48089347191934
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.52091050168627,
                23.412086677885167
              ],
              [
                119.5387632848894,
                23.400113959909987
              ],
              [
                119.54665970822924,
                23.38467385694971
              ],
              [
                119.5497496130144,
                23.355994606713832
              ],
              [
                119.56142258664721,
                23.3459081218114
              ],
              [
                119.58373856565112,
                23.367656149092713
              ],
              [
                119.54562973996752,
                23.45744714436671
              ],
              [
                119.16179490110034,
                23.754109123488902
              ],
              [
                119.09450364133471,
                23.74405314030168
              ],
              [
                119.00885486433583,
                23.159961311083663
              ],
              [
                119.15117087231403,
                22.893984304327716
              ],
              [
                119.39424338207965,
                23.12467023825532
              ],
              [
                119.41278281079059,
                23.19032757881948
              ],
              [
                119.40282645092731,
                23.222513159911273
              ],
              [
                119.34276211647746,
                23.301279812177494
              ],
              [
                119.31529629616496,
                23.315153190918362
              ],
              [
                119.30430996803996,
                23.33406910158157
              ],
              [
                119.30568325905558,
                23.36306826590332
              ],
              [
                119.31392300514933,
                23.417267086699848
              ],
              [
                119.37503445534465,
                23.419787422209197
              ],
              [
                119.43545926003215,
                23.422937774067194
              ],
              [
                119.4876443186259,
                23.416006900938868
              ],
              [
                119.51167691139933,
                23.41285638402207
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.96974319849367,
                22.723978237436274
              ],
              [
                120.14621109400149,
                22.804389472439514
              ],
              [
                120.12080521021242,
                22.833503109801974
              ],
              [
                120.11050552759524,
                22.870835397352888
              ],
              [
                120.10528319686557,
                22.92755409765544
              ],
              [
                120.10047667831088,
                22.954744535154916
              ],
              [
                120.00915282577182,
                23.018697302650015
              ],
              [
                119.99404662459995,
                23.06798217767539
              ],
              [
                120.01224273055698,
                23.09451271371089
              ],
              [
                120.04245513290073,
                23.10651290255203
              ],
              [
                120.17295867789093,
                23.284186782617365
              ],
              [
                121.17891545621377,
                24.977308762516806
              ],
              [
                121.41336304176157,
                25.14816671303414
              ],
              [
                121.40871661813951,
                25.183803946855846
              ],
              [
                121.41729968698716,
                25.22045973455062
              ],
              [
                121.43412250192857,
                25.250583765814714
              ],
              [
                121.47120135935045,
                25.287840273708753
              ],
              [
                121.49454730661607,
                25.297152613383215
              ],
              [
                121.5345099838716,
                25.311823215472767
              ],
              [
                121.59630807957473,
                25.30747807196998
              ],
              [
                121.63647684178176,
                25.289785522057613
              ],
              [
                121.67561563572707,
                25.254703186867538
              ],
              [
                121.70205148777785,
                25.234829048894383
              ],
              [
                121.74084695896926,
                25.19072170432112
              ],
              [
                121.77105936131301,
                25.219610715500373
              ],
              [
                121.7484000595552,
                25.300960064553745
              ],
              [
                121.52215036473098,
                25.355886575263256
              ],
              [
                120.81903164407854,
                25.139625531474284
              ],
              [
                119.82476894876604,
                23.739403575090524
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                126.84799610595707,
                26.60522593672569
              ],
              [
                126.82945667724613,
                26.64635244770271
              ],
              [
                126.83391987304691,
                26.667216954823463
              ],
              [
                126.83220325927738,
                26.69390568726778
              ],
              [
                126.73126636962894,
                26.678261325926208
              ],
              [
                126.70448719482425,
                26.534294023944803
              ],
              [
                126.81503712158207,
                26.489747243995843
              ],
              [
                126.98360859375003,
                26.559478344871284
              ],
              [
                126.93039356689457,
                26.699119997193783
              ],
              [
                126.83769642333988,
                26.701266996623918
              ],
              [
                126.83803974609378,
                26.671205323310485
              ],
              [
                126.8316880910346,
                26.645583962624148
              ],
              [
                126.83563648681644,
                26.63622565073956
              ],
              [
                126.85348927001957,
                26.60092828338666
              ],
              [
                126.84387576049276,
                26.596016280868188
              ],
              [
                126.83821140747074,
                26.586345756601798
              ],
              [
                126.82722507934574,
                26.580205189521873
              ],
              [
                126.81194721679691,
                26.584043082538507
              ],
              [
                126.81040226440433,
                26.593253500899895
              ],
              [
                126.822590222168,
                26.602770154586647
              ],
              [
                126.84181629638675,
                26.60553290578624
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.15807952017863,
                23.21087097052159
              ],
              [
                116.03698577017863,
                22.003986016704378
              ],
              [
                118.45397795767862,
                23.48321373226546
              ],
              [
                120.89294280142862,
                25.78981606076657
              ],
              [
                123.18908537955362,
                29.18076335379089
              ],
              [
                121.15661467642862,
                29.257470700596308
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.753560310941,
                23.121591597559046
              ],
              [
                120.25565127279498,
                22.12835759393073
              ],
              [
                120.65316357967137,
                21.995223141359677
              ],
              [
                120.6795130558657,
                22.091830861552147
              ],
              [
                120.6859720428591,
                22.18652823801038
              ],
              [
                120.69283849793723,
                22.198131215759954
              ],
              [
                120.73053206541373,
                22.22270637295414
              ],
              [
                120.05487288572623,
                23.16279154375698
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                120.68420166025152,
                22.148006945173663
              ],
              [
                120.67807072432385,
                22.06601013441804
              ],
              [
                120.70073002608166,
                22.059407850416072
              ],
              [
                120.7042490843092,
                22.067044199161604
              ],
              [
                120.69884175093517,
                22.079611458132764
              ],
              [
                120.69703930647717,
                22.083031467998662
              ],
              [
                120.69901341231213,
                22.086610459401918
              ],
              [
                120.70502156050549,
                22.088598748761722
              ],
              [
                120.71163052351818,
                22.098380724592637
              ],
              [
                120.70914143355236,
                22.10347026498508
              ],
              [
                120.69867008955822,
                22.133844639567787
              ],
              [
                120.6895720365797,
                22.14942685581076
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.42632124714848,
                25.20530192856441
              ],
              [
                121.42872451540191,
                25.21431002113731
              ],
              [
                121.43730761677438,
                25.22813148725497
              ],
              [
                121.44966728271778,
                25.25328562941274
              ],
              [
                121.45619044000532,
                25.25499343803381
              ],
              [
                121.46134030110457,
                25.251888313856487
              ],
              [
                121.46649016211603,
                25.25359614209357
              ],
              [
                121.47713320803078,
                25.26927598736549
              ],
              [
                121.49626035999489,
                25.280411132698436
              ],
              [
                121.50553010987068,
                25.284602046916376
              ],
              [
                121.50604509588541,
                25.293604261732984
              ],
              [
                121.51188160508987,
                25.2954667055454
              ],
              [
                121.51754645233504,
                25.288482393954133
              ],
              [
                121.52939113279035,
                25.29065533408544
              ],
              [
                121.53351102158763,
                25.302140227550385
              ],
              [
                121.53814589655882,
                25.30338177249781
              ],
              [
                121.54604235024712,
                25.2967083190033
              ],
              [
                121.56263847383309,
                25.296106040496138
              ],
              [
                121.56881830713353,
                25.302624333981882
              ],
              [
                121.58237960799052,
                25.30169317063858
              ],
              [
                121.59267933012748,
                25.294709217666327
              ],
              [
                121.60349448051868,
                25.29059646381633
              ],
              [
                121.61242046417418,
                25.28384449111589
              ],
              [
                121.6266684176334,
                25.272823563570803
              ],
              [
                121.62529511667233,
                25.267079861222232
              ],
              [
                121.62498980033537,
                25.252998134924866
              ],
              [
                121.62704974464864,
                25.243371833262252
              ],
              [
                121.6260197723929,
                25.238713671593544
              ],
              [
                121.6447309338336,
                25.21712852618794
              ],
              [
                121.63923781577475,
                25.20781005752575
              ],
              [
                121.64421612695492,
                25.20051012099441
              ],
              [
                121.65503065540787,
                25.188549493820265
              ],
              [
                121.66908436253442,
                25.164875488511814
              ],
              [
                121.74235124881783,
                25.12631652952175
              ],
              [
                121.89177956769754,
                25.103215641473692
              ],
              [
                121.93209117804345,
                25.16074048899305
              ],
              [
                121.70172272963174,
                25.243527101192345
              ],
              [
                121.59345657553989,
                25.324347708487707
              ],
              [
                121.46402340011676,
                25.303864134646023
              ],
              [
                121.38746213557961,
                25.18617179448507
              ],
              [
                121.42248119024944,
                25.1864824790575
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.51888133301661,
                23.982718585758867
              ],
              [
                121.59977921675362,
                23.947793826675536
              ],
              [
                121.60081877294817,
                23.925026067980692
              ],
              [
                121.60305337590101,
                23.90002648848193
              ],
              [
                121.60631873938942,
                23.892761221828287
              ],
              [
                121.60636291389751,
                23.884183436137434
              ],
              [
                121.60458261266643,
                23.86513915963572
              ],
              [
                121.60074274750244,
                23.856455557975885
              ],
              [
                121.59426619053971,
                23.836222416861986
              ],
              [
                121.59053767816347,
                23.81928649442517
              ],
              [
                121.58224934595259,
                23.8110317374715
              ],
              [
                121.57235382100973,
                23.806588847715265
              ],
              [
                121.56520735567894,
                23.77324571327169
              ],
              [
                121.56782564766655,
                23.744889635710727
              ],
              [
                121.56906817472128,
                23.60589068509754
              ],
              [
                121.72195631379597,
                23.634784480778325
              ],
              [
                121.94185496582911,
                23.90741266895278
              ],
              [
                122.41976023926661,
                24.566088452488813
              ],
              [
                122.40053416504786,
                24.86797701883893
              ],
              [
                122.08486693617776,
                24.851051810626206
              ],
              [
                121.98942321059182,
                24.839057238556684
              ],
              [
                121.86759143024335,
                24.910154183304705
              ],
              [
                121.76282023952419,
                24.82148314357863
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.56144831110244,
                23.721899963522443
              ],
              [
                121.5568134539247,
                23.717813804060704
              ],
              [
                121.54531214166884,
                23.717813804060704
              ],
              [
                121.5458271257997,
                23.69690952457226
              ],
              [
                121.5619632952333,
                23.695809206573482
              ],
              [
                121.56385157037978,
                23.72221427817741
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                120.97983904097192,
                22.707605792009456
              ],
              [
                120.85486955855005,
                22.263496501956432
              ],
              [
                120.88766281532821,
                22.15100189422665
              ],
              [
                121.04163713667505,
                22.245702576097905
              ],
              [
                121.2256581327688,
                22.76206919380394
              ],
              [
                121.13502092573755,
                22.798788067611007
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                120.84415749993444,
                21.99162077707589
              ],
              [
                120.83593752509672,
                21.968747044498368
              ],
              [
                120.84058922873808,
                21.95201552273453
              ],
              [
                120.85183304892851,
                21.938481564855095
              ],
              [
                120.85088891135527,
                21.933306475899926
              ],
              [
                120.86333436118437,
                21.916983808728812
              ],
              [
                120.86346323742038,
                21.91176799135307
              ],
              [
                120.86891335593535,
                21.903685423628257
              ],
              [
                120.88401955710722,
                21.90543737769023
              ],
              [
                120.877496424783,
                21.925025942074846
              ],
              [
                120.8676258956082,
                21.990701754724128
              ],
              [
                120.86110276328398,
                21.997386825026396
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                120.89531492263212,
                22.156700703408216
              ],
              [
                120.8939416316165,
                22.147876748704093
              ],
              [
                120.90243886977568,
                22.142788811676855
              ],
              [
                120.89711736709013,
                22.13778019408939
              ],
              [
                120.88999319324033,
                22.13332796154089
              ],
              [
                120.88475774794951,
                22.127444388460205
              ],
              [
                120.88939260512724,
                22.105736729041332
              ],
              [
                120.9023530390872,
                22.107406667646934
              ],
              [
                120.91145109206572,
                22.15431590534476
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.41944150351382,
                23.543891163515653
              ],
              [
                119.47523145102359,
                23.504857288478746
              ],
              [
                119.48587445639468,
                23.552570339744786
              ],
              [
                119.47832135580875,
                23.55823521093828
              ],
              [
                119.46780250295521,
                23.551612816865664
              ],
              [
                119.463210642062,
                23.562155469158004
              ],
              [
                119.46505592092396,
                23.56538127678265
              ],
              [
                119.47501228078724,
                23.56955086856022
              ],
              [
                119.48050544484974,
                23.57851897586396
              ],
              [
                119.48531196340443,
                23.577732324293628
              ],
              [
                119.49698493703724,
                23.58056424788616
              ],
              [
                119.49286506399037,
                23.59141938897097
              ],
              [
                119.48582694753529,
                23.593307147929615
              ],
              [
                119.48582694753529,
                23.59739719914946
              ],
              [
                119.49801490529896,
                23.605891513377195
              ],
              [
                119.49303672536732,
                23.61784554184452
              ],
              [
                119.49629605372124,
                23.621618464665428
              ],
              [
                119.49777623803165,
                23.625215738861304
              ],
              [
                119.49848404945216,
                23.63235162348289
              ],
              [
                119.51337859853626,
                23.662899276365042
              ],
              [
                119.5520882390392,
                23.77911802693366
              ],
              [
                119.5301155827892,
                23.81744196302858
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.32855684654639,
                23.412300882836085
              ],
              [
                119.34366304771827,
                23.396232012440596
              ],
              [
                119.31722719566748,
                23.341709362695752
              ],
              [
                119.34606630699561,
                23.32027236002844
              ],
              [
                119.40271456139014,
                23.22944203942921
              ],
              [
                119.45215303795264,
                23.327866777665587
              ],
              [
                119.45249636070655,
                23.42619065518587
              ],
              [
                119.32581026451514,
                23.42209528386571
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                120.90405777927346,
                22.107261638105715
              ],
              [
                120.89744881626076,
                22.090243225404567
              ],
              [
                120.89212731357522,
                22.083721607570133
              ],
              [
                120.89204148288674,
                22.076245236110996
              ],
              [
                120.89418725009865,
                22.071189108154414
              ],
              [
                120.89350060459084,
                22.063791618486164
              ],
              [
                120.89504555698342,
                22.052813984912994
              ],
              [
                120.90266226062813,
                22.034601306738622
              ],
              [
                120.90034483203927,
                22.031896193402922
              ],
              [
                120.88604046618782,
                22.01190039853485
              ],
              [
                120.89531018054329,
                22.01078635607463
              ],
              [
                120.90191914355599,
                22.015322045622913
              ],
              [
                120.92140270984017,
                22.039191702535113
              ],
              [
                120.91860690146655,
                22.106349715610534
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                121.98858824429688,
                25.022445024011198
              ],
              [
                121.9910773342627,
                25.020033981360477
              ],
              [
                121.99682799039063,
                25.021745048765357
              ],
              [
                122.004638583042,
                25.017778446977765
              ],
              [
                122.01064673123535,
                25.010622684348593
              ],
              [
                122.01390829739746,
                25.016067324286293
              ],
              [
                121.9885024136084,
                25.03481059509372
              ],
              [
                121.938720614292,
                25.04406451527124
              ],
              [
                121.93279830814423,
                25.047641676691715
              ],
              [
                121.92790592224175,
                25.04515337842656
              ],
              [
                121.92043867764649,
                25.036210392542095
              ],
              [
                121.94902029690918,
                25.018556222135672
              ],
              [
                121.95185270962891,
                25.023844962527683
              ],
              [
                121.96137991604981,
                25.02454492579817
              ],
              [
                121.97545614895996,
                25.028277995819483
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "coordinates": []
    }),
    geoc1250 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_geo_clean1"),
    exclude_inMask = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[117.2734641479492, 23.250105532098665],
         [117.66456539672853, 23.551384201507183],
         [117.68911297363283, 23.531555051035323],
         [118.01707813491822, 23.70218035234202],
         [120.48669683593747, 26.37275155745829],
         [120.40325307965337, 26.156639339851143],
         [122.24788664550779, 28.876593697007134]]),
    mid_mask2 = 
    /* color: #98ff00 */
    /* shown: false */
    ee.Geometry({
      "type": "GeometryCollection",
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.87952797500459,
                22.71567495594833
              ],
              [
                115.96743691781973,
                22.24358344096169
              ],
              [
                117.1046331245107,
                22.51791405196238
              ],
              [
                122.11450153763838,
                26.448677742300287
              ],
              [
                122.73011306321965,
                28.99536176645155
              ],
              [
                122.34073119938354,
                28.962925439068
              ],
              [
                121.95895342792664,
                28.352640304037305
              ],
              [
                121.3796039514055,
                27.8846511138569
              ],
              [
                121.30322759585076,
                27.560264064149234
              ],
              [
                120.884133067178,
                27.021980065416724
              ],
              [
                120.63224716579019,
                26.756766277140965
              ],
              [
                120.54212500443967,
                26.35030806607848
              ],
              [
                120.44361958326789,
                26.147596584603086
              ],
              [
                120.12286920900866,
                25.95636354038368
              ],
              [
                119.98896500446047,
                25.733807039316584
              ],
              [
                119.99814483484371,
                25.456785848298264
              ],
              [
                119.56218519105703,
                24.923483966256846
              ],
              [
                119.02936573876647,
                24.76131059418708
              ],
              [
                118.71804894662351,
                24.398353185602524
              ],
              [
                118.31657327919608,
                24.059720075792217
              ],
              [
                118.03669254682657,
                23.692057220364788
              ],
              [
                117.27826676116509,
                23.217639840354412
              ],
              [
                116.8124317555967,
                23.04150732285412
              ],
              [
                116.14903956044157,
                22.690618580896558
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                120.72320806590133,
                22.222421615994637
              ],
              [
                120.08874761668258,
                23.129677267131434
              ],
              [
                119.86078130808883,
                23.111995455169104
              ],
              [
                119.95628891770544,
                22.722553739390957
              ],
              [
                120.26026338630672,
                22.12722517882739
              ],
              [
                120.6543979077911,
                21.996769791358115
              ],
              [
                120.6860145108914,
                22.18690821276722
              ],
              [
                120.69365344216581,
                22.197557528460294
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "coordinates": []
    }),
    temp_poly = 
    /* color: #0b4a8b */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[121.5684237019585, 29.397210647880048],
          [115.41608929417382, 23.146134103801806],
          [115.80788811590462, 22.751180045145855],
          [116.08254631902962, 22.78157120803635],
          [116.49178704168587, 22.920777323749938],
          [117.10427483465462, 23.35770926949296],
          [117.58492669012337, 23.662457914689604],
          [118.01064690496712, 24.21973583261599],
          [118.44872673895149, 24.407458881451372],
          [118.41851433660774, 24.507463992126155],
          [118.47893914129524, 24.588659609047788],
          [118.64814186324486, 24.72470024425642],
          [118.69758033980736, 24.805754715623085],
          [118.89121437301048, 24.962724739111042],
          [118.97223854293236, 24.99135644528673],
          [119.13428688277611, 24.996335191976332],
          [119.39591761810283, 25.258912756618596],
          [119.46320887786845, 25.293683467138],
          [119.51127406341533, 25.334650434488086],
          [119.63933208099083, 25.338374017063632],
          [119.67915752044395, 25.416542763597455],
          [119.61873271575645, 25.660647899027207],
          [119.66679790130333, 25.73304010809717],
          [119.64482524505333, 25.80229736030084],
          [119.72310283294395, 25.91722446210964],
          [119.80687358489708, 26.117152583734924],
          [119.8302195321627, 26.272416270898002],
          [119.9345896493502, 26.33027902231686],
          [119.97990825286583, 26.384422211527767],
          [119.88927104583458, 26.37211916757887],
          [119.83296611419395, 26.45206551885702],
          [119.96342876067833, 26.582320544100074],
          [120.1982615243502, 26.649847410660907],
          [120.2916453134127, 26.80071748483907],
          [120.3795359384127, 26.899961549772698],
          [120.42019545415491, 26.940654095071483],
          [120.43341211241444, 26.996032121743095],
          [120.44236109355168, 27.03945982112848],
          [120.4251723663207, 27.156216462332033],
          [120.47049096983632, 27.22095874083053],
          [120.48422387999257, 27.286883890911202],
          [120.5020766631957, 27.37228420626513],
          [120.5460219756957, 27.414959678013155],
          [120.62155298155507, 27.423492795269347],
          [120.72454980772694, 27.40764505282069],
          [120.8151870147582, 27.447869496639917],
          [120.86050561827382, 27.545195361351343],
          [120.89483789366444, 27.626745818851376],
          [120.93395645986028, 27.69971933625986],
          [120.98135522764882, 27.728902405776633],
          [121.04687267130285, 27.812745197796243],
          [121.09151092058896, 27.867977635524532],
          [121.02627330606848, 27.945060680594835],
          [121.0399956534653, 27.991755690485732],
          [121.09219127481848, 28.014188746030204],
          [121.22128063028723, 28.01782583751049],
          [121.26522594278723, 27.994788850453798],
          [121.3792090970841, 27.981449396239803],
          [121.45336681192785, 28.04449408730431],
          [121.45199352091223, 28.13172575369885],
          [121.46984630411535, 28.154733395296986],
          [121.63876109903723, 28.192261565170583],
          [121.75188467968488, 28.26364974861479],
          [121.73540518749738, 28.408698528821752],
          [121.72167227734113, 28.696995793487122],
          [121.79308341015363, 28.825809786002523],
          [121.87136099804425, 28.965278755339252]]]),
    gcmrn_ext = ee.Image("projects/coral_atlas/global_datasets/GCRMN_reefextent_final"),
    mid_mask_3 = ee.FeatureCollection("projects/coral_atlas/ne_asia/in_out/TAJ_mid_mask_3"),
    mid_mask_4 = ee.FeatureCollection("projects/coral_atlas/ne_asia/in_out/TAJ_mid_mask_4"),
    Geoclean3_rulesetmask1 = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[136.0674684867882, 20.42489707344355],
          [136.06695350265733, 20.424032399597785],
          [136.06800492859117, 20.422484018011723],
          [136.0698502883934, 20.421760094003012],
          [136.07230138085018, 20.421136712266573],
          [136.07442569038997, 20.420392672694845],
          [136.07612084648738, 20.41976928541928],
          [136.0779232909454, 20.419608410873753],
          [136.08151572665435, 20.418546503015957],
          [136.0855068536685, 20.418285079717094],
          [136.08952521289015, 20.417360039863464],
          [136.0936021705928, 20.41639477495855],
          [136.09875201190138, 20.415067525830825],
          [136.10237835848952, 20.414645216890342],
          [136.10364436114455, 20.415369174364724],
          [136.10523222888136, 20.416756750007234],
          [136.10609053576613, 20.417199162799662],
          [136.10776423419142, 20.418747597559086],
          [136.10870837176466, 20.421422129996103],
          [136.10877274478102, 20.423734658165838],
          [136.10802172625685, 20.426147693984035],
          [136.10744236910963, 20.42721343942148],
          [136.10600470507765, 20.427997662480973],
          [136.10143266133653, 20.428582664779203],
          [136.1003812354027, 20.428642989234934],
          [136.09978042058336, 20.42910547594296],
          [136.0989435713707, 20.429045151668596],
          [136.09821401051866, 20.428743529941915],
          [136.09739861897813, 20.428984827370584],
          [136.09611115865098, 20.428421799448262],
          [136.09323583058702, 20.428321258531],
          [136.09064858076633, 20.427621053111633],
          [136.08985464689792, 20.427862352300977],
          [136.08854572889865, 20.42741997016471],
          [136.08695786116184, 20.427500403375006],
          [136.0852412473923, 20.42733953691234],
          [136.08334877849686, 20.426836828132277],
          [136.08053782344925, 20.426796611358913],
          [136.0785637176143, 20.427037911841428],
          [136.07530215145218, 20.42699769512063],
          [136.0719547546016, 20.42661563574866],
          [136.0692725455867, 20.425831405644143]]]),
    Geoclean3_rulesetmask2 = 
    /* color: #98ff00 */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[121.37222550324368, 25.305947810749476],
          [120.67897092502703, 22.183841990083703],
          [120.68701354113409, 21.89499939859997],
          [120.75308941233952, 21.92163431949954],
          [120.73695324290593, 21.94798766510673],
          [120.76433323252995, 21.963431162969165],
          [120.78304432261784, 21.946713899663493],
          [120.78158520091374, 21.939628371135697],
          [120.82357750652208, 21.92547627184413],
          [120.83035813091173, 21.927705686675832],
          [120.84958420513048, 21.912638208862113],
          [120.85294975661863, 21.88876086030892],
          [121.69430154370556, 21.945758862341023],
          [123.92112967094886, 24.07261131945431],
          [122.97218557915198, 24.540691549428388],
          [121.56638359974025, 25.395824843817135]]]),
    lagoons_mask = 
    /* color: #ffc82d */
    /* shown: false */
    ee.Geometry({
      "type": "GeometryCollection",
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                124.05041667709447,
                24.3557595971117
              ],
              [
                124.04839965591528,
                24.3595518503608
              ],
              [
                124.04505225906469,
                24.361662952413237
              ],
              [
                124.04033038530513,
                24.36380749739582
              ],
              [
                124.0338072529809,
                24.36513666920022
              ],
              [
                124.02242892164766,
                24.36650491970637
              ],
              [
                124.01423209089815,
                24.36799043207168
              ],
              [
                124.00214283451858,
                24.369199939703964
              ],
              [
                123.9974650619966,
                24.36974722410265
              ],
              [
                123.99227230534377,
                24.369864499022853
              ],
              [
                123.99051277623,
                24.369239031525254
              ],
              [
                123.98533648289464,
                24.362871919527176
              ],
              [
                123.98469275273106,
                24.36412291439211
              ],
              [
                123.98349112309239,
                24.36705488513649
              ],
              [
                123.98108786381505,
                24.369595871481295
              ],
              [
                123.9777833823087,
                24.370885891166726
              ],
              [
                123.96967238224767,
                24.36940041280542
              ],
              [
                123.96357840336583,
                24.366742144827935
              ],
              [
                123.95885771549962,
                24.365178431688
              ],
              [
                123.95619696415685,
                24.361699100607687
              ],
              [
                123.95565596975565,
                24.360901936206677
              ],
              [
                123.95518390096903,
                24.35898629652536
              ],
              [
                123.94905356774397,
                24.36424010245919
              ],
              [
                123.95008353600569,
                24.36842302283125
              ],
              [
                123.95012645134993,
                24.36979123779183
              ],
              [
                123.945581902422,
                24.3730756975459
              ],
              [
                123.94335030452162,
                24.373662055627953
              ],
              [
                123.94184826747328,
                24.374482952375367
              ],
              [
                123.93953083888441,
                24.378352822406708
              ],
              [
                123.93545388118177,
                24.381753519504404
              ],
              [
                123.93296479121595,
                24.383238852751102
              ],
              [
                123.93090485469251,
                24.382457100586297
              ],
              [
                123.92944573298841,
                24.383277940232436
              ],
              [
                123.92708558533465,
                24.3858025726248
              ],
              [
                123.9237811038283,
                24.387209685796712
              ],
              [
                123.91923207733905,
                24.388030494578945
              ],
              [
                123.91751546356952,
                24.387561461641873
              ],
              [
                123.91468305084979,
                24.388968555230868
              ],
              [
                123.9115502307204,
                24.38912489799588
              ],
              [
                123.90961904022967,
                24.3911573363394
              ],
              [
                123.90779646483999,
                24.39267811023921
              ],
              [
                123.9073673113976,
                24.394358735486644
              ],
              [
                123.9035478457604,
                24.395296749159623
              ],
              [
                123.9006296023522,
                24.395961171297582
              ],
              [
                123.89912756530386,
                24.39959588937934
              ],
              [
                123.89968546477895,
                24.4013936682654
              ],
              [
                123.89801176635366,
                24.402722444908147
              ],
              [
                123.89483603088003,
                24.402878770652883
              ],
              [
                123.8929048403893,
                24.4020580583343
              ],
              [
                123.88761253500189,
                24.40149207666366
              ],
              [
                123.88409347677435,
                24.402273711067018
              ],
              [
                123.88023109579291,
                24.404931231853265
              ],
              [
                123.87540176474717,
                24.4069381849569
              ],
              [
                123.86862114035752,
                24.412174817220464
              ],
              [
                123.86664703452256,
                24.413034542057794
              ],
              [
                123.8650162514415,
                24.41291730719749
              ],
              [
                123.86258062317614,
                24.41342052245246
              ],
              [
                123.86086400940661,
                24.41342052245246
              ],
              [
                123.85717328980212,
                24.413068818620314
              ],
              [
                123.85687288239245,
                24.415530724866546
              ],
              [
                123.8555854220653,
                24.417054738002655
              ],
              [
                123.85554250672106,
                24.421470364460518
              ],
              [
                123.8535684008861,
                24.423736732193312
              ],
              [
                123.8497489352489,
                24.42619843032926
              ],
              [
                123.84752621071915,
                24.429316248032286
              ],
              [
                123.8424192847548,
                24.43337979814082
              ],
              [
                123.83920063393693,
                24.43466916648528
              ],
              [
                123.83808483498673,
                24.434239378501882
              ],
              [
                123.83641113656144,
                24.434708238047506
              ],
              [
                123.8337933005629,
                24.435656036074988
              ],
              [
                123.83113254922013,
                24.43663281385435
              ],
              [
                123.83731235879044,
                24.449056766883476
              ],
              [
                123.84031643288712,
                24.449916240356682
              ],
              [
                123.84134640114884,
                24.451641143078735
              ],
              [
                123.84143223183732,
                24.45543051797847
              ],
              [
                123.84040935897622,
                24.458514855191062
              ],
              [
                123.83858545684609,
                24.46257746404908
              ],
              [
                123.8359032478312,
                24.46792681091931
              ],
              [
                123.83354290389809,
                24.47128603423783
              ],
              [
                123.83088215255532,
                24.474449871907062
              ],
              [
                123.82776022561887,
                24.476471021421982
              ],
              [
                123.82445574411253,
                24.47772089061594
              ],
              [
                123.81497145303587,
                24.479478498169225
              ],
              [
                123.80801843033903,
                24.480123283463637
              ],
              [
                123.80467103348845,
                24.478717206589003
              ],
              [
                123.80381272660368,
                24.473405218845656
              ],
              [
                123.8031689964401,
                24.470397596981165
              ],
              [
                123.80205319748991,
                24.46613993149445
              ],
              [
                123.80209611283415,
                24.464968071691477
              ],
              [
                123.79057718203191,
                24.433310893101474
              ],
              [
                123.78903222963933,
                24.435303548802494
              ],
              [
                123.78748727724675,
                24.43686639398628
              ],
              [
                123.78735853121404,
                24.4413594659873
              ],
              [
                123.78589940950994,
                24.442570614518168
              ],
              [
                123.78190828249578,
                24.4414766744182
              ],
              [
                123.77651550699159,
                24.439405976096108
              ],
              [
                123.77162315774842,
                24.438116656186686
              ],
              [
                123.76660206247254,
                24.436944535737016
              ],
              [
                123.76355507303163,
                24.434600262150443
              ],
              [
                123.76231052804872,
                24.43319367707971
              ],
              [
                123.76256802011414,
                24.429911584239232
              ],
              [
                123.76351215768739,
                24.427879769680803
              ],
              [
                123.76483133224318,
                24.425656790019776
              ],
              [
                123.76646211532423,
                24.425070673256343
              ],
              [
                123.76629045394728,
                24.418115213132044
              ],
              [
                123.7647455015547,
                24.417138291960597
              ],
              [
                123.7623851576216,
                24.417138291960597
              ],
              [
                123.76006772903273,
                24.416200440521663
              ],
              [
                123.75895193008253,
                24.414246560974547
              ],
              [
                123.75895193008253,
                24.413738547338035
              ],
              [
                123.7566734239906,
                24.411388994664573
              ],
              [
                123.75439891074598,
                24.411310837084322
              ],
              [
                123.75186690543592,
                24.410412021433537
              ],
              [
                123.75006446097791,
                24.409317802439013
              ],
              [
                123.74976405356824,
                24.406973015516844
              ],
              [
                123.74856242392957,
                24.405058073896
              ],
              [
                123.74663123343885,
                24.40322126587185
              ],
              [
                123.74577292655408,
                24.401579840352777
              ],
              [
                123.74577292655408,
                24.400641873335214
              ],
              [
                123.74621340801191,
                24.39978336406194
              ],
              [
                123.74739357997846,
                24.39919712715411
              ],
              [
                123.74580571224165,
                24.396285443530946
              ],
              [
                123.74423930217695,
                24.397262526054188
              ],
              [
                123.74331662227583,
                24.397477483195104
              ],
              [
                123.74177166988325,
                24.397399317004375
              ],
              [
                123.74095627834272,
                24.396539485713994
              ],
              [
                123.7405914979167,
                24.394546217941688
              ],
              [
                123.74076315929365,
                24.39364728297062
              ],
              [
                123.74166438152265,
                24.392547164443002
              ],
              [
                123.7416000085063,
                24.39031932211687
              ],
              [
                123.7414927201457,
                24.388208698418307
              ],
              [
                123.73100843750277,
                24.3774163139133
              ],
              [
                123.73079386078157,
                24.378628076023038
              ],
              [
                123.72974243484774,
                24.381071109481407
              ],
              [
                123.72714605652132,
                24.38281052053051
              ],
              [
                123.72595660683598,
                24.38298641469733
              ],
              [
                123.72042052742924,
                24.38132518225088
              ],
              [
                123.71363224554064,
                24.379564480112418
              ],
              [
                123.71182980108263,
                24.378860882931807
              ],
              [
                123.70925488042833,
                24.374678307764334
              ],
              [
                123.70676579046251,
                24.371590149469505
              ],
              [
                123.70664944569673,
                24.37081997849895
              ],
              [
                123.70488991658296,
                24.368279016744655
              ],
              [
                123.70589842717256,
                24.366402581454082
              ],
              [
                123.70667090336885,
                24.36227823524025
              ],
              [
                123.70292020435848,
                24.350830144195776
              ],
              [
                123.69871450062313,
                24.349579017930747
              ],
              [
                123.69768453236141,
                24.34742861577538
              ],
              [
                123.69726931928956,
                24.34532134373972
              ],
              [
                123.69636809706056,
                24.342115168447535
              ],
              [
                123.69066035627687,
                24.343092669515958
              ],
              [
                123.69018828749024,
                24.343991963835258
              ],
              [
                123.68795668958985,
                24.345555938744738
              ],
              [
                123.68615424513185,
                24.34622062223208
              ],
              [
                123.68327891706788,
                24.345086748300073
              ],
              [
                123.68233477949464,
                24.34281896997732
              ],
              [
                123.68272101759278,
                24.33867430466888
              ],
              [
                123.6838375460661,
                24.334615275512096
              ],
              [
                123.68141282911664,
                24.33223000002499
              ],
              [
                123.68096519984546,
                24.330959995051696
              ],
              [
                123.68094374217334,
                24.329591360370916
              ],
              [
                123.6799996046001,
                24.327831665489732
              ],
              [
                123.67872048798371,
                24.323796582785018
              ],
              [
                123.67627431336213,
                24.321313337166952
              ],
              [
                123.67415000382233,
                24.320452988756266
              ],
              [
                123.672647966774,
                24.319338437815848
              ],
              [
                123.67311932534737,
                24.318253350973272
              ],
              [
                123.67256142587227,
                24.317979597777757
              ],
              [
                123.67069460839791,
                24.315222479070403
              ],
              [
                123.66638161630196,
                24.313971001152563
              ],
              [
                123.66415001840157,
                24.312797729387807
              ],
              [
                123.6619398781733,
                24.310607593051962
              ],
              [
                123.66110302896065,
                24.30894541076858
              ],
              [
                123.66129614800973,
                24.307732981717503
              ],
              [
                123.66334590896845,
                24.305164567914513
              ],
              [
                123.66390380844355,
                24.303991214688885
              ],
              [
                123.66579208359003,
                24.302856962922405
              ],
              [
                123.66716537460566,
                24.300666654954036
              ],
              [
                123.67085609421015,
                24.29413461921046
              ],
              [
                123.67494339767028,
                24.289027230635416
              ],
              [
                123.67951413903859,
                24.28390138204368
              ],
              [
                123.68015786920216,
                24.28264959520574
              ],
              [
                123.68217489038136,
                24.282766950745945
              ],
              [
                123.6908437899175,
                24.28061541527834
              ],
              [
                123.69389077935841,
                24.28296254307199
              ],
              [
                123.69698068414357,
                24.28304077991805
              ],
              [
                123.69893813166068,
                24.280979380090578
              ],
              [
                123.70404505762504,
                24.278984293079112
              ],
              [
                123.70846533808158,
                24.277810697845627
              ],
              [
                123.71391558679984,
                24.277145655733595
              ],
              [
                123.71631884607719,
                24.27710653550093
              ],
              [
                123.71885085138724,
                24.277967177836572
              ],
              [
                123.71996665033744,
                24.27882781434114
              ],
              [
                123.7204816344683,
                24.28062730818925
              ],
              [
                123.72142577204154,
                24.283541972620235
              ],
              [
                123.72327113184379,
                24.286084633843572
              ],
              [
                123.72314238581107,
                24.287649323136336
              ],
              [
                123.73816275629447,
                24.290935107886995
              ],
              [
                123.73975062403129,
                24.290465715271953
              ],
              [
                123.74030852350639,
                24.28890106068752
              ],
              [
                123.74318385157035,
                24.286671394587916
              ],
              [
                123.74455714258598,
                24.285028457671043
              ],
              [
                123.74907821703243,
                24.282036504634195
              ],
              [
                123.75555843401241,
                24.27847665119694
              ],
              [
                123.76156658220577,
                24.27757689222529
              ],
              [
                123.76529017221827,
                24.276112124094723
              ],
              [
                123.77232828867335,
                24.27415608179038
              ],
              [
                123.77752104532618,
                24.273491020546466
              ],
              [
                123.78034311813913,
                24.274312145699298
              ],
              [
                123.78261763138376,
                24.275446652510382
              ],
              [
                123.78652292770944,
                24.274898960831987
              ],
              [
                123.79270273727975,
                24.273255871630234
              ],
              [
                123.80072790665231,
                24.270360853240945
              ],
              [
                123.80450445694528,
                24.269187178346876
              ],
              [
                123.80624287099464,
                24.268815408260412
              ],
              [
                123.81242268056495,
                24.268854531045985
              ],
              [
                123.81881706685645,
                24.267837334706844
              ],
              [
                123.82276527852638,
                24.26771996537457
              ],
              [
                123.83174261351805,
                24.268879287802797
              ],
              [
                123.83397421141844,
                24.268566305241976
              ],
              [
                123.83667787810545,
                24.2672752440308
              ],
              [
                123.83895239135008,
                24.265710303766813
              ],
              [
                123.84096941252928,
                24.263714976984286
              ],
              [
                123.84251436492185,
                24.2613674936097
              ],
              [
                123.84573301573973,
                24.25855045633921
              ],
              [
                123.8483937670825,
                24.25710278790638
              ],
              [
                123.85414893579278,
                24.25314493970447
              ],
              [
                123.8575392479876,
                24.250132077707715
              ],
              [
                123.85925586175713,
                24.247862602064142
              ],
              [
                123.86191661309991,
                24.245123525812453
              ],
              [
                123.8641482110003,
                24.24387135702662
              ],
              [
                123.86655147027764,
                24.243049614563404
              ],
              [
                123.86882598352227,
                24.243519182335135
              ],
              [
                123.8722162957171,
                24.24441918238687
              ],
              [
                123.87386103795586,
                24.246394773961743
              ],
              [
                123.87695094274102,
                24.2472556242505
              ],
              [
                123.88119956182061,
                24.247216494818307
              ],
              [
                123.88553401158867,
                24.247568659274812
              ],
              [
                123.88980566105606,
                24.247583770200773
              ],
              [
                123.89225183567764,
                24.24684031084859
              ],
              [
                123.89401136479141,
                24.245275119062565
              ],
              [
                123.89577089390518,
                24.244766427585805
              ],
              [
                123.89748750767471,
                24.244883818107123
              ],
              [
                123.909246311996,
                24.221442696197578
              ],
              [
                123.9086884125209,
                24.21882046592995
              ],
              [
                123.91023336491348,
                24.216785264932426
              ],
              [
                123.91477177807819,
                24.21338982401211
              ],
              [
                123.91871998974811,
                24.211628519195102
              ],
              [
                123.92472813794147,
                24.20931921599307
              ],
              [
                123.92932007977497,
                24.207518713276475
              ],
              [
                123.93339528529809,
                24.205668903080923
              ],
              [
                123.93579854457543,
                24.204807771595668
              ],
              [
                123.93781556575463,
                24.205434049616468
              ],
              [
                123.93914594142602,
                24.20801741392364
              ],
              [
                123.93964109437493,
                24.212445446312383
              ],
              [
                123.93998441712884,
                24.21753356117092
              ],
              [
                123.94221601502923,
                24.221290807849506
              ],
              [
                123.94444761292962,
                24.22469571691449
              ],
              [
                123.94685087220697,
                24.22661338424262
              ],
              [
                123.94861040132074,
                24.228452752298434
              ],
              [
                123.95217237489251,
                24.229587668268188
              ],
              [
                123.9560776712182,
                24.230448632255225
              ],
              [
                123.95835218446283,
                24.2312313217363
              ],
              [
                123.96002588288812,
                24.232561882810234
              ],
              [
                123.9619936582222,
                24.235054885455742
              ],
              [
                123.9625515576973,
                24.23724632457215
              ],
              [
                123.96229406563187,
                24.23986817536325
              ],
              [
                123.9619936582222,
                24.240846464058915
              ],
              [
                123.98649831978226,
                24.24295954197298
              ],
              [
                123.9868845578804,
                24.241276908702307
              ],
              [
                123.98925702092238,
                24.237794178455403
              ],
              [
                123.99166028019972,
                24.235054885455742
              ],
              [
                123.99350564000197,
                24.233019943919622
              ],
              [
                123.99625222203322,
                24.22942684075326
              ],
              [
                123.99758259770461,
                24.22527847287814
              ],
              [
                123.99900819111294,
                24.220525785154067
              ],
              [
                124.00068188953823,
                24.217316457909792
              ],
              [
                124.00265599537319,
                24.215007257800416
              ],
              [
                124.00617317162263,
                24.213207693662113
              ],
              [
                124.00913433037508,
                24.21246403353501
              ],
              [
                124.012181319816,
                24.211876930368703
              ],
              [
                124.014884986503,
                24.212072631724716
              ],
              [
                124.01857058838237,
                24.213958800629957
              ],
              [
                124.0209523899876,
                24.21581792099728
              ],
              [
                124.02249734238018,
                24.217207351135624
              ],
              [
                124.02365605667461,
                24.218401074785067
              ],
              [
                124.02625243500103,
                24.220651506977923
              ],
              [
                124.03141012326998,
                24.22301463236655
              ],
              [
                124.03441419736666,
                24.22446268866584
              ],
              [
                124.03694620267672,
                24.22673258161979
              ],
              [
                124.03867719082957,
                24.22804374048467
              ],
              [
                124.03927800564891,
                24.229922222639008
              ],
              [
                124.0383767834199,
                24.232348554399753
              ],
              [
                124.03919217496043,
                24.234774839914408
              ],
              [
                124.04021703395667,
                24.238705805279757
              ],
              [
                124.03995954189124,
                24.24109283828834
              ],
              [
                124.03905831966223,
                24.24481025953857
              ],
              [
                124.0378996053678,
                24.24735369570561
              ],
              [
                124.09974080901881,
                24.249019742259346
              ],
              [
                124.1017945481375,
                24.248481874872393
              ],
              [
                124.105485267742,
                24.247777550040887
              ],
              [
                124.10887557993682,
                24.247660162189806
              ],
              [
                124.11200840006622,
                24.24789493778362
              ],
              [
                124.1205056382254,
                24.24992964144529
              ],
              [
                124.12273723612579,
                24.25188605657882
              ],
              [
                124.1243406627322,
                24.253007275217634
              ],
              [
                124.12605727650173,
                24.253281168520076
              ],
              [
                124.12738765217311,
                24.25445499027767
              ],
              [
                124.12944758869655,
                24.257389497267447
              ],
              [
                124.14017642475612,
                24.26048043805703
              ],
              [
                124.14164759361033,
                24.260299097171394
              ],
              [
                124.14426542960886,
                24.26108160302269
              ],
              [
                124.14581038200144,
                24.262216227951615
              ],
              [
                124.14962984763865,
                24.264915812068434
              ],
              [
                124.15117480003123,
                24.266324267977414
              ],
              [
                124.15208995506462,
                24.269414482404336
              ],
              [
                124.15342033073601,
                24.27062727743881
              ],
              [
                124.15359199211296,
                24.27356141109425
              ],
              [
                124.1532915847033,
                24.27602603100092
              ],
              [
                124.15346324608025,
                24.27762996430392
              ],
              [
                124.15284574841705,
                24.278545730650684
              ],
              [
                124.15082872723785,
                24.27846749103567
              ],
              [
                124.14962709759918,
                24.279406363235296
              ],
              [
                124.14666593884674,
                24.27944548275969
              ],
              [
                124.14473474835602,
                24.28081465852262
              ],
              [
                124.14344728802887,
                24.284609154213378
              ],
              [
                124.15615626206518,
                24.28916837285082
              ],
              [
                124.15899288704469,
                24.291497496956726
              ],
              [
                124.16096699287965,
                24.29493964118447
              ],
              [
                124.16303746074261,
                24.297778074428933
              ],
              [
                124.16411034434857,
                24.299459959702084
              ],
              [
                124.1640245136601,
                24.30102448412988
              ],
              [
                124.1649257358891,
                24.3023934271804
              ],
              [
                124.16681401103558,
                24.30560100745489
              ],
              [
                124.16711441844525,
                24.30790856253505
              ],
              [
                124.16642777293744,
                24.310450735636472
              ],
              [
                124.16505448192181,
                24.312210671782168
              ],
              [
                124.16277996867719,
                24.313148626935497
              ],
              [
                124.1612350162846,
                24.314478330436142
              ],
              [
                124.15981880992474,
                24.319288611933043
              ],
              [
                124.1608916935307,
                24.32073557147478
              ],
              [
                124.16308037608685,
                24.321126638786307
              ],
              [
                124.164367836414,
                24.32339480540302
              ],
              [
                124.1672860798222,
                24.32421602813618
              ],
              [
                124.17127720683636,
                24.32507635100709
              ],
              [
                124.1750108417851,
                24.3228473206251
              ],
              [
                124.1764699634892,
                24.322964638990857
              ],
              [
                124.18167642227174,
                24.32510024516835
              ],
              [
                124.18708375564576,
                24.32705550233431
              ],
              [
                124.1897015916443,
                24.32713371199354
              ],
              [
                124.19292024246216,
                24.328697895042488
              ],
              [
                124.19704011550904,
                24.33112234061374
              ],
              [
                124.19940345070299,
                24.33657861930703
              ],
              [
                124.19883250956721,
                24.33906750707324
              ],
              [
                124.20157909159846,
                24.339145709318075
              ],
              [
                124.20449733500666,
                24.33941941679475
              ],
              [
                124.20612811808772,
                24.341100749747064
              ],
              [
                124.2071151710052,
                24.34336855883792
              ],
              [
                124.20942440287261,
                24.34510344636706
              ],
              [
                124.21526088968902,
                24.345729033157784
              ],
              [
                124.21650543467193,
                24.34342216655306
              ],
              [
                124.21903743998199,
                24.343774064175133
              ],
              [
                124.22204151407867,
                24.34060695037557
              ],
              [
                124.22371521250396,
                24.339785833869648
              ],
              [
                124.22772332685733,
                24.33985629694617
              ],
              [
                124.23064157026553,
                24.33848775836849
              ],
              [
                124.23561975019717,
                24.337823034295713
              ],
              [
                124.24064084547305,
                24.337627526551646
              ],
              [
                124.2449325288887,
                24.33844865704901
              ],
              [
                124.249309894001,
                24.33926978222344
              ],
              [
                124.25106942311477,
                24.340716513626752
              ],
              [
                124.25291478291702,
                24.343101629319367
              ],
              [
                124.25484597340774,
                24.346307779636586
              ],
              [
                124.25664578449395,
                24.352248273754537
              ],
              [
                124.25750409137872,
                24.35783903052342
              ],
              [
                124.25854582144996,
                24.366972796341273
              ],
              [
                124.25940412833472,
                24.374083976943005
              ],
              [
                124.25901789023658,
                24.377523878117664
              ],
              [
                124.25906080558082,
                24.383504392584193
              ],
              [
                124.25845091914783,
                24.38837302838891
              ],
              [
                124.25905173396717,
                24.390952671434224
              ],
              [
                124.26231330012928,
                24.39533012700034
              ],
              [
                124.26540320491443,
                24.402755820786712
              ],
              [
                124.2662615117992,
                24.40744550771143
              ],
              [
                124.26497405147205,
                24.41440155584186
              ],
              [
                124.26548903560291,
                24.416355432989654
              ],
              [
                124.26703398799549,
                24.418543739485475
              ],
              [
                124.2659181890453,
                24.421898068480974
              ],
              [
                124.26025336360584,
                24.42799370300529
              ],
              [
                124.26171248530994,
                24.432604307821038
              ],
              [
                124.26445906734119,
                24.438621284305583
              ],
              [
                124.26810140812717,
                24.441016626725798
              ],
              [
                124.26827306950412,
                24.444610978809308
              ],
              [
                124.26380987370334,
                24.449220976010366
              ],
              [
                124.26165940785162,
                24.449575015988554
              ],
              [
                124.2588269951319,
                24.453208189833056
              ],
              [
                124.26200273060553,
                24.45738816346874
              ],
              [
                124.26444890522711,
                24.458677286233513
              ],
              [
                124.26791608970292,
                24.460884009693213
              ],
              [
                124.26868856589921,
                24.462915292293857
              ],
              [
                124.27122057120927,
                24.471486027574038
              ],
              [
                124.27233637015946,
                24.473009364328195
              ],
              [
                124.27602708976396,
                24.476641862195
              ],
              [
                124.27958906333573,
                24.479102526993678
              ],
              [
                124.28555429618486,
                24.480703886177363
              ],
              [
                124.2890733544124,
                24.48019614034979
              ],
              [
                124.2929111957909,
                24.479549633850173
              ],
              [
                124.29488530162585,
                24.48017455471141
              ],
              [
                124.29630150798572,
                24.482439866818133
              ],
              [
                124.29608693126453,
                24.485290977536287
              ],
              [
                124.29454197887195,
                24.49091489691398
              ],
              [
                124.29286828044665,
                24.49595277782966
              ],
              [
                124.29209580425037,
                24.497827286651116
              ],
              [
                124.29643025401843,
                24.507442690866082
              ],
              [
                124.29963507311497,
                24.511867788498567
              ],
              [
                124.30233873980198,
                24.5147572787162
              ],
              [
                124.30620112078343,
                24.517373381457656
              ],
              [
                124.30963434832249,
                24.519559932997055
              ],
              [
                124.31115113727957,
                24.52105889337641
              ],
              [
                124.31222402088552,
                24.52328442483152
              ],
              [
                124.31235276691824,
                24.52675929859069
              ],
              [
                124.31179486744314,
                24.531873825481295
              ],
              [
                124.31233836941288,
                24.535157289448108
              ],
              [
                124.31607200436162,
                24.544019141374285
              ],
              [
                124.31797840267171,
                24.547386750402342
              ],
              [
                124.31759216457357,
                24.549728922675673
              ],
              [
                124.31978084712972,
                24.551407452569872
              ],
              [
                124.32428695827474,
                24.554256998394063
              ],
              [
                124.3248762108191,
                24.555836111459637
              ],
              [
                124.33200015796265,
                24.55958331364449
              ],
              [
                124.33925285113892,
                24.562315577970452
              ],
              [
                124.3415399265515,
                24.56403297078245
              ],
              [
                124.34793431284301,
                24.572736667971576
              ],
              [
                124.35111004831664,
                24.57898110066377
              ],
              [
                124.35329461381201,
                24.584646617521315
              ],
              [
                124.3535091905332,
                24.594831719504
              ],
              [
                124.35253619808768,
                24.59968540977539
              ],
              [
                124.35107707638358,
                24.602924050999206
              ],
              [
                124.34983253140066,
                24.605148129556607
              ],
              [
                124.34708594936941,
                24.609010908874698
              ],
              [
                124.34489726681326,
                24.611039795688278
              ],
              [
                124.34186717848877,
                24.61292639359994
              ],
              [
                124.34002181868652,
                24.613901793525624
              ],
              [
                124.33474323134521,
                24.614955216900874
              ],
              [
                124.32727596144775,
                24.61659385784731
              ],
              [
                124.31809207778076,
                24.61803740470044
              ],
              [
                124.31586047988037,
                24.616866962584158
              ],
              [
                124.3141009507666,
                24.615384386843168
              ],
              [
                124.31217125402185,
                24.613487931379428
              ],
              [
                124.30865219579431,
                24.607713433934514
              ],
              [
                124.30697849736902,
                24.603967671440213
              ],
              [
                124.30157700885658,
                24.594603714745983
              ],
              [
                124.29908791889076,
                24.59077951375988
              ],
              [
                124.29934541095619,
                24.589218581827247
              ],
              [
                124.2956418257958,
                24.586280082893726
              ],
              [
                124.2892474395043,
                24.57941159005327
              ],
              [
                124.28658668816152,
                24.576874835526493
              ],
              [
                124.28311445559669,
                24.57150669579333
              ],
              [
                124.28517439212013,
                24.568852691608942
              ],
              [
                124.28351767672501,
                24.564519882982342
              ],
              [
                124.28068526400529,
                24.560382503708126
              ],
              [
                124.28087938198686,
                24.55549516233448
              ],
              [
                124.28127673464715,
                24.555003500372173
              ],
              [
                124.28181899441488,
                24.554113747035064
              ],
              [
                124.28197591527875,
                24.553061984878557
              ],
              [
                124.28505113725649,
                24.552166184341225
              ],
              [
                124.2868008853378,
                24.549580499930364
              ],
              [
                124.28992383073384,
                24.54730707193766
              ],
              [
                124.2887551882091,
                24.54507233899879
              ],
              [
                124.2887452658679,
                24.542408204135562
              ],
              [
                124.2878455738799,
                24.540808092909778
              ],
              [
                124.28514348448164,
                24.539129883053736
              ],
              [
                124.28441687665058,
                24.535461227005836
              ],
              [
                124.28300357502737,
                24.53030901382202
              ],
              [
                124.2738123692327,
                24.527989824061898
              ],
              [
                124.2627328845771,
                24.53035502572624
              ],
              [
                124.2520747391544,
                24.534303617393913
              ],
              [
                124.24927028586504,
                24.5322005997047
              ],
              [
                124.24809667116486,
                24.530800298226872
              ],
              [
                124.24374716994546,
                24.519576251569067
              ],
              [
                124.24071386493645,
                24.51516578834707
              ],
              [
                124.23241736710271,
                24.50915508269522
              ],
              [
                124.22715545339057,
                24.504708197227373
              ],
              [
                124.22512985939919,
                24.5012811929431
              ],
              [
                124.21842045562302,
                24.49442643642557
              ],
              [
                124.21744842798421,
                24.489855362352046
              ],
              [
                124.21164970127735,
                24.465951870745
              ],
              [
                124.2087194318371,
                24.460453739876826
              ],
              [
                124.20631027409432,
                24.45930621531612
              ],
              [
                124.20166954551175,
                24.459486779183404
              ],
              [
                124.2002295790566,
                24.457591939041475
              ],
              [
                124.19187932250473,
                24.45973832174043
              ],
              [
                124.18897923615411,
                24.45891564098198
              ],
              [
                124.18655361510278,
                24.458475041324434
              ],
              [
                124.18438552355305,
                24.456862478569185
              ],
              [
                124.18262438044513,
                24.45269974770962
              ],
              [
                124.17961728187218,
                24.449218314079424
              ],
              [
                124.17536844630489,
                24.450875434557474
              ],
              [
                124.17232117609952,
                24.45143860187144
              ],
              [
                124.16991671360513,
                24.45416688185885
              ],
              [
                124.16957084839993,
                24.456498250950993
              ],
              [
                124.16802061665017,
                24.45811392694429
              ],
              [
                124.1610572313766,
                24.45845412255612
              ],
              [
                124.15768738523788,
                24.458431103744548
              ],
              [
                124.153006688837,
                24.463541459659627
              ],
              [
                124.14870934767772,
                24.46959719120749
              ],
              [
                124.14758757488103,
                24.47233278302272
              ],
              [
                124.14457126985168,
                24.477960267131014
              ],
              [
                124.13896720126066,
                24.48296577381296
              ],
              [
                124.13358859931031,
                24.485850105242562
              ],
              [
                124.12769499265893,
                24.48631294031626
              ],
              [
                124.12637913487488,
                24.485129582191075
              ],
              [
                124.1245199222772,
                24.48393450012445
              ],
              [
                124.11848401731743,
                24.485293532497554
              ],
              [
                124.11461567010464,
                24.484376467719972
              ],
              [
                124.1109191354952,
                24.47939735932914
              ],
              [
                124.11056430459541,
                24.476313121848545
              ],
              [
                124.11122796645655,
                24.474831668268212
              ],
              [
                124.11064686283393,
                24.468897063814044
              ],
              [
                124.10800599654137,
                24.461243754339375
              ],
              [
                124.10117942106218,
                24.455741278346903
              ],
              [
                124.08259415605492,
                24.453754777161823
              ],
              [
                124.07806484627194,
                24.453717384482594
              ],
              [
                124.07691621338098,
                24.45272196703966
              ],
              [
                124.07702861256526,
                24.449177094171045
              ],
              [
                124.07468159750088,
                24.441974259686248
              ],
              [
                124.07050417768178,
                24.43540351524568
              ],
              [
                124.06910222827929,
                24.431375745723667
              ],
              [
                124.06993189133051,
                24.428989019047442
              ],
              [
                124.07546653627665,
                24.425321892102236
              ],
              [
                124.08275844743855,
                24.415800338679663
              ],
              [
                124.10291827615981,
                24.433298141911305
              ],
              [
                124.1104916323069,
                24.43126366217426
              ],
              [
                124.11926646577062,
                24.43094793285872
              ],
              [
                124.12675329620284,
                24.425161574333938
              ],
              [
                124.13355264894207,
                24.41624890009893
              ],
              [
                124.13165912695627,
                24.405729939840423
              ],
              [
                124.1388630677546,
                24.388176339986586
              ],
              [
                124.12761597514735,
                24.38039458286955
              ],
              [
                124.11310844004204,
                24.37714594740744
              ],
              [
                124.1089368896679,
                24.36300486346829
              ],
              [
                124.09194153758892,
                24.342375449618313
              ],
              [
                124.08524360547375,
                24.34629565559422
              ],
              [
                124.07476799119077,
                24.341158315385595
              ],
              [
                124.06854068487071,
                24.33762383514461
              ],
              [
                124.05952612612593,
                24.343227143549765
              ],
              [
                124.05325826018982,
                24.347892013492206
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                124.68430988155386,
                24.779688742366368
              ],
              [
                124.67624179683706,
                24.77688330540948
              ],
              [
                124.67435352169058,
                24.772363301390957
              ],
              [
                124.67555515132925,
                24.760439052965005
              ],
              [
                124.68302242122671,
                24.750930008404577
              ],
              [
                124.68684188686392,
                24.75054027794067
              ],
              [
                124.68997470699331,
                24.74738341614181
              ],
              [
                124.69349376522085,
                24.745980340716862
              ],
              [
                124.696583670006,
                24.743369019289737
              ],
              [
                124.70194808803579,
                24.739705281842912
              ],
              [
                124.70709973047379,
                24.738853507509997
              ],
              [
                124.71044712732437,
                24.739827922980194
              ],
              [
                124.70950298975113,
                24.74216648895329
              ],
              [
                124.7094784791607,
                24.744499307253864
              ],
              [
                124.7094784791607,
                24.74734444981584
              ],
              [
                124.70741854263726,
                24.750735151102724
              ],
              [
                124.70583067490044,
                24.755567714890873
              ],
              [
                124.70269785477105,
                24.760010389971605
              ],
              [
                124.70119686075948,
                24.762008157360043
              ],
              [
                124.69857902476095,
                24.76243682123614
              ],
              [
                124.6976348871877,
                24.764541149716674
              ],
              [
                124.69444693330095,
                24.77270753234944
              ],
              [
                124.69139994386003,
                24.77726648856319
              ],
              [
                124.68921126130388,
                24.778980924501216
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                124.68155633537287,
                24.674343890539472
              ],
              [
                124.67786561576838,
                24.67255001714133
              ],
              [
                124.67280160514827,
                24.667870225967764
              ],
              [
                124.67091333000178,
                24.665530264546174
              ],
              [
                124.6697891452889,
                24.663417537508998
              ],
              [
                124.66914541512533,
                24.660648479584353
              ],
              [
                124.66927416115804,
                24.658932412849655
              ],
              [
                124.67103369027181,
                24.65263242811871
              ],
              [
                124.67219240456625,
                24.648107910747623
              ],
              [
                124.67339403420492,
                24.64307614285677
              ],
              [
                124.67811472207113,
                24.636366803657186
              ],
              [
                124.6836937168221,
                24.634494365614508
              ],
              [
                124.69416506081625,
                24.63223179887441
              ],
              [
                124.70575220376058,
                24.63199773790785
              ],
              [
                124.72060091286703,
                24.638395246535847
              ],
              [
                124.73175890236898,
                24.646274654450618
              ],
              [
                124.73304636269613,
                24.65306146866833
              ],
              [
                124.73287470131918,
                24.663123996836955
              ],
              [
                124.73193056374593,
                24.671859797366828
              ],
              [
                124.72969896584554,
                24.675369544947284
              ],
              [
                124.71931345253988,
                24.680361015816157
              ],
              [
                124.71424944191976,
                24.681764830997004
              ],
              [
                124.70867044716879,
                24.681920809485824
              ],
              [
                124.70403558999105,
                24.682466732660007
              ],
              [
                124.69888574868246,
                24.682856676320792
              ],
              [
                124.69571001320882,
                24.681764830997004
              ],
              [
                124.693220923243,
                24.681920809485824
              ],
              [
                124.68789942055746,
                24.679425130247843
              ],
              [
                124.68352205544515,
                24.675603524607517
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "coordinates": []
    }),
    ben1 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_benthic_clean1"),
    ben2 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_benthic_clean2"),
    PortHarborMask = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry({
      "type": "GeometryCollection",
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.8784451560974,
                26.645441786690416
              ],
              [
                127.87829495239257,
                26.644252692275526
              ],
              [
                127.87670708465575,
                26.641164824763162
              ],
              [
                127.88039780426024,
                26.64058943649577
              ],
              [
                127.8800115661621,
                26.645997971763187
              ],
              [
                127.87927127456659,
                26.64632401183621
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.88177084655759,
                26.678896653619564
              ],
              [
                127.88239311904904,
                26.677132703721465
              ],
              [
                127.88314413757321,
                26.675828897128664
              ],
              [
                127.88376641006467,
                26.6759631132015
              ],
              [
                127.8845818016052,
                26.675541290726407
              ],
              [
                127.88505387039181,
                26.67471681502003
              ],
              [
                127.88576197357175,
                26.674352509902203
              ],
              [
                127.88692068786618,
                26.675330378903784
              ],
              [
                127.88413119049069,
                26.679663579846654
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.89919265872193,
                26.703437074546397
              ],
              [
                127.89867767459107,
                26.70119426871049
              ],
              [
                127.90144571429444,
                26.700887556787766
              ],
              [
                127.90163883334351,
                26.703264552588372
              ],
              [
                127.89932140475464,
                26.70362876530439
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.02160712735272,
                26.694718825741177
              ],
              [
                128.0123803283415,
                26.678384339069922
              ],
              [
                128.0129382278166,
                26.678384339069922
              ],
              [
                128.02220794217206,
                26.69487219010941
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.99975661903764,
                26.6895169640769
              ],
              [
                128.00124792724992,
                26.69258435224135
              ],
              [
                128.00053982407,
                26.692114663781794
              ],
              [
                127.99945621162797,
                26.692354300992825
              ],
              [
                127.99918799072648,
                26.69229678810816
              ],
              [
                127.99826531082536,
                26.692565181321704
              ],
              [
                127.99772886902238,
                26.692507668543442
              ],
              [
                127.99689201980974,
                26.6905330455508
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.02222514857704,
                26.67270489589956
              ],
              [
                128.0227401327079,
                26.671170944689564
              ],
              [
                128.0253794226415,
                26.671391455948235
              ],
              [
                128.02514339198524,
                26.671880399688398
              ],
              [
                128.02467132319862,
                26.673337644763606
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.1030841766851,
                26.67552478446883
              ],
              [
                128.10295543065237,
                26.67284042268295
              ],
              [
                128.10407122960257,
                26.671248949792297
              ],
              [
                128.10554108065494,
                26.670539492871235
              ],
              [
                128.10559472432303,
                26.671095553641567
              ],
              [
                128.10595950474905,
                26.67535222025434
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.17548479277312,
                26.747382579199915
              ],
              [
                128.17923988539397,
                26.747555034284183
              ],
              [
                128.17930425841033,
                26.749107118270093
              ],
              [
                128.17908968168913,
                26.750026861743674
              ],
              [
                128.1782528324765,
                26.750620858782028
              ],
              [
                128.17505563933074,
                26.748608920781454
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.28914404215428,
                26.845268474703
              ],
              [
                128.2921373874149,
                26.845220611782988
              ],
              [
                128.29221785368534,
                26.845526934121455
              ],
              [
                128.28912258448216,
                26.845550865519225
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.293362425432,
                26.846442524039958
              ],
              [
                128.29471962319354,
                26.84548527172241
              ],
              [
                128.2949985729311,
                26.844915702752438
              ],
              [
                128.29592661725025,
                26.844633310351767
              ],
              [
                128.296243117914,
                26.844987497318257
              ],
              [
                128.29553501473407,
                26.845772448267613
              ],
              [
                128.29504148827533,
                26.84600697523912
              ],
              [
                128.293539451227,
                26.84657653871844
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.3175711753546,
                26.743450293799356
              ],
              [
                128.31772137905944,
                26.740499253097756
              ],
              [
                128.32016755368102,
                26.739886040225034
              ],
              [
                128.32454491879332,
                26.742300546788368
              ],
              [
                128.32480241085875,
                26.74295207152196
              ],
              [
                128.32053233410704,
                26.743086208503712
              ],
              [
                128.31898738171446,
                26.743354481992473
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.13574863014625,
                26.600884731747016
              ],
              [
                128.13531947670387,
                26.598543976754083
              ],
              [
                128.13763690529274,
                26.59877421707353
              ],
              [
                128.13864541588234,
                26.600424259138563
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.06074024329013,
                26.551855934803502
              ],
              [
                128.0620706189615,
                26.549264643312696
              ],
              [
                128.06346536764926,
                26.549475787773687
              ],
              [
                128.06387306341952,
                26.550032439489097
              ],
              [
                128.0643022168619,
                26.551663989293942
              ],
              [
                128.06404472479647,
                26.552700491228162
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.03310008332136,
                26.52025855244218
              ],
              [
                128.03387255951765,
                26.517301741843436
              ],
              [
                128.03464503571394,
                26.51661052838604
              ],
              [
                128.03543896958234,
                26.517704947772177
              ],
              [
                128.03475232407453,
                26.52016255329401
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.04043182034232,
                26.521070789401957
              ],
              [
                128.04038890499808,
                26.518882004359863
              ],
              [
                128.04259904522635,
                26.51652037370363
              ],
              [
                128.04292091030814,
                26.516616375896863
              ],
              [
                128.0424273838494,
                26.51755719314347
              ],
              [
                128.0409682621453,
                26.519016404643757
              ],
              [
                128.04094680447318,
                26.520955591229484
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.04865010876395,
                26.520782793754
              ],
              [
                128.04957278866507,
                26.518862804306462
              ],
              [
                128.04739483494498,
                26.517825996655287
              ],
              [
                128.04747530121543,
                26.51763399421107
              ],
              [
                128.05022188324668,
                26.518810004143045
              ],
              [
                128.0502352943801,
                26.51894680453643
              ],
              [
                128.04998048443534,
                26.518978004578685
              ],
              [
                128.04884322781302,
                26.520974790932897
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.95601368316953,
                26.47434745864641
              ],
              [
                127.95603514084165,
                26.471389466726862
              ],
              [
                127.95783758529966,
                26.471754417894346
              ],
              [
                127.95803070434873,
                26.474270628649453
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.9141483134802,
                26.44806778504415
              ],
              [
                127.91451309390622,
                26.444148495192564
              ],
              [
                127.91698072619992,
                26.44341841666326
              ],
              [
                127.91946981616574,
                26.444936206311244
              ],
              [
                127.91771028705197,
                26.447952513716654
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.82888303054841,
                26.43059294214094
              ],
              [
                127.82690892471345,
                26.42555855664875
              ],
              [
                127.83283124221833,
                26.423560113666984
              ],
              [
                127.83330331100495,
                26.42598129976379
              ],
              [
                127.83265958084138,
                26.429171038746855
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.84146491978449,
                26.4300188273094
              ],
              [
                127.85249416325372,
                26.423235772322393
              ],
              [
                127.8531378934173,
                26.423274204352957
              ],
              [
                127.8524727055816,
                26.423946762814303
              ],
              [
                127.85137836430353,
                26.42463853313888
              ],
              [
                127.84796659443658,
                26.426425587266593
              ],
              [
                127.84157220814508,
                26.430326265106157
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.95418223806419,
                26.34059588284374
              ],
              [
                127.95680007406273,
                26.328672810821637
              ],
              [
                127.95177897878685,
                26.329172835286126
              ],
              [
                127.95152148672142,
                26.326595763008488
              ],
              [
                127.95770129629173,
                26.32763429157239
              ],
              [
                127.95714339681663,
                26.329018981834764
              ],
              [
                127.95528999025086,
                26.33689048821686
              ],
              [
                127.9574572151349,
                26.335794350993876
              ],
              [
                127.95820823365906,
                26.335198201830377
              ],
              [
                127.95968881303529,
                26.33629434469899
              ],
              [
                127.96108356172303,
                26.339563481078198
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.92104888036789,
                26.305940072098664
              ],
              [
                127.92298007085861,
                26.306401723806193
              ],
              [
                127.92405295446457,
                26.308556074126678
              ],
              [
                127.9222934253508,
                26.3116336479678
              ],
              [
                127.9197185046965,
                26.311095078446037
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.81067360906518,
                26.29819510564999
              ],
              [
                127.8085707571975,
                26.294963276298958
              ],
              [
                127.812261476802,
                26.290346220969784
              ],
              [
                127.81689633397973,
                26.292577820664405
              ],
              [
                127.81427849798119,
                26.298233579266334
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.81215556900706,
                26.274380098233735
              ],
              [
                127.81427987854686,
                26.26778032953116
              ],
              [
                127.81458028595652,
                26.26797274792325
              ],
              [
                127.81228431503978,
                26.274764912818842
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.93231552384619,
                26.245811728322924
              ],
              [
                127.93220823548559,
                26.244541518716552
              ],
              [
                127.9337961032224,
                26.243117327799446
              ],
              [
                127.93667143128637,
                26.24390640870695
              ],
              [
                127.93843096040014,
                26.242636178275266
              ],
              [
                127.93963259003881,
                26.24348300010565
              ],
              [
                127.93808763764623,
                26.24461850151214
              ],
              [
                127.93469732545141,
                26.247255131477015
              ],
              [
                127.93325966141943,
                26.246177392150987
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.76448965590981,
                26.210457119244285
              ],
              [
                127.7597689680436,
                26.201870702009575
              ],
              [
                127.76856661361245,
                26.199906903257894
              ],
              [
                127.77290106338052,
                26.202294262103827
              ],
              [
                127.7696394972184,
                26.20907101404056
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.77360094513982,
                26.18932530282858
              ],
              [
                127.77544630494207,
                26.188709146299978
              ],
              [
                127.77712000336736,
                26.19105822559296
              ],
              [
                127.77557505097478,
                26.192406036586807
              ],
              [
                127.77385843720525,
                26.19125077097547
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.77677668061345,
                26.183356149331
              ],
              [
                127.77510298218816,
                26.181584599771554
              ],
              [
                127.7766050192365,
                26.17815696003449
              ],
              [
                127.77845037903874,
                26.17885019867552
              ],
              [
                127.7800811621198,
                26.18050625207139
              ],
              [
                127.77956617798894,
                26.182085257811945
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.79437945360417,
                26.183339579148523
              ],
              [
                127.795430879538,
                26.18539993472563
              ],
              [
                127.79457257265324,
                26.186054619524413
              ],
              [
                127.79208348268742,
                26.184860779776294
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.79201910967106,
                26.182376783679064
              ],
              [
                127.79219077104801,
                26.181587285458182
              ],
              [
                127.79289887422794,
                26.181664309910314
              ],
              [
                127.79257700914616,
                26.182415295650554
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.8098089085255,
                26.191591624531867
              ],
              [
                127.81040972334483,
                26.189858709702456
              ],
              [
                127.82137459379771,
                26.188337574329136
              ],
              [
                127.82120293242076,
                26.19163013345748
              ],
              [
                127.81403606993297,
                26.191591624531867
              ],
              [
                127.81176155668834,
                26.19238105496258
              ],
              [
                127.81141823393443,
                26.191514606642418
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.82588644775987,
                26.18094731430911
              ],
              [
                127.82515688690782,
                26.17863654438336
              ],
              [
                127.82738848480821,
                26.17828992494286
              ],
              [
                127.8278176382506,
                26.18010003732283
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.88306359120308,
                26.159923933772255
              ],
              [
                127.88370732136666,
                26.15772830757671
              ],
              [
                127.88503769703804,
                26.157227544937744
              ],
              [
                127.88675431080758,
                26.16015504991512
              ],
              [
                127.88538101979195,
                26.160809876499748
              ],
              [
                127.88482312031685,
                26.160174309573005
              ],
              [
                127.88394335575997,
                26.160174309573005
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.88390044041573,
                26.15302875824448
              ],
              [
                127.88445833989083,
                26.152450931734098
              ],
              [
                127.88514498539864,
                26.15196940745631
              ],
              [
                127.88716200657784,
                26.15497408646236
              ],
              [
                127.8855526811689,
                26.156283794121464
              ],
              [
                127.88244131871163,
                26.15580228566174
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.80412245347506,
                26.147658598588713
              ],
              [
                127.80523826586762,
                26.145520523650514
              ],
              [
                127.80626822068697,
                26.144730780067142
              ],
              [
                127.81013060166842,
                26.14862168073317
              ],
              [
                127.80678320481783,
                26.150740433475153
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.7603344079987,
                26.123066941619996
              ],
              [
                127.7623514291779,
                26.123336662217405
              ],
              [
                127.76256600589909,
                26.123972429733378
              ],
              [
                127.76196519107975,
                26.125571466070618
              ],
              [
                127.75956193180241,
                26.124627459313118
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.77314212890721,
                26.1316119841934
              ],
              [
                127.77533081146336,
                26.130379058009527
              ],
              [
                127.77666118713475,
                26.130205676721122
              ],
              [
                127.77668264480687,
                26.13176609905124
              ],
              [
                127.77524498077489,
                26.13267151973404
              ],
              [
                127.77339962097264,
                26.132478877623434
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.77165750943821,
                26.133533028381926
              ],
              [
                127.77234415494603,
                26.131452492118928
              ],
              [
                127.77266602002781,
                26.13154881406044
              ],
              [
                127.77215103589695,
                26.133552292433407
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.79982406244386,
                26.44876815464472
              ],
              [
                127.79922324762452,
                26.44730805151753
              ],
              [
                127.79999572382081,
                26.44527156098248
              ],
              [
                127.80191619919067,
                26.444637575648056
              ],
              [
                127.80417998963833,
                26.44484890612048
              ],
              [
                127.80493098840822,
                26.443427161126948
              ],
              [
                127.80557471857179,
                26.450074547016143
              ],
              [
                127.80136901483644,
                26.44915238923337
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.86838226499222,
                26.512414115594037
              ],
              [
                127.86919765653275,
                26.511108431115186
              ],
              [
                127.86911182584427,
                26.509130674887015
              ],
              [
                127.87267379941605,
                26.508573824756972
              ],
              [
                127.87308149518631,
                26.511319645787204
              ],
              [
                127.8739612597432,
                26.512452517854005
              ],
              [
                127.87381105603836,
                26.512644528961285
              ],
              [
                127.8709357279744,
                26.51325896234744
              ],
              [
                127.86894016446732,
                26.512970947106965
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.97822654631263,
                26.589473878558387
              ],
              [
                127.97891319182044,
                26.586787494385717
              ],
              [
                127.98074782278663,
                26.583237532898426
              ],
              [
                127.98177779104834,
                26.58416820912312
              ],
              [
                127.98381626989966,
                26.585981566841216
              ],
              [
                127.98034312880598,
                26.589622015708795
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.92569930043881,
                26.60892577750855
              ],
              [
                127.92408997502987,
                26.605913697330173
              ],
              [
                127.92462641683285,
                26.605817769906565
              ],
              [
                127.92642886129086,
                26.60771711792085
              ],
              [
                127.92690093007748,
                26.60898333240842
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.87235121441121,
                26.648528382773705
              ],
              [
                127.88142780971761,
                26.65052291103592
              ],
              [
                127.88138489437337,
                26.650695512805054
              ],
              [
                127.8724585027718,
                26.64883523554353
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.88769533747588,
                26.659371817566647
              ],
              [
                127.89117148035918,
                26.66222908061541
              ],
              [
                127.89078524226103,
                26.662459192647344
              ],
              [
                127.88975527399931,
                26.661788031257135
              ],
              [
                127.88913300150786,
                26.661788031257135
              ],
              [
                127.88846781367216,
                26.661327804022292
              ],
              [
                127.88838198298369,
                26.66034981498523
              ],
              [
                127.88720181101714,
                26.659410170564477
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.79721444795284,
                26.708937436675516
              ],
              [
                127.79635614106807,
                26.706292199022457
              ],
              [
                127.80011123368892,
                26.70535293319038
              ],
              [
                127.80157035539303,
                26.703876928375514
              ],
              [
                127.80305093476925,
                26.702745950704212
              ],
              [
                127.80483192155513,
                26.703646899928387
              ],
              [
                127.80738538453731,
                26.70385775935598
              ],
              [
                127.80843681047115,
                26.70441365961222
              ],
              [
                127.81133359620723,
                26.704471166380426
              ],
              [
                127.81103318879757,
                26.707576488745357
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.76152606466144,
                26.709164639308277
              ],
              [
                127.76139731862872,
                26.707707852268033
              ],
              [
                127.7629422710213,
                26.70672067677313
              ],
              [
                127.7633267754265,
                26.707465607470876
              ],
              [
                127.76333750426257,
                26.70888406126614
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.91825019907462,
                26.936031519976936
              ],
              [
                127.92116844248282,
                26.933621140672773
              ],
              [
                127.92352878641593,
                26.935878481552887
              ],
              [
                127.92082511972892,
                26.93721756072074
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.93475114788517,
                26.915567162734796
              ],
              [
                127.93496572460636,
                26.91350075167525
              ],
              [
                127.93839895214542,
                26.911089890956884
              ],
              [
                127.93977224316104,
                26.91231446156621
              ],
              [
                127.93715440716251,
                26.91510796354667
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.94910247376347,
                26.92361516564003
              ],
              [
                127.95472438385869,
                26.92571965457235
              ],
              [
                127.95571143677617,
                26.930999835787187
              ],
              [
                127.95232112458135,
                26.930923313186916
              ],
              [
                127.94978911927129,
                26.929431112104673
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.96623789728271,
                27.028730963834107
              ],
              [
                127.97207438409912,
                27.033624051099633
              ],
              [
                127.9719349001925,
                27.03558309839409
              ],
              [
                127.9726966479952,
                27.037045209776505
              ],
              [
                127.97263228357421,
                27.040542818383823
              ],
              [
                127.96851241052734,
                27.039816558975417
              ],
              [
                127.96117388666259,
                27.031483351655012
              ],
              [
                127.96434962213623,
                27.0273929731669
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.96433342876905,
                26.697568397421012
              ],
              [
                127.96961201611036,
                26.693389243450305
              ],
              [
                127.97248734417433,
                26.69369597555935
              ],
              [
                127.97315253201002,
                26.69737669646486
              ],
              [
                127.96967638912672,
                26.701344840488076
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.41180082076522,
                27.050737841565034
              ],
              [
                128.41238017791244,
                27.04968677059451
              ],
              [
                128.41463323348495,
                27.04888412795072
              ],
              [
                128.41579194777938,
                27.05092894432005
              ],
              [
                128.41386075728866,
                27.051292038657877
              ],
              [
                128.41240163558456,
                27.051158267196435
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.45187073207097,
                27.022707562604133
              ],
              [
                128.45249300456243,
                27.020604885936123
              ],
              [
                128.45478897547918,
                27.0212739236902
              ],
              [
                128.45442419505315,
                27.023644196813443
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                129.5180023637014,
                28.403987648700518
              ],
              [
                129.51632866527612,
                28.400703434746706
              ],
              [
                129.52598461772973,
                28.397796631733836
              ],
              [
                129.5274008240896,
                28.402100181857268
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                120.75254367224493,
                21.9541530233351
              ],
              [
                120.75391696326055,
                21.953476366210122
              ],
              [
                120.75546191565313,
                21.953993810183732
              ],
              [
                120.75687812201299,
                21.95574514504015
              ],
              [
                120.75597689978399,
                21.95785467882802
              ],
              [
                120.75220034949102,
                21.95522770744222
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.4188806811107,
                23.19603855888399
              ],
              [
                119.41594098003038,
                23.194026788657258
              ],
              [
                119.41675637157091,
                23.193198403884118
              ],
              [
                119.41722844035753,
                23.193020892193665
              ],
              [
                119.4225714007152,
                23.19252780292828
              ],
              [
                119.4226786890758,
                23.196728865221996
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.41208977259723,
                23.215804795145026
              ],
              [
                119.41137094058124,
                23.21499626563597
              ],
              [
                119.4119395688924,
                23.21342849325356
              ],
              [
                119.4150938466939,
                23.214799062574333
              ],
              [
                119.41314119853106,
                23.21633723873456
              ],
              [
                119.41258329905597,
                23.21633723873456
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.52526829101721,
                23.370149351437426
              ],
              [
                119.52662012436072,
                23.366899254632106
              ],
              [
                119.52844402649085,
                23.3689281122836
              ],
              [
                119.52711365081946,
                23.371823612641307
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.50661454977175,
                23.3631607366366
              ],
              [
                119.50751577200076,
                23.36002866152368
              ],
              [
                119.50987611593386,
                23.36083631061023
              ],
              [
                119.50888906301638,
                23.36335772002083
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.56193649241466,
                23.563462564883988
              ],
              [
                119.5639964289381,
                23.55457210880803
              ],
              [
                119.57515441844005,
                23.552054348248056
              ],
              [
                119.58553993174571,
                23.563698586494144
              ],
              [
                119.57223617503185,
                23.570700368026237
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.62958891783583,
                23.64753223141626
              ],
              [
                119.62937434111464,
                23.646175968836413
              ],
              [
                119.63167031203139,
                23.645684565881684
              ],
              [
                119.63272173796523,
                23.647984315818988
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.65477739145307,
                23.660598648512266
              ],
              [
                119.65564642717389,
                23.659419408341602
              ],
              [
                119.65640817453412,
                23.65856445256848
              ],
              [
                119.65808187295941,
                23.65858410678695
              ],
              [
                119.65934787561444,
                23.65907546128877
              ],
              [
                119.66049586107282,
                23.660490551939333
              ],
              [
                119.65671931077985,
                23.662141471677643
              ],
              [
                119.65470228960065,
                23.66057899459656
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.56821886859203,
                23.67244792627619
              ],
              [
                119.5684119876411,
                23.669617988501106
              ],
              [
                119.57225291095043,
                23.66995208156711
              ],
              [
                119.57027880511546,
                23.672585491134125
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.5142582607604,
                23.583768285642012
              ],
              [
                119.50970923427114,
                23.58276534417201
              ],
              [
                119.51129710200796,
                23.57869450305711
              ],
              [
                119.51357161525259,
                23.579756473779888
              ],
              [
                119.51490199092397,
                23.581939386618654
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.47850761102455,
                23.56375856904091
              ],
              [
                119.48008474992531,
                23.5617720414945
              ],
              [
                119.4812541930558,
                23.561663863389487
              ],
              [
                119.48293862031716,
                23.56336519963469
              ],
              [
                119.48311028169411,
                23.564722319108146
              ],
              [
                119.47955903695839,
                23.56469281665998
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.58098715259771,
                23.65912201838309
              ],
              [
                119.58078330471258,
                23.657480887717202
              ],
              [
                119.58246773197394,
                23.657333479763217
              ],
              [
                119.58324020817022,
                23.65833585057393
              ],
              [
                119.58151286556463,
                23.65911219131463
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                119.60861765656757,
                23.739237272910025
              ],
              [
                119.6159347227602,
                23.7369784145174
              ],
              [
                119.61567723069477,
                23.741555017333223
              ],
              [
                119.61026989732075,
                23.743028138540712
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                128.0146231779091,
                26.696414157931805
              ],
              [
                128.015502942466,
                26.694037019196987
              ],
              [
                128.01829243984147,
                26.694056189869013
              ],
              [
                128.01994468059465,
                26.69401784852174
              ],
              [
                128.02108193721696,
                26.695244765235543
              ],
              [
                128.0194511541359,
                26.696874243571532
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                127.97202324472639,
                26.698344552985013
              ],
              [
                127.97273133991254,
                26.697280617845596
              ],
              [
                127.97301028965009,
                26.696561735781106
              ],
              [
                127.97382568119062,
                26.696063308220428
              ],
              [
                127.97680829761518,
                26.696868459350085
              ],
              [
                127.97607873676313,
                26.698248705192036
              ],
              [
                127.97446941135419,
                26.69974395265108
              ],
              [
                127.97485564945234,
                26.701277519402012
              ],
              [
                127.97444795368207,
                26.70206346436018
              ],
              [
                127.97322486637128,
                26.70187177096797
              ],
              [
                127.97311757801069,
                26.701047485705494
              ],
              [
                127.97232364414228,
                26.69985897087352
              ],
              [
                127.97125076053632,
                26.699341387958064
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "coordinates": []
    }),
    gc3v4 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_geo_clean3_v4"),
    gc3v4m = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_geo_clean3_v4_2manual"),
    gc3 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_geo_clean3"),
    ben1v1 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_benthic_clean1_v1"),
    ben2v1 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_benthic_clean2_v1"),
    ben2v3 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_benthic_clean2_v3"),
    ben2v4 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_benthic_clean2_v4"),
    ben2v5 = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_benthic_clean2_v5"),
    ben2v5f = ee.Image("projects/coral_atlas/ne_asia/in_out/TAJ_benthic_clean2_v5final");
/***** End of imports. If edited, may not auto-convert in the playground. *****/

// Viewing script for looking at reefs and classifications for each region.   
// From this region Timor Sea onwards the map_viewer script is going to be used from the very beginning
// in the workflow 
// Viewing script for looking at reefs and classifications for each region. 
// From this region Timor Sea onwards the map_viewer script is going to be used from the very beginning
// in the workflow 

//Viewer for North East Asia

// Load and libraries needed
var map_palettes = require('users/mitchest/global_reefs_modules:colour_pals');
var param_module = require('users/mitchest/global_reefs_modules:reef_params');
var pkg_vis = require('users/mitchest/global_reefs_modules:pkg_vis');

// ###########################################
// SENSOR GENERICS
var sensor_params = param_module.dove ;      //<------------ THIS IS WHERE YOU CHOOSE THE SENSOR
// REGION AND SENSOR SPECIFIC LOAD PATHS
var region_params = param_module.ne_asia;       //<------------ THIS IS WHERE YOU CHOOSE THE REGION
//  ^^ all the data paths are in this module ^^
// ###########################################
  
var image_data_scale = sensor_params.pixel;
var asset_output = region_params.asset; // asset path


// Choose which layers will be shown in the map viewer 
var vars = {
  raw: true, // set to true if you want to view the raw classifications for benthic and geo
  geo_cleanup_stage: 3, // set to 0, 1, 2 or 3 - this controls the display of the geo clean stages (0 = cleanup not ready)
  benthic_cleanup_stage: 2, // set to 0, 1 or 2 - this controls the display of the benthic clean stages (0 = cleanup not ready)
};


// choose where to centre the map (link this dynamically to map app?)
Map.centerObject(center_map, 6);

// Add low-tide base map to viewer
// var low_tide_image = ee.Image(region_params.pixels);
// Map.addLayer(low_tide_image, {bands: ['b3','b2','b1'], min: 0, max: 3000}, sensor_params.sname + " from stack", false); // image data

//print (region_params.image[0])
var low_tide_image_dove = ee.Image(region_params.image);
Map.addLayer(low_tide_image_dove, {bands: ['b3','b2','b1'], min: 0, max: 3000}, sensor_params.sname + ' low tide', false); // image data

Map.addLayer(pixels, {color:'#00FFFF'}, "pixels", false)
Map.addLayer(segmentation, {color:'#00FF00'}, "segments", false)

// Merge features
/*
//ORF to BRS
var ORFtoBRSmerge1 = ORFtoBRS.merge(ORFtoBRS2);
var ORFtoBRSmerge2 = ORFtoBRSmerge1.merge(ORFtoBRS3);
var ORFtoBRSmerge3 = ORFtoBRSmerge2.merge(ORFtoBRS4);

// ORF to RS
var ORFtoBRSmerge1 = ORFtoRS.merge(ORFtoRS3);
var ORFtoBRSmerge2 = ORFtoBRSmerge1.merge(ORFtoBRS4);
*/

/*
//THIS DOESN'T WORK - NEED TO EXPORT AS AN IMAGE
//Define features to combine
var M1 = ee.FeatureCollection(mid_mask); 
var M2 = ee.FeatureCollection(mid_mask3); 
var M3= ee.FeatureCollection(Mask4);


//Mid-mask
var midMask = M1.merge(M2);
var midMask2 = midMask.merge(M3);
/*

// Export
    Export.image.toAsset({
      image: midMask2,
      //folder: "SeagrassGEE",
      description: 'nas_midmask', 
      assetId: asset_output + 'in_out/nas_midmask', // <------------ change asset name
      region: region_extent, // <------------ change extent
      scale: image_data_scale,
      crs: 'EPSG:4326',
      maxPixels: 1e13,
      //fileFormat: 'GeoTIFF',
      pyramidingPolicy: {'.default': 'mode'}
    });

*/


// Load the raw classifications
if (vars.raw) {
// geo raw (test if more than one map exists for the region)
  if (ee.List(region_params.geo_map).length().getInfo() > 1) {
    var geo_map_raw = ee.Image(region_params.geo_map[0]).unmask(0, false)
                 .add(ee.Image(region_params.geo_map[1]).unmask(0, false))
                 .selfMask();
  } else {
    var geo_map_raw = ee.Image(region_params.geo_map);
  }

  // benthic raw (test if more than one map exists for the region)
  if (ee.List(region_params.benthic_map).length().getInfo() > 1) {
    var benthic_map_raw = ee.Image(region_params.benthic_map[0]).unmask(0, false)
                     .add(ee.Image(region_params.benthic_map[1]).unmask(0, false))
                     .selfMask();
  } else {
      var benthic_map_raw = ee.Image(region_params.benthic_map);
  }

  // Add the raw region classification to the viewer
  Map.addLayer(geo_map_raw, map_palettes.geo, 'Geomorphic RAW', false);
  Map.addLayer(benthic_map_raw.updateMask(geo_map_raw.gt(2)), map_palettes.benthic, 'Benthic RAW', false);
 
}

// Add geo clean stage 1 to the viewer
if (vars.geo_cleanup_stage == 1||vars.geo_cleanup_stage == 2) {
  Map.addLayer(ee.Image(region_params.geo_map_clean1), map_palettes.geo, 'Geomorphic - stage 1 clean', false);

  }

// Add geo clean stage 2 to the viewer
if (vars.geo_cleanup_stage == 2||vars.geo_cleanup_stage == 3) {
  Map.addLayer(ee.Image(region_params.geo_map_clean2), map_palettes.geo, 'Geomorphic - stage 2 clean', false);

}

// Add geo clean stage 3 to the viewer
if (vars.geo_cleanup_stage == 3) {
  var geo_map_clean3 = ee.Image(region_params.geo_map_clean3)
  Map.addLayer(geo_map_clean3.updateMask(geo_map_clean3.gt(2)), map_palettes.geo, 'Geomorphic - stage 3 clean', true);
}

// Add benthic clean stage 1 to the viewer
if (vars.benthic_cleanup_stage == 1||vars.benthic_cleanup_stage == 2) {
  Map.addLayer(ee.Image(region_params.benthic_map_clean1), map_palettes.benthic, 'Benthic - stage 1 clean', false);
  }

// Add geo clean stage 2 to the viewer
if (vars.benthic_cleanup_stage == 2) {
  Map.addLayer(ee.Image(region_params.benthic_map_clean2), map_palettes.benthic, 'Benthic - stage 2 clean', false);
}

/*
// Geo Training Data - Needs more work + add flag to show
var geo_train = ee.FeatureCollection(region_params.geo_train_library);

var geo_buff = function(feature) {
  return feature.buffer(20);   // substitute in your value of Z here
};

var geo_train_buff = geo_train.map(geo_buff)

// Create an empty image into which to paint the features, cast to byte.
var empty = ee.Image().byte();

// Paint the interior of the polygons with different colors.
var geo_fill = empty.paint({
  featureCollection: geo_train_buff,
  color: 'class_num',
});
*/

//Map.addLayer(geo3Plus, map_palettes.geo, 'Geo clean3 refined', false);
//Map.addLayer(benraw, map_palettes.benthic, 'Benthic RAW', false);
//Map.addLayer(ben1, map_palettes.benthic, 'Benthic clean 1', false);
//Map.addLayer(benFinal, map_palettes.benthic, 'Benthic clean 2FINAL', false);
//Map.addLayer(ben2, map_palettes.benthic, 'Benthic clean 2b', false);
//Map.addLayer(cleanG, map_palettes.geo, 'Geo clean3 G', false);
//Map.addLayer(geoFinal, map_palettes.geo, 'Geo clean FINAL', false);
//Map.addLayer(geo1reefs, map_palettes.geo, 'Geo clean 1, reefs', false);
//Map.addLayer(dtl3, map_palettes.geo, 'geo3 d from l', false);
//Map.addLayer(absent2, map_palettes.geo, 'absent', false);
//Map.addLayer(missingcl3, map_palettes.geo, 'absent clean 3', false);
//Map.addLayer(wcmc_500,{color:'#00FF00'}, "wcmc 500 mask", false);
//Map.addLayer(distFromLand,{color:'#00FFFF'}, "500m offshore", false);

//TAJ - NEA Layers
//Map.addLayer(geoc2, map_palettes.geo, 'Geomorphic - stage 2 clean', false);
Map.addLayer(georef, {color:'#660066'}, "geo ref", false)
Map.addLayer(benref, {color:'#ff80ed'}, "ben ref", false)
Map.addLayer(ne_extent, {color:'#ff80ed'}, "region_extent", false)
//Map.addLayer(geoc10, map_palettes.geo, 'geoc1_10m', false);
//Map.addLayer(geoc15, map_palettes.geo, 'geoc1_15m', false);
//Map.addLayer(geoc1250, map_palettes.geo, 'geoc1_1250cm', false);
//Map.addLayer(geoc3_mask1b, map_palettes.geo, 'geoc3_mask1b', false);
//Map.addLayer(geoc3_mask2GCRMN, map_palettes.geo, 'geoc3_mask2gcrmn', false);
//Map.addLayer(geoc3_mask3, map_palettes.geo, 'geoc3_mask3', false);

//Map.addLayer(geoc3_mask4gcrmn, map_palettes.geo, 'Geomorphic - S2 clean + mask4 + gcrmn', false);
//Map.addLayer(ben2_v2, map_palettes.benthic, 'Benthic Stage 2 clean', false);
//Map.addLayer(ben2, map_palettes.benthic, 'Benthic Stage 2 clean', false);
//Map.addLayer(ben1, map_palettes.benthic, 'Benthic Stage 1 clean', false);
//Map.addLayer(geoc3_mask4gcrmn_v4, map_palettes.geo, 'Geomorphic - Stage 3 clean', false);
//Map.addLayer(geoc3_mask3gcrmn, map_palettes.geo, 'Geomorphic - S2 clean + mask + gcrmn', false);
//Map.addLayer(geoc3_mask3gcrmn_v2, map_palettes.geo, 'Geomorphic - S2 clean + mask + gcrmnV2', false);

//Map.addLayer(gc3v4m, map_palettes.geo, 'Geomorphic - Stage 3 post feedback', false);
//Map.addLayer(gc3, map_palettes.geo, 'Geomorphic - Stage 3', false);
//Map.addLayer(ben1v1, map_palettes.benthic, 'Benthic Stage 1 post feedback', false);
//Map.addLayer(ben1, map_palettes.benthic, 'Benthic Stage 1', false);
//Map.addLayer(ben2v3, map_palettes.benthic, 'Benthic Stage 2 v3 post feedback', false);
//Map.addLayer(ben2, map_palettes.benthic, 'Benthic Stage 2 ', false);
//Map.addLayer(ben2v4, map_palettes.benthic, 'Benthic Stage 2 v4 post feedback', false);
//Map.addLayer(ben2v5, map_palettes.benthic, 'Benthic Stage 2 v5 post feedback', false);
//Map.addLayer(ben2v5f, map_palettes.benthic, 'Benthic Stage 2 v5final post feedback', false);

//Map.addLayer(PortHarborMask, map_palettes.geo, 'harbor port river mask', false);


Map.addLayer(gcmrn_ext, {color:'#000000'}, 'gcmrn_ext', false);

// Add WCMC to the viewer
Map.addLayer(wcmc, {color:'#ffff00'}, "WCMC layer", false);

////////// UI SET UP //////////

//Generate title
var title = ui.Label({
  value: 'Coral Atlas map classes',
  style: {fontWeight: 'bold', fontSize: '14px'}
});

// generate the legend
var geo_legend = pkg_vis.discrete_legend(map_palettes.geo_atlas_names, map_palettes.geo_atlas_cols, 'Geomorphic Zone', false);
var benthic_legend = pkg_vis.discrete_legend(map_palettes.benthic_atlas_names, map_palettes.benthic_atlas_cols, 'Benthic Habitat', false);
//var mask_legend = pkg_vis.discrete_legend(["Low confidence depth","Water conditions"], ["#f7f7f7","#bababa"], 'Confidence Mask reason', false)
pkg_vis.add_lgds([title, geo_legend, benthic_legend]);//, mask_legend])
// generate the legend



////////// MASK EXPORTS //////////

/*
Export.table.toAsset({
  collection: ee.FeatureCollection(region_extent),
  description: "region_extent_export",
  assetId: region_params.asset + 'in_out/' + region_params.sname + '_extent'
})

/*

Export.table.toAsset({
  collection: ee.FeatureCollection(notReef_mask),
  description: "not_reef_mask_export",
  assetId: region_params.asset + 'in_out/' +  region_params.sname + '_notreef'
})
*/
/*

Export.table.toAsset({
  collection: ee.FeatureCollection(mid_mask),
  description: "mid_mask_export",
  assetId: region_params.asset + 'in_out/' + region_params.sname + '_midmask'
})
*/

/*
Export.table.toAsset({
  collection: ee.FeatureCollection(lagoons_mask),
  description: "lagoons_mask_export",
  assetId: region_params.asset + 'in_out/' + region_params.sname + '_lagoons_mask'
})
*/

Export.table.toAsset({
  collection: ee.FeatureCollection(PortHarborMask),
  description: "PortHarbor_mask_export",
  assetId: region_params.asset + 'in_out/' + region_params.sname + '_PortHarborMask'
})
