/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var depth_pal = {"opacity":1,"bands":["depth"],"max":5,"palette":["e4e1ff","7f89ff","3a52ff","0007ff","000258"]},
    eaaf = /* color: #98ff00 */ee.Geometry.Point([40.98887512457759, -15.133024788287958]),
    high_rrs = ee.Image("projects/coral_atlas/workflow/mapping/east_africa/east_africa_high_tide_normalized_sr_jan2018_nov2019_v2_shift_mosaic/20191215T174409Z/east_africa_high_tide_normalized_sr_jan2018_nov2019_v2_shift_mosaic"),
    high_depth = ee.Image("projects/coral_atlas/workflow/mapping/east_africa/east_africa_high_tide_normalized_sr_jan2018_nov2019_v2_shift_mosaic/20191215T174409Z/east_africa_high_tide_normalized_sr_jan2018_nov2019_v2_shift_mosaic_depth"),
    low_rrs = ee.Image("projects/coral_atlas/workflow/mapping/east_africa/east_africa_low_tide_normalized_sr_jan2018_nov2019_v2_shift_mosaic/20191220T152846Z/east_africa_low_tide_normalized_sr_jan2018_nov2019_v2_shift_mosaic"),
    low_depth = ee.Image("projects/coral_atlas/workflow/mapping/east_africa/east_africa_low_tide_normalized_sr_jan2018_nov2019_v2_shift_mosaic/20191220T152846Z/east_africa_low_tide_normalized_sr_jan2018_nov2019_v2_shift_mosaic_depth"),
    benthic = ee.Image("projects/coral_atlas/east_africa/in_out/east_africa_benthic"),
    geo = ee.Image("projects/coral_atlas/east_africa/in_out/east_africa_geo"),
    wcmc = ee.FeatureCollection("projects/coral_atlas/global_datasets/wcmc_reefs_2018v4_dissolved"),
    geo_clean1 = ee.Image("projects/coral_atlas/east_africa/in_out/east_africa_geo-clean1"),
    geo_clean2 = ee.Image("projects/coral_atlas/east_africa/in_out/east_africa_geo-clean2"),
    geo_clean3man = ee.Image("projects/coral_atlas/east_africa/in_out/east_africa_geo-clean3-man"),
    Rivermouth = 
    /* color: #01ffff */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[47.70495195150683, -14.493480205766339],
                  [47.68229444380172, -14.464227409114915],
                  [47.67851841499441, -14.417013373216784],
                  [47.67285283240133, -14.39273247266448],
                  [47.64976762697547, -14.376263078915583],
                  [47.59633316907339, -14.380996796821925],
                  [47.56686035347896, -14.405314702181121],
                  [47.53770202090416, -14.434768889969519],
                  [47.52930266954552, -14.487399191460115],
                  [47.5635621841223, -14.507067609873188],
                  [47.58550241001502, -14.488977539601525],
                  [47.61774797201464, -14.508769935314081],
                  [47.612253975982846, -14.528710682595937],
                  [47.62667338568595, -14.533363878274402],
                  [47.635600755217766, -14.549980466137166],
                  [47.6352582292987, -14.568919883802495],
                  [47.61225480795214, -14.589854301530035],
                  [47.597493112104296, -14.606796165912423],
                  [47.5992085433037, -14.643008178648566],
                  [47.57311649782222, -14.64201257260284],
                  [47.58272893301511, -14.618259893426924],
                  [47.56350297689745, -14.609124067664638],
                  [47.55972233931086, -14.547803709758526],
                  [47.56830195268153, -14.504436155898194],
                  [47.55388546595961, -14.48799027783404],
                  [47.52093095541308, -14.482843250007397],
                  [47.404579752834536, -14.581647791103114],
                  [47.37613424845605, -14.62989590435847],
                  [47.42359786109232, -14.673238300140595],
                  [47.45123614744339, -14.661610864626242],
                  [47.47218006328792, -14.660944403207182],
                  [47.50994462728808, -14.704783367002355],
                  [47.50136511049256, -14.73383549839152],
                  [47.49964689389899, -14.765540115747886],
                  [47.5277974104912, -14.811686160676986],
                  [47.4948384261162, -14.829608806088324],
                  [47.33279008627245, -15.027322752101238],
                  [47.34926957845995, -15.133402528785336],
                  [47.5827290511162, -15.071087071295722],
                  [47.62255449056933, -14.960996082130272],
                  [47.72417802572558, -14.809694664082164],
                  [47.88210649252245, -14.98620263888992],
                  [48.18972368002245, -14.991508904355882],
                  [48.20757646322558, -14.645001198729437],
                  [48.20482988119433, -14.437630501380449],
                  [47.96587724447558, -14.44428001183031]]]),
            {
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[47.94660457890553, -13.905663091255752],
                  [47.89596119687108, -13.880514039936392],
                  [47.81853513019095, -13.898013319107589],
                  [47.79193516858806, -13.909841888425632],
                  [47.78318475486101, -13.940331081667633],
                  [47.790743460077714, -13.994294836192978],
                  [47.837430410277896, -14.063570915085489],
                  [47.910212366991466, -14.092879616896072],
                  [47.945917933397716, -14.14348840568382],
                  [47.95553097050709, -14.224705264621116],
                  [47.91982540410084, -14.343149617925258],
                  [47.93630489628834, -14.412324129320726],
                  [48.055781214647716, -14.413654198414925],
                  [48.15053829472584, -14.084887728450047],
                  [48.14229854863209, -14.016945398393709],
                  [48.02350887578053, -13.9496493453011]]]),
            {
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[48.93421889381694, -12.752247402126663],
                  [48.891646872332565, -12.728136749578667],
                  [48.84083510475444, -12.665170361636472],
                  [48.81634909258865, -12.57670358840063],
                  [48.76028564802892, -12.580700088304477],
                  [48.67149593369402, -12.651673518018953],
                  [48.665998344164684, -12.68951171981559],
                  [48.690715203552415, -12.705913156056049],
                  [48.72092761124572, -12.734374747015393],
                  [48.698956628801575, -12.808377617012976],
                  [48.634749847477856, -12.918499699379336],
                  [48.64625363421893, -12.953482382924125],
                  [48.67398240887321, -12.97063620076631],
                  [48.7276733580159, -12.97051119355481],
                  [48.758699913186206, -12.958000968621224],
                  [48.76478956449614, -12.974318292431846],
                  [48.7554762609487, -12.987830867744284],
                  [48.74601281379194, -13.055131353076465],
                  [48.80591077028861, -13.101019795008849],
                  [48.89963788210502, -13.110716819047466],
                  [49.019114200464394, -12.900641053562603],
                  [48.95456952273002, -12.772099920719029]]]),
            {
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[48.73484296023002, -13.443525677220036],
                  [48.684031192651894, -13.410131797661831],
                  [48.546702091089394, -13.400780679251469],
                  [48.50962323366752, -13.406124220026228],
                  [48.5212313902568, -13.45080866773035],
                  [48.5706698668193, -13.478855078839924],
                  [48.6585604918193, -13.480190540206657],
                  [48.717612005491176, -13.460157836625266]]]),
            {
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[49.766806341428676, -13.273105399566585],
                  [49.78740570666305, -13.282461460974925],
                  [49.9000155699443, -13.237014360143167],
                  [49.992026067991176, -13.231667084281398],
                  [50.077170110959926, -13.224982824443904],
                  [50.082663275022426, -13.147432039558907],
                  [50.0263583433818, -13.075207534927332],
                  [49.956320501584926, -13.093934441839446],
                  [49.90276215197555, -13.128709205001414],
                  [49.766806341428676, -13.245035053818956]]]),
            {
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[43.74357314947312, -23.55466261757073],
                  [43.74168487432664, -23.55120068675082],
                  [43.73533340337937, -23.542073341203],
                  [43.68434997442429, -23.536879913536456],
                  [43.65707558584242, -23.558792211250605],
                  [43.65432900381117, -23.579089241312136],
                  [43.65759056997328, -23.591203027534654],
                  [43.66926354360609, -23.59214691196601],
                  [43.68282479238539, -23.59057376747452],
                  [43.707887353420546, -23.58412367786371],
                  [43.72642678213148, -23.58947255510733],
                  [43.73775643301039, -23.599540438385716],
                  [43.790372966940474, -23.597319842772077],
                  [43.80341923158891, -23.575294971939815],
                  [43.797582744772505, -23.55515471343786],
                  [43.78144657533891, -23.544296574699043],
                  [43.768400310690474, -23.542880229618607],
                  [43.754667400534224, -23.544296574699043],
                  [43.748659252340865, -23.547129219092316],
                  [43.74608433168657, -23.549647073986318],
                  [43.74556934755571, -23.55153543351024],
                  [43.74453937929399, -23.553581125715134]]]),
            {
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[38.937862171254714, -17.001362933009382],
                  [38.95296837242659, -17.062420267913765],
                  [38.9921071663719, -17.11361425478502],
                  [39.13080955895003, -17.061763843495676],
                  [39.18711449059065, -17.10311407081849],
                  [39.24857363795346, -17.049277714192304],
                  [39.24135948570784, -16.959990201945708],
                  [39.23655296715315, -16.929118894890497],
                  [39.248225940785964, -16.907440269963924],
                  [39.26058555992659, -16.891015409047256],
                  [39.308650745473464, -16.845675377372018],
                  [39.3546559944969, -16.835817409965617],
                  [39.475852507367954, -16.878549312277883],
                  [39.52082420738753, -16.786519879226162],
                  [39.609107514705954, -16.840347207780976],
                  [39.70285859353781, -16.752138290655555],
                  [39.68424887191055, -16.65992177296326],
                  [39.73145315057056, -16.60294097880243],
                  [39.81994136196013, -16.53329544348717],
                  [39.89096851361232, -16.484646527877644],
                  [39.96082724095797, -16.393148958439586],
                  [40.05484387187199, -16.27423977849419],
                  [40.12389666591115, -16.138921775806697],
                  [40.091914589067095, -16.069221209583773],
                  [39.6433885477837, -16.441238127768766],
                  [39.4700124398094, -16.549714162420994],
                  [39.40821434410628, -16.589860167131334],
                  [39.341285913555645, -16.62052963312235],
                  [39.07725120934065, -16.675389248843576],
                  [39.01545311363753, -16.750360220638665],
                  [38.98936058434065, -16.83516019388607],
                  [38.98798729332503, -16.907440269963924],
                  [38.94129539879378, -16.98231947569953]]]),
            {
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[40.41267977822199, -10.369510225926186],
                  [40.39345370400324, -10.374238205807174],
                  [40.35980807412043, -10.378290703145156],
                  [40.32135592568293, -10.401253862604488],
                  [40.27672396767512, -10.424215332869677],
                  [40.13664828408137, -10.49308957287559],
                  [40.04120455849543, -10.570048517693518],
                  [40.06523715126887, -10.674654718645547],
                  [40.22728549111262, -10.688824411049115],
                  [40.38534242651724, -10.634911243681051],
                  [40.5315979196813, -10.59104277624572],
                  [40.53091127417349, -10.547168027549535],
                  [40.5041320993688, -10.524215665221618],
                  [40.51237184546255, -10.49315975076307],
                  [40.50619203589224, -10.480331397400544],
                  [40.507565326907866, -10.465476850795334],
                  [40.51443178198599, -10.44859582070925],
                  [40.53640443823599, -10.451296847198801],
                  [40.56936342261099, -10.458049310652937],
                  [40.589962787845366, -10.376334665280897],
                  [40.51717836401724, -10.327025413376907],
                  [40.50069887182974, -10.335807080041093],
                  [40.46156007788443, -10.370931290063249],
                  [40.44576723120474, -10.377010080623537],
                  [40.427914448001616, -10.364176939901428]]]),
            {
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.00286998764872, -8.091739551307924],
                  [39.1491259851127, -8.10057702796479],
                  [39.27546929055596, -8.41315946244294],
                  [39.29041447480512, -8.515711043889967],
                  [39.355265637106776, -8.728974604986849],
                  [39.425655053389576, -8.767103229675154],
                  [39.45658066590845, -8.76598716093071],
                  [39.45525325608255, -8.735242189609817],
                  [39.4374832465979, -8.715825596171653],
                  [39.417723928577395, -8.67969470899764],
                  [39.41031862586616, -8.64627144007378],
                  [39.417333520088384, -8.612846936572586],
                  [39.39290207342043, -8.52018187106311],
                  [39.372595173348145, -8.53344269907083],
                  [39.349033620507164, -8.530800566707695],
                  [39.34448140057564, -8.516009497352089],
                  [39.38344054739709, -8.502720806323712],
                  [39.37483605024047, -8.451695573644455],
                  [39.33565463578524, -8.399904102513476],
                  [39.32595699155967, -8.381906441924146],
                  [39.34810036704314, -8.290186713339196],
                  [39.383543212421415, -8.258593906616252],
                  [39.4239868147625, -8.288408651498226],
                  [39.446580665778164, -8.29647747452898],
                  [39.474200436499885, -8.339090952443566],
                  [39.48259612349602, -8.318518534374046],
                  [39.517239632201495, -8.305905565405356],
                  [39.58446007335514, -8.24194927977204],
                  [39.6119203441709, -8.166848273299713],
                  [39.57827455684103, -8.117062329827645],
                  [39.511675782988256, -8.118930826353484],
                  [39.48146341368952, -8.06998479060864],
                  [39.464983909814165, -8.030551778208132],
                  [39.471163777878644, -7.998594574327351],
                  [39.491076599988034, -7.95507438532485],
                  [39.50549623201776, -7.923791390116479],
                  [39.53914197416261, -7.8850243271355795],
                  [39.568668587642875, -7.881283667191384],
                  [39.571414454544964, -7.858497385560953],
                  [39.55150156145572, -7.84676388645055],
                  [39.5542488548642, -7.830948480596489],
                  [39.585834022167596, -7.823805785594288],
                  [39.59381836716754, -7.807478057743012],
                  [39.60042702382411, -7.766658162704067],
                  [39.58343227793279, -7.748968686583546],
                  [39.6132998386394, -7.711548542234821],
                  [39.60331884517911, -7.652833829781108],
                  [39.58647439079143, -7.614529458288865],
                  [39.52465656936305, -7.635780178906354],
                  [39.50130052237833, -7.635514184282896],
                  [39.501977790183126, -7.6121085379736995],
                  [39.52798521303139, -7.604111283810098],
                  [39.5550648517916, -7.605217169075352],
                  [39.55742467514492, -7.587265395444507],
                  [39.536738438344244, -7.538087423693478],
                  [39.51193356083093, -7.532471464397384],
                  [39.49125052178488, -7.5581675419296275],
                  [39.49292383092868, -7.5757800966721],
                  [39.48361049959862, -7.593392618130384],
                  [39.45391245955966, -7.587606358020147],
                  [39.45468616892875, -7.5690577650701245],
                  [39.4719386802188, -7.554592953119539],
                  [39.49468328290016, -7.535363125945411],
                  [39.48858821787659, -7.525663108987065],
                  [39.45854790072421, -7.519878513085864],
                  [39.4312530847686, -7.533152077729047],
                  [39.395891729945234, -7.572292325711805],
                  [39.377007914337355, -7.565144798774499],
                  [39.37117116673476, -7.5287251507953545],
                  [39.410825224585295, -7.501665705991357],
                  [39.45193871642097, -7.507198177022621],
                  [39.44910592528135, -7.482775774552905],
                  [39.45494122889368, -7.44737401165603],
                  [39.45992036291641, -7.412649826307681],
                  [39.50397623103802, -7.416992405602473],
                  [39.5631352241653, -7.396817623169593],
                  [39.512536766172644, -7.3387652662658684],
                  [39.444776265686734, -7.385582902802311],
                  [39.44042041790228, -7.4157976884598735],
                  [39.41764189863005, -7.432266860206649],
                  [39.39005422392422, -7.447372727060494],
                  [39.37906786132091, -7.432393653155047],
                  [39.3629315696191, -7.412647812835365],
                  [39.39365900621352, -7.3894961491324525],
                  [39.42022446369862, -7.3891558149470455],
                  [39.43831316326311, -7.384899657809294],
                  [39.44117796957612, -7.356553951849727],
                  [39.45640155522182, -7.341827870924583],
                  [39.47137000909877, -7.321652324919358],
                  [39.480844439107635, -7.308967463075447],
                  [39.48399829427707, -7.283598548355947],
                  [39.46453368221849, -7.274529588078845],
                  [39.46566781076581, -7.2538844998041885],
                  [39.474801343347686, -7.23302941339698],
                  [39.49306681145962, -7.244448720180437],
                  [39.51311594591563, -7.2400398259252166],
                  [39.507894471949285, -7.212151917626195],
                  [39.486467627689976, -7.198612346860107],
                  [39.483438304899884, -7.153145814746427],
                  [39.41170403940942, -7.187879838723817],
                  [39.35984201804002, -7.28666129093779],
                  [39.33443576609675, -7.3425085186608685],
                  [39.2994167301037, -7.428308358975717],
                  [39.30147667243579, -7.439883250409416],
                  [38.99935168175564, -7.482775732317659]]]),
            {
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[38.91358718879052, -6.452324446080831],
                  [38.96886215216943, -6.479956683250238],
                  [39.06852433828981, -6.523682755793548],
                  [39.11112151410017, -6.56684252548779],
                  [39.14752555305598, -6.581598648844204],
                  [39.16237457028747, -6.621554069760844],
                  [39.20619054658908, -6.714501852319994],
                  [39.244090892160216, -6.766162299545226],
                  [39.31711458742725, -6.822328115269856],
                  [39.32662449021598, -6.802476227688699],
                  [39.32557196281582, -6.783215326366373],
                  [39.32726600131306, -6.77827293935153],
                  [39.33558071027476, -6.778871117699695],
                  [39.34299972484893, -6.789397737686343],
                  [39.351105647433364, -6.795151410059382],
                  [39.36628414103644, -6.773930564705045],
                  [39.365633975955944, -6.734683191273515],
                  [39.30626032146481, -6.70005784875356],
                  [39.283787770200824, -6.715476272562049],
                  [39.267058589478, -6.711250104609967],
                  [39.250455032915205, -6.696179636049739],
                  [39.25726031182133, -6.682847656797673],
                  [39.26855939839774, -6.692549476901154],
                  [39.28759802927768, -6.691603590710598],
                  [39.30569989038491, -6.681583549761794],
                  [39.301704462377224, -6.65816033911473],
                  [39.28357161511476, -6.660429991980742],
                  [39.27999849506316, -6.6687252025380035],
                  [39.27031531553675, -6.677987455288003],
                  [39.2555173056899, -6.675457236008269],
                  [39.23850562665496, -6.661574859194897],
                  [39.22708198179666, -6.649859430285102],
                  [39.22046531054184, -6.636779785085172],
                  [39.2237764726049, -6.633716484698207],
                  [39.23326743552527, -6.636109474203137],
                  [39.236578550526936, -6.642083057275097],
                  [39.25224932492977, -6.634074518777447],
                  [39.230546219204676, -6.616353112667309],
                  [39.21502454034626, -6.591128190117419],
                  [39.21831208065453, -6.570007638415491],
                  [39.18334697422917, -6.538339342233177],
                  [39.14357815168688, -6.532590767951493],
                  [39.10598783665538, -6.516326489526731],
                  [39.097580494387614, -6.508931045618835],
                  [39.10015957793654, -6.49948892435485],
                  [39.114602351112474, -6.4966016938265385],
                  [39.14413935777584, -6.514942433332512],
                  [39.17573000493579, -6.483860600070162],
                  [39.13865643196867, -6.454143258205128],
                  [39.104176008641524, -6.417057089626428],
                  [38.967723096893366, -6.371107192971809],
                  [38.97066684989692, -6.358585986377728],
                  [38.985129144914325, -6.355046022674724],
                  [39.000964723401026, -6.358329856678695],
                  [39.009374237130366, -6.346216353924758],
                  [38.971692768811586, -6.2736566784750805],
                  [38.96285293114852, -6.271052657230256],
                  [38.95212326849088, -6.245755791019408],
                  [38.94551402360402, -6.238205448495799],
                  [38.9312663571517, -6.233172041147031],
                  [38.92113860736225, -6.23632935675691],
                  [38.917020416329585, -6.227117274428391],
                  [38.92045364386865, -6.206639051979959],
                  [38.98397177737688, -6.190938569570046],
                  [39.03701415492913, -6.182404471389983],
                  [39.00628433234521, -6.121987316443698],
                  [38.96577224738427, -6.068731758389039],
                  [38.9177070618374, -5.966302469871988],
                  [38.90569102498623, -5.927116318856149],
                  [38.924401623830754, -5.894545761957963],
                  [38.897793864604395, -5.892710423420457],
                  [38.86861171114653, -5.892197476710963],
                  [38.87204481602435, -5.877254889282908],
                  [38.89333055964817, -5.878663364136448],
                  [38.932469201828326, -5.887224018904268],
                  [38.95924754039533, -5.867095368398833],
                  [38.99538302760502, -5.7880693103738],
                  [38.975491380404385, -5.724928524102024],
                  [39.004169354119576, -5.673883399503381],
                  [38.99382999661961, -5.643013275558485],
                  [38.993104265299046, -5.612143099337484],
                  [38.959421115901144, -5.6004028397608545],
                  [38.94944474388748, -5.6259656088855206],
                  [38.932096087806045, -5.635330883908575],
                  [38.9337207237541, -5.650263345830719],
                  [38.918053490945, -5.663879570151676],
                  [38.90747285425356, -5.678203914972681],
                  [38.9161182091031, -5.7130263657101334],
                  [38.900368321112055, -5.747977831468978],
                  [38.86882837802309, -5.781560024402826],
                  [38.84689810403979, -5.81923987518243],
                  [38.831876373360835, -5.80852404378158],
                  [38.75016555793115, -5.8570234724951895],
                  [38.72613296515771, -5.848143609318621],
                  [38.70416030890771, -5.83994668742067],
                  [38.67326126105615, -5.831749645578546],
                  [38.66639480597802, -5.781198580439933],
                  [38.639615631173335, -5.776416488521175],
                  [38.61352310187646, -5.77095119117545],
                  [38.58056411750146, -5.766169012776189],
                  [38.466441102747886, -5.775315877750342],
                  [38.45957464766976, -5.978860612997736],
                  [38.460947938685386, -6.355012179210117],
                  [38.661448426966636, -6.47646960576254]]]),
            {
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[40.9325609979023, -2.2909944203033388],
                  [40.89685543149605, -2.262178071660961],
                  [40.9105883416523, -2.200426834590775],
                  [40.837803917824175, -2.160630233362809],
                  [40.250035363136675, -2.533851319053558],
                  [40.09485347837105, -2.7506004911135835],
                  [40.082493859230425, -2.9878818306923205],
                  [40.170384484230425, -3.011195792820958],
                  [40.20471675962105, -2.998853168905174],
                  [40.236302452980425, -2.9906246755415364],
                  [40.25964840024605, -2.96319591939188],
                  [40.2843676385273, -2.950852756993189],
                  [40.329686242042925, -2.732768143361721],
                  [40.4216967400898, -2.6600643099311467],
                  [40.4986010369648, -2.649089771184487],
                  [40.564689785508705, -2.5938676134110783],
                  [40.59902206089933, -2.5861507425712866],
                  [40.61824813511808, -2.58597925601891],
                  [40.63704505589445, -2.5895411662432255],
                  [40.67961707737882, -2.550784721813428],
                  [40.69558158543546, -2.534149959425237],
                  [40.74004188206632, -2.5051672347426277],
                  [40.76176804048657, -2.4657423784739025],
                  [40.7796208236897, -2.4527081293265907],
                  [40.81326645357251, -2.4252671904552927],
                  [40.84416550142407, -2.423895128847498],
                  [40.90871017915845, -2.395767560507544],
                  [40.94853561861157, -2.360097252031308],
                  [40.9389225815022, -2.3127581001629425]]]),
            {
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.72620042859458, -4.078113061876808],
                  [39.70461445442066, -4.071382014857562],
                  [39.700923734816165, -4.073008680801559],
                  [39.69551640144214, -4.071810085161573],
                  [39.69122486701831, -4.069584117095083],
                  [39.68659000984058, -4.068214287534191],
                  [39.68375759712085, -4.070440259387451],
                  [39.68126850715503, -4.073008680801559],
                  [39.67629032722339, -4.0758339348876245],
                  [39.673200422438235, -4.079087245477097],
                  [39.67251377693042, -4.081313187238149],
                  [39.67234211555347, -4.082597381601376],
                  [39.67465954414234, -4.083111058771472],
                  [39.677921110304446, -4.081741252254119],
                  [39.6821268140398, -4.08088512199398],
                  [39.68401508918628, -4.0819124781966165],
                  [39.684701734694094, -4.084480862951053],
                  [39.68547421089038, -4.088076587794151],
                  [39.68684750190601, -4.0905593407740275],
                  [39.68950825324878, -4.093726979956848],
                  [39.6905382215105, -4.096637772479848],
                  [39.691396528395266, -4.098949276644816],
                  [39.69800549140796, -4.116499367784735],
                  [39.714914137037844, -4.0974938859125],
                  [39.73929005256519, -4.083624735612813]]]),
            {
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.82049924460693, -3.936334945727634],
                  [39.798869911110835, -3.9288852582236653],
                  [39.7916601332788, -3.9413013670433266],
                  [39.78857022849365, -3.945582740925411],
                  [39.78402120200439, -3.949435958553803],
                  [39.77749806968017, -3.9597111180508775],
                  [39.775609794533686, -3.962023011371378],
                  [39.77200490561767, -3.9615948834660455],
                  [39.77003079978271, -3.960224872680266],
                  [39.76960164634033, -3.957827348348614],
                  [39.768400016701655, -3.956628583579606],
                  [39.76608258811279, -3.955601069539704],
                  [39.76479512778564, -3.955686695758357],
                  [39.763164344704585, -3.957827348348614],
                  [39.763421836770014, -3.9595398664368893],
                  [39.76505261985107, -3.9613380066164883],
                  [39.76925832358642, -3.9642492729069114],
                  [39.770803275979, -3.9667324037012652],
                  [39.772176566994624, -3.969558026217226],
                  [39.769429984963374, -3.9728973858140937],
                  [39.76634008017822, -3.9769217242897357],
                  [39.76376515952392, -3.9804323013804916],
                  [39.763164344704585, -3.984542226272321],
                  [39.78221875754638, -3.9954163034487293]]]),
            {
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.95950675951486, -3.6316798576087854],
                  [39.907150039544156, -3.5885070319160444],
                  [39.904403457512906, -3.5893636555198953],
                  [39.90131355272775, -3.595359998241488],
                  [39.89925361620431, -3.6035834898411703],
                  [39.89633537279611, -3.6154046287478616],
                  [39.89014767510816, -3.639591878218856],
                  [39.88843106133863, -3.6449026323094573],
                  [39.886542786192145, -3.6515838590396035],
                  [39.88465451104566, -3.6543248607559184],
                  [39.88173626763746, -3.6517551718921184],
                  [39.8786463628523, -3.6459305165774754],
                  [39.87383984429761, -3.6462731444057295],
                  [39.86989163262769, -3.6452452605293395],
                  [39.867316711973395, -3.641990287172062],
                  [39.86577175958082, -3.6394205630492182],
                  [39.86439846856519, -3.6428468602497484],
                  [39.866286743711676, -3.647986281588185],
                  [39.86971997125074, -3.6541535483939334],
                  [39.87195156915113, -3.662468324442393],
                  [39.87263821465894, -3.6676076333466057],
                  [39.87538479669019, -3.671719059196895],
                  [39.88585614068433, -3.672404294998536],
                  [39.8896326909773, -3.6787427012156826],
                  [39.89014767510816, -3.7032393601879527],
                  [39.902507294248785, -3.71077665754958],
                  [39.933234680723395, -3.7140313797198288]]]),
            {
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[40.12898991591038, -3.213257090653792],
                  [40.13353894239964, -3.2124858286365856],
                  [40.143838625016826, -3.215056699760396],
                  [40.1519925404221, -3.2171990874139795],
                  [40.18563817030491, -3.2109433028541514],
                  [40.23325393753914, -3.222341612317637],
                  [40.23932751808771, -3.19980436814248],
                  [40.24138745461115, -3.1804366918633113],
                  [40.24945553932795, -3.1254168024505877],
                  [40.276234714132634, -3.0239395704682623],
                  [40.2796679416717, -2.996854501632206],
                  [40.294430820089666, -2.9368535530099575],
                  [40.25014218483576, -2.960511458489188],
                  [40.24293240700373, -2.982111713695765],
                  [40.243275729757634, -2.988283137401244],
                  [40.23984250221857, -2.99856876642899],
                  [40.23194607887873, -3.0129684845016387],
                  [40.228512851339666, -3.0184540413317884],
                  [40.224979876027966, -3.020864573696682],
                  [40.223778246389294, -3.0238216136246283],
                  [40.22141790245619, -3.0255358359789706],
                  [40.21954460622785, -3.0238923667449495],
                  [40.219372944850896, -3.0195639435288535],
                  [40.22044582845685, -3.0157497741202044],
                  [40.22070332052228, -3.012449863950587],
                  [40.21851463796613, -3.0097927861548706],
                  [40.216368870754216, -3.006192863968479],
                  [40.211390690822576, -3.001735800996165],
                  [40.20375175954816, -3.006364289103963],
                  [40.1977436113548, -3.0131784164072],
                  [40.19473953725812, -3.0211496055222486],
                  [40.19585533620832, -3.0245780559671527],
                  [40.19954605581281, -3.024063789091151],
                  [40.205897526760076, -3.0248351893136873],
                  [40.20821495534894, -3.029335013002725],
                  [40.21010323049543, -3.0335776867801862],
                  [40.21121902944562, -3.0376060686954536],
                  [40.21036072256086, -3.0403916431461537],
                  [40.20722790243146, -3.045834206309686],
                  [40.20327969076154, -3.04934828759866],
                  [40.20113392354963, -3.049648269616011],
                  [40.19503994466779, -3.046777009732948],
                  [40.19074841024396, -3.0400488036018087],
                  [40.18761559011457, -3.034820487058137],
                  [40.185212330837224, -3.03199204297216],
                  [40.17315311910627, -3.0378631989459213],
                  [40.168947415370916, -3.0468627190941246],
                  [40.167478843431255, -3.056971268620789],
                  [40.170997901658794, -3.0628422883268787],
                  [40.175461097459575, -3.0611281253137985],
                  [40.18919447281243, -3.0609138547442853],
                  [40.19048193313958, -3.06464215653728],
                  [40.19125440933587, -3.0681133223929624],
                  [40.190138610385674, -3.074541377537188],
                  [40.18794992782952, -3.079340966790342],
                  [40.185889991306084, -3.082340699092206],
                  [40.18082598068597, -3.084826185164615],
                  [40.1739166102636, -3.085169010373868],
                  [40.169110091708916, -3.083883415269195],
                  [40.165978287988835, -3.0823478488294023],
                  [40.16061386995905, -3.0784481952152656],
                  [40.15533481576415, -3.0822428087105265],
                  [40.15413318612548, -3.090642014911896],
                  [40.166149482512196, -3.093041775909355],
                  [40.16803775765868, -3.1045262711318733],
                  [40.17009769418212, -3.1218384830429255],
                  [40.173187598967274, -3.129380347623775],
                  [40.17507587411376, -3.136579349549606],
                  [40.16923938729735, -3.1446353167401964],
                  [40.162716254973134, -3.1472063570071005],
                  [40.15413318612548, -3.146177941661283],
                  [40.13731037118407, -3.13897900584907],
                  [40.12117420175048, -3.1557764453864525],
                  [40.10812793710204, -3.185599800787012],
                  [40.10812793710204, -3.2044532009296756],
                  [40.11911426522704, -3.214393944922753]]]),
            {
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[40.943208565663376, -2.3583428740431835],
                  [40.999513497304, -2.366575616782132],
                  [41.1588152551165, -2.2952235736849693],
                  [41.248079171132126, -2.214948273464753],
                  [41.30438410277275, -2.131237774077979],
                  [41.34039981784427, -2.063244498029841],
                  [41.338339881320834, -2.008347530810982],
                  [41.32048709811771, -1.987760689860556],
                  [41.30675418796146, -2.00148527918368],
                  [41.29370792331302, -2.015209753617688],
                  [41.26761539401615, -2.0323651838991643],
                  [41.244956092258334, -2.0563824797199772],
                  [41.236716346164584, -2.0474618118162633],
                  [41.23877628268802, -2.0330513973292326],
                  [41.22916324557865, -2.0392273050595664],
                  [41.201010779758334, -2.0639306982340564],
                  [41.17835147800052, -2.0831441833485447],
                  [41.18659122409427, -2.0954955858759274],
                  [41.1989508432349, -2.1051021649608606],
                  [41.20169742526615, -2.1222566230367037],
                  [41.19483097018802, -2.14627254424948],
                  [41.18041141452396, -2.1586234428119426],
                  [41.16393192233646, -2.1757773019890854],
                  [41.148825721164584, -2.185383377999221],
                  [41.13921268405521, -2.177835752008701],
                  [41.1275397104224, -2.1702880882077085],
                  [41.121359900852084, -2.182638791112956],
                  [41.1055670541724, -2.197047816218655],
                  [41.08084781589115, -2.2018507937391907],
                  [41.06951816501224, -2.216259633284854],
                  [41.073638038059116, -2.226208512136815],
                  [41.077414588352084, -2.2313544576243767],
                  [41.07398136081302, -2.239587932930053],
                  [41.065398291965366, -2.255711687880239],
                  [41.06024845065677, -2.259485306892979],
                  [41.054411963840366, -2.2581130829311884],
                  [41.044455603977084, -2.2286304354577604],
                  [41.0344992441138, -2.227258182547095],
                  [41.01904972018802, -2.2234844804542333],
                  [41.003256873508334, -2.2104479808934974],
                  [40.988493995090366, -2.197068296509602],
                  [40.96892459811771, -2.222798351763683],
                  [40.963774756809116, -2.278500159805833],
                  [40.97270114841068, -2.294966528669512],
                  [40.96686466159427, -2.3045718230120644],
                  [40.95450504245365, -2.3172644339535107],
                  [40.93974216403568, -2.324125257398699]]]),
            {
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[41.399277073512884, -1.8887503305560565],
                  [41.38794742263398, -1.9065933225485205],
                  [41.39412723220429, -1.942965000767379],
                  [41.4387591902121, -1.932671208406923],
                  [41.50227389968476, -1.886348375294279],
                  [41.54419939957979, -1.8218419567164112],
                  [41.606684140790726, -1.7765456963532564],
                  [41.63209002457979, -1.7031085024210866],
                  [41.645136289228226, -1.6228048202436351],
                  [41.632433347333695, -1.6042727426944774],
                  [41.609564323709606, -1.6258123456344067],
                  [41.60166790036976, -1.6381669513174923],
                  [41.576605339334606, -1.6769461882662249],
                  [41.56321575193226, -1.699252482003243],
                  [41.55669261960804, -1.7133224734567478],
                  [41.536436577127574, -1.7414621454680101],
                  [41.5213303759557, -1.760679241404093],
                  [41.51489052318026, -1.7735668007796976],
                  [41.50939735911776, -1.7821457379478183],
                  [41.49703773997714, -1.792097254979191],
                  [41.47369179271151, -1.8147453330509296],
                  [41.46407875560214, -1.823667225518232],
                  [41.452405781969325, -1.83636368848122],
                  [41.43901619456698, -1.8470011961359256],
                  [41.42734322093417, -1.8542072135466456],
                  [41.41086372874667, -1.873079976950954],
                  [41.401250691637294, -1.8833741259783414]]]),
            {
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.44231651626132, -4.573581464355877],
                  [39.43339012465976, -4.568105770970827],
                  [39.41073082290195, -4.557838733218331],
                  [39.388071521144134, -4.574265923086663],
                  [39.3805184205582, -4.590008293146065],
                  [39.41416405044101, -4.637917712641264],
                  [39.41416405044101, -4.650921138592167],
                  [39.4134774049332, -4.664608696003394],
                  [39.41691063247226, -4.684455180151906],
                  [39.42240379653476, -4.687192582088227],
                  [39.434763415675384, -4.685139531640926],
                  [39.453989489894134, -4.661871205839745],
                  [39.48626182876132, -4.5756348385856285],
                  [39.48008201919101, -4.562630035774448],
                  [39.46566246352695, -4.563314504958864],
                  [39.4574227174332, -4.568790234931539],
                  [39.44918297133945, -4.584532725493176]]]),
            {
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.26574245757602, -4.607530045385012],
                  [39.25887600249789, -4.614374277383971],
                  [39.26093593902133, -4.6215606499634765],
                  [39.271578944392424, -4.63319557484786],
                  [39.287028468318205, -4.650647603017028],
                  [39.29664150542758, -4.652358562921757],
                  [39.30144802398227, -4.655780470256354],
                  [39.3031646377518, -4.660571112561353],
                  [39.30041805572055, -4.667072646310456],
                  [39.29561153716586, -4.672547575389373],
                  [39.29046169585727, -4.675969384353346],
                  [39.28634182281039, -4.67939117660251],
                  [39.282565272517424, -4.682470775325568],
                  [39.277758753962736, -4.68418165764737],
                  [39.271578944392424, -4.682470775325568],
                  [39.26848903960727, -4.678706819490447],
                  [39.26196590728305, -4.668099198767497],
                  [39.262309230036955, -4.6609133000482865],
                  [39.2647124893143, -4.654069518668712],
                  [39.263339198298674, -4.650305410537271],
                  [39.24514309234164, -4.64311933008006],
                  [39.25644868519814, -4.62106717283339],
                  [39.25129884388954, -4.615934053419002],
                  [39.23722261097939, -4.624489231795155],
                  [39.23310273793251, -4.634070908897039],
                  [39.249238907366106, -4.658366721570028],
                  [39.253015457659075, -4.663841718538751],
                  [39.24958223012001, -4.6676057542000695],
                  [39.240999161272356, -4.669658856052385],
                  [39.23447602894814, -4.670685404725228],
                  [39.228296219377825, -4.674449403667144],
                  [39.22898286488564, -4.681635163671742],
                  [39.22966951039345, -4.687452153436525],
                  [39.22623628285439, -4.691900407057192],
                  [39.21868318226845, -4.694979950654176],
                  [39.21662324574501, -4.699770324782514],
                  [39.220056473284075, -4.703534167071934],
                  [39.227266251116106, -4.702507666646172],
                  [39.24065583851845, -4.698401649818504],
                  [39.244775711565325, -4.699428156293465],
                  [39.24992555287392, -4.703876333544282],
                  [39.25095552113564, -4.710719627666467],
                  [39.24546235707314, -4.715167732734633],
                  [39.2379092564872, -4.71824717340598],
                  [39.23310273793251, -4.713114764702362],
                  [39.22932618763954, -4.7090088104463454],
                  [39.225549637346575, -4.713456926462311],
                  [39.23172944691689, -4.729196185100433],
                  [39.25713533070595, -4.7452772321034065],
                  [39.27567475941689, -4.752120117267072],
                  [39.28357118275673, -4.749725115182787],
                  [39.28254121449501, -4.744250793475173],
                  [39.27807801869423, -4.7370656803650935],
                  [39.274988113909075, -4.729538338928905],
                  [39.27601808217079, -4.719957967876917],
                  [39.28850792251132, -4.691983009671028],
                  [39.300180896144134, -4.681717767498871],
                  [39.31082390151523, -4.668030543700097],
                  [39.31528709731601, -4.665977437083692],
                  [39.33554313979648, -4.656054003836917],
                  [39.3424095948746, -4.649552368207295],
                  [39.34652946792148, -4.637233315163929],
                  [39.33245323501132, -4.618069916933409],
                  [39.31185386977695, -4.600274869225858],
                  [39.289194568019134, -4.600959302371893],
                  [39.26790855727695, -4.6057503159658255]]]),
            {
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.174911608445534, -5.015296917734937],
                  [39.165813593134445, -5.016151943140938],
                  [39.16426860307444, -5.024531076660091],
                  [39.162208666551, -5.027267098631927],
                  [39.152938952195534, -5.029319107568748],
                  [39.150192370164284, -5.022479052642517],
                  [39.14435588334788, -5.023847069372046],
                  [39.12684642289866, -5.040605041044109],
                  [39.12306987260569, -5.047102913823938],
                  [39.131652941453346, -5.066596141340253],
                  [39.13886271928538, -5.077197474515541],
                  [39.14332591508616, -5.078565375787028],
                  [39.15225230668772, -5.0847208955814915],
                  [39.157402147996315, -5.0847208955814915],
                  [39.172851671922096, -5.075829570342509],
                  [39.17628489946116, -5.071725840421936],
                  [39.1840097343663, -5.058473606632279],
                  [39.18486793846764, -5.0452213446108995],
                  [39.18160627279925, -5.024445116343138]]]),
            {
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.11438314369458, -5.347745717935184],
                  [39.10820333412427, -5.36620417287634],
                  [39.10202352455396, -5.376458628833176],
                  [39.09241048744458, -5.373724124119571],
                  [39.090350550921144, -5.360735059187887],
                  [39.093097132952394, -5.345694744100571],
                  [39.09378377846021, -5.333388756918592],
                  [39.08554403236646, -5.332021409767731],
                  [39.07181112221021, -5.329970383331336],
                  [39.032672328264894, -5.323817262933673],
                  [38.98941366127271, -5.396283420301235],
                  [38.972247523577394, -5.440032388029253],
                  [38.97293416908521, -5.485828680003501],
                  [38.98735372474927, -5.494030630612962],
                  [38.996966761858644, -5.5104341928763665],
                  [38.98735372474927, -5.5500742620091055],
                  [38.958514613421144, -5.601855765935964],
                  [38.99628011635083, -5.614839580332983],
                  [39.02374593666333, -5.572470279265659],
                  [39.038165492327394, -5.508227128308729],
                  [39.05670492103833, -5.480203998870885],
                  [39.073871058733644, -5.427571646141877],
                  [39.08142415931958, -5.418001632587305],
                  [39.09103719642896, -5.430305907845458],
                  [39.115069789202394, -5.430989471333469],
                  [39.15283529213208, -5.391341510519832],
                  [39.16244832924146, -5.301098597557478],
                  [39.162791305537695, -5.253578755860568],
                  [39.14184896400708, -5.259390963622037],
                  [39.13635579994458, -5.275800859229288],
                  [39.12948934486646, -5.294945188837229],
                  [39.12399618080396, -5.3045171314666115],
                  [39.12193624428052, -5.324344254312547],
                  [39.117816371233644, -5.342119751941897]]]),
            {
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.81802399156288, -9.925890889074573],
                  [39.793991398789444, -9.9353598967958],
                  [39.77339203355507, -9.938741618851937],
                  [39.75141937730507, -9.921832659060469],
                  [39.69717438218788, -9.964441562710256],
                  [39.69099457261757, -9.977290775538323],
                  [39.69648773668007, -9.997577974014453],
                  [39.74111969468788, -10.000282838195846],
                  [39.74935944078163, -9.98202456830841],
                  [39.763778996445694, -9.969175542161025],
                  [39.80291779039101, -9.959707514540547],
                  [39.83656342027382, -9.948886575131219]]]),
            {
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[40.41459551879005, -11.728169278201548],
                  [40.50935797089556, -11.73220538494696],
                  [40.5107258898838, -11.666309801490145],
                  [40.4942463976963, -11.539858489123834],
                  [40.5107258898838, -11.469882171057726],
                  [40.567038138910526, -11.462380630882583],
                  [40.55398837979525, -11.4074797631638],
                  [40.49527931207337, -11.35848922666902],
                  [40.4777669055088, -11.31488242077521],
                  [40.4997395617588, -11.258319671187907],
                  [40.50729512034071, -11.225317791972246],
                  [40.51690806872701, -11.21268903888789],
                  [40.53269995322021, -11.20544803459981],
                  [40.52514490753107, -11.196354803948948],
                  [40.49149981566505, -11.182885386693709],
                  [40.39262286254005, -11.177496470527394],
                  [40.32121172972755, -11.26370707954683],
                  [40.2909993273838, -11.387589534572225],
                  [40.3349446398838, -11.454894373879636],
                  [40.3514241320713, -11.573311934697866],
                  [40.3898762805088, -11.68898978739147]]]),
            {
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[43.960349532268665, -18.379930164334215],
                  [43.92601725687804, -18.399477575877647],
                  [43.91228434672179, -18.3968713824534],
                  [43.91228434672179, -18.34604273577199],
                  [43.94524333109679, -18.329096527965962],
                  [43.93975016703429, -18.30302219692264],
                  [43.91777751078429, -18.27563992450383],
                  [43.87383219828429, -18.27172781832338],
                  [43.84361979594054, -18.202599414871766],
                  [43.82439372172179, -18.20129484136567],
                  [43.820963906483854, -18.228689279071414],
                  [43.74748942484679, -18.241732075415978],
                  [43.667258874612, -18.23754163502196],
                  [43.5760061918517, -18.31417059438362],
                  [43.67367831101394, -18.35660905585369],
                  [43.72398779771577, -18.30845197111114],
                  [43.790752127751745, -18.28374417498706],
                  [43.78044840922179, -18.333580282782393],
                  [43.743369551799915, -18.362256763038953],
                  [43.663039857483945, -18.392227861050376],
                  [43.57685814388513, -18.46974350366915],
                  [43.680198165081165, -18.51728772588772],
                  [43.76190878753726, -18.502964693104374],
                  [43.79418131937804, -18.467797247444878],
                  [43.820273848674915, -18.47951996838939],
                  [43.81820994356798, -18.532260504130623],
                  [43.86284587015929, -18.543329598951306],
                  [43.891684981487415, -18.539423570948216],
                  [43.91159603068003, -18.540726033330788],
                  [43.91193939131967, -18.56741473250843],
                  [43.93151042094054, -18.56806570143182],
                  [43.95073699819687, -18.574577447242902],
                  [43.99742838969054, -18.56285839884552],
                  [43.98644206156554, -18.51728772588772],
                  [43.979575606487415, -18.449560311658228],
                  [43.96446940531554, -18.428715727887834],
                  [43.938376876018665, -18.441743889054973],
                  [43.89305827250304, -18.437835544394694],
                  [43.897178145549915, -18.41698953877871],
                  [43.927390547893665, -18.40656558863904],
                  [43.94524333109679, -18.413080631458183],
                  [43.96721598734679, -18.422201277073132],
                  [43.976829024456165, -18.389625323683543]]]),
            {
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[39.62139042356433, -8.901664187776522],
                  [39.60559757688464, -8.920658197603217],
                  [39.59186466672839, -8.926084876117072],
                  [39.579505047587766, -8.932868110733526],
                  [39.5595923278612, -8.940329523016576],
                  [39.55066593625964, -8.94372102353039],
                  [39.54517277219714, -8.965425878186378],
                  [39.53967960813464, -8.969495394120585],
                  [39.54585941770495, -8.974921344395646],
                  [39.55547245481433, -8.98034721351799],
                  [39.56941851912143, -9.021716792041715],
                  [39.59688433943393, -9.042060748143864],
                  [39.607184022051115, -9.048841811531828],
                  [39.62229022322299, -9.055622747109128],
                  [39.63121661482455, -9.05697891887916],
                  [39.65868243513705, -9.05630083363371],
                  [39.66417559919955, -9.047485609076134]]]),
            {
              "system:index": "24"
            })]),
    no_reef = 
    /* color: #fc16fa */
    /* shown: false */
    ee.Geometry.MultiPolygon(
        [[[[38.35401789079527, -16.424735032322175],
           [34.88233820329527, -18.228546805551858],
           [33.82765070329527, -20.034493928429058],
           [34.88233820329527, -21.636217850407405],
           [38.88136164079527, -17.68508818688396]]],
         [[[33.59587221817238, -24.307016000993606],
           [32.01386817305917, -25.888817414138494],
           [32.10105580251304, -26.385558926324546],
           [32.29950968344603, -27.019902731381933],
           [32.85033954931903, -27.119083634583152],
           [33.10699033247816, -27.186157386901126],
           [33.58952686109541, -27.217283968764665],
           [34.53186082757654, -25.995487520218155],
           [33.27864243592564, -25.955497719868166],
           [33.009154340968905, -25.944856517655484],
           [33.00202783364101, -25.975635169916433],
           [32.980905903027384, -26.017389235294335],
           [32.97847004563643, -26.058893651174508],
           [32.97221196747435, -26.09128892949989],
           [32.88696277795402, -26.057363804605313],
           [32.89134569821566, -26.020393271230436],
           [32.900133813927404, -26.00435379126868],
           [32.89930767980685, -25.98461139301412],
           [32.89353627976258, -25.969814516215237],
           [32.9105701862848, -25.961648154048515],
           [32.942703803946024, -25.958419991912336],
           [32.995977420352624, -25.960593810062168],
           [34.59393778976867, -26.019352884413035],
           [33.80977806198563, -25.177801704304446],
           [33.75932459328273, -25.118294338251374],
           [33.728269963902875, -25.128204352939445],
           [33.70030051889533, -25.141526693994834],
           [33.68763481072861, -25.119051898603097],
           [34.057577384457296, -24.996293655689474],
           [34.41777362158109, -24.86645679151873],
           [34.54555363920523, -24.837979721711655],
           [34.55369705111162, -24.852646902760185],
           [34.53986760975614, -24.86232960237253],
           [34.38551855354186, -24.91346970207063],
           [34.19968819717318, -24.971856464376454],
           [34.083957804953236, -25.011458554823772],
           [34.04366082869869, -25.025368192182263],
           [33.99854952582002, -25.04144706485339],
           [33.91254703375137, -25.063402627848685],
           [33.85455794209665, -25.084117891127978],
           [33.797581346604076, -25.105121063565274],
           [33.776463588016, -25.113050259728944],
           [33.76015025837486, -25.119111965070772],
           [33.83118249173933, -25.246483566476105],
           [34.20743665893492, -25.734859500138818],
           [34.60166518365127, -26.022831983878635],
           [35.217201216774704, -25.59831412330064],
           [35.77662318236823, -24.52209752645056],
           [35.117454453081734, -24.156743666442523]]],
         [[[30.771985102720343, -30.17551393390004],
           [31.343274165220343, -30.431614029491474],
           [33.06812768084534, -28.8080885695647],
           [33.51856713397034, -27.197958279069873],
           [32.29359154803284, -26.997460849248576],
           [30.585217524595343, -29.55624627195737]]],
         [[[47.72550953333323, -25.06150046158232],
           [49.81291187708323, -19.052546736053255],
           [48.68132008020823, -18.699100261826707],
           [46.49504078333323, -24.422927003569175],
           [46.82463062708323, -24.782528311925947]]],
         [[[44.019582593079306, -22.072454738622977],
           [47.623052204211184, -15.77865888111144],
           [47.04627797936351, -15.252382825089557],
           [47.02430567089811, -15.20600605354598],
           [47.13416933585809, -15.034325231368603],
           [47.22927852825613, -14.90794326204374],
           [47.17605476920325, -14.867811088896437],
           [46.96016521090364, -14.958764586765245],
           [46.918008544140726, -14.917125414575708],
           [46.881348776761754, -14.939171841714204],
           [46.790161750679495, -15.010449020502294],
           [46.722910534217725, -15.084039161509306],
           [46.67274720381737, -15.227207504742122],
           [46.51619363625021, -15.357023173167581],
           [46.35964020049622, -15.419252991433952],
           [46.18523427839844, -15.428519475362728],
           [46.082238595476035, -15.482787487020566],
           [46.01357477128247, -15.552917797718344],
           [45.81444986003387, -15.625669152861825],
           [45.704587875558225, -15.638893836224344],
           [45.49173022917167, -15.739374053065173],
           [45.251092411493936, -15.805452361849836],
           [44.998409951431434, -15.705004491153629],
           [44.91464019961971, -15.71690218518185],
           [44.70727571995741, -15.874150894911367],
           [44.60016031791184, -15.891321908129996],
           [44.465579426305496, -15.780344886916966],
           [44.22662965761002, -15.73805194750035],
           [43.81739401770325, -16.03391689222961],
           [44.04159349364812, -16.282918001958432],
           [44.03747376121431, -16.510831813596525],
           [43.691406967253116, -17.00919112526558],
           [43.88508287084567, -17.229542672427417],
           [43.84526977660668, -17.326309905412078],
           [43.78533490828829, -17.302989842066538],
           [43.780347298637366, -17.237705590179278],
           [43.80695852683128, -17.193396983884302],
           [43.77314687675463, -17.138592789150522],
           [43.73040091039783, -17.091626469177154],
           [43.673943077697956, -17.0472672165729],
           [43.596705326481455, -17.236780280599753],
           [43.69686895009573, -17.367608232764855],
           [43.80264468832103, -17.474793547489835],
           [43.76009118871005, -17.532423681611434],
           [43.659150862439745, -17.47479810166831],
           [43.54996078251879, -17.348997608033795],
           [43.53821557140482, -17.65129296663684],
           [43.63647889253022, -17.953578887918944],
           [43.879548102402175, -18.06067126335666],
           [43.82599057718601, -18.200315797744675],
           [43.94821183971117, -18.35809671812983],
           [43.948211865669464, -18.412830039486504],
           [43.98391699567337, -18.57041667171542],
           [44.019622114801784, -18.72395607153677],
           [44.006629243889755, -18.870902406271078],
           [44.007953307305385, -18.966343744909743],
           [43.99322824496872, -19.07267426641331],
           [43.82653192562884, -19.11812344554728],
           [43.72531455174489, -19.111042029078813],
           [43.72831845487481, -19.612215267562732],
           [43.66702952565739, -20.268275208262388],
           [43.873020152860555, -20.66197234100242],
           [43.83868850539531, -20.792979411758306],
           [43.779637971670866, -20.83148932459001],
           [43.77414493757712, -20.895650573436225],
           [43.75217270536636, -20.996969435372222],
           [43.70960147093463, -21.12768451082062],
           [43.58360478992101, -21.084124777320234],
           [43.56403092561685, -21.013634648053397],
           [43.51357037804033, -21.031579492424928],
           [43.36995182402618, -21.164455046151414],
           [43.33298383726464, -21.326099306759605],
           [43.29487466096948, -21.363192916061315],
           [43.4370081809342, -21.626729821950697],
           [43.480266132612066, -21.669808509119218],
           [43.60248704040799, -21.76676811159124],
           [43.90323272259465, -21.892972455329264]]],
         [[[41.80000583235125, -1.5253743123144514],
           [41.65306924398584, -1.6200932034486581],
           [41.569292655715, -1.7573638638692843],
           [41.405888785190996, -1.94334050687446],
           [41.25068919791847, -2.134798206090043],
           [40.85792890235107, -2.494304191647207],
           [40.690387874144676, -2.6424696971159287],
           [40.62722274696452, -2.6939101984709386],
           [40.555814489110695, -2.704193470647782],
           [40.49916261279783, -2.649664696447873],
           [40.421913886712446, -2.660980132903187],
           [40.33092447881516, -2.7326528858305066],
           [40.29092087923231, -2.9166272983604737],
           [40.268787837148814, -3.01143327286898],
           [40.24681534508356, -3.121138335659068],
           [40.21488936604503, -3.2907236874101105],
           [40.0775765163316, -3.41958403829987],
           [39.971818061809, -3.5539233296372275],
           [39.85234252694281, -3.8759663291880364],
           [39.72738886078212, -4.084881701483663],
           [39.66557638655313, -4.140361311955505],
           [39.63811076693376, -4.184190423067543],
           [39.62437824885247, -4.295115910937345],
           [39.592792259751704, -4.373174959927739],
           [39.52963790191488, -4.579880410350448],
           [39.42045482407128, -4.753030556214946],
           [39.33873595953369, -4.898787696661642],
           [39.30580349493109, -4.986375324614203],
           [39.59698500924893, -5.06095194331916],
           [39.64642355249541, -4.909415409352309],
           [39.67387215045333, -4.757876682339201],
           [39.70543050915504, -4.716117887721857],
           [39.74522678985036, -4.723627094228783],
           [39.78367593127602, -4.739366731228586],
           [39.84410296806988, -4.79889685717824],
           [39.89079353356151, -4.8317388342726],
           [39.93473944668573, -4.8495282251774565],
           [39.89903413070411, -5.109466369010597],
           [39.8386098262443, -5.378869697247811],
           [39.788491910858106, -5.4670497122559185],
           [39.710894919479394, -5.506008854295166],
           [39.58110692834306, -5.506013731212307],
           [39.52687554948629, -5.404846612597384],
           [39.562589213141514, -5.291351585132238],
           [39.55846087394781, -5.202471550799351],
           [39.5982859199933, -5.061590830033339],
           [39.449971709834045, -5.027391890138197],
           [39.30373584227811, -4.98908168062561],
           [39.20690131726956, -5.124512540018456],
           [39.163661902036694, -5.239014892163949],
           [39.123152035491046, -5.378129968611145],
           [39.09773746614827, -5.539112141801794],
           [39.04995587350207, -5.691786361577075],
           [38.98211082784129, -5.668362746209119],
           [38.966448293672094, -5.7214610430452035],
           [38.98454620197832, -5.782571738977489],
           [38.89826288401263, -5.922922561485292],
           [38.90429410897058, -6.035523199739257],
           [38.98285004126539, -6.099990856823974],
           [38.97021114300806, -6.137943998546022],
           [38.99465170342856, -6.18135744656903],
           [39.02678631534237, -6.183940511270805],
           [39.057548381132115, -6.17833029813933],
           [39.09901441213584, -6.09700768938633],
           [39.074560790794635, -6.029340031933524],
           [39.102848255492795, -5.963428064946387],
           [39.144859601022375, -5.9630794159391245],
           [39.16626934620994, -5.902629650944013],
           [39.18630287247533, -5.836715271662924],
           [39.19866250846934, -5.716490842171411],
           [39.29341839881571, -5.676852036185853],
           [39.3449176742075, -5.683005094318284],
           [39.37306857657009, -5.739709509146914],
           [39.42799971623004, -5.7711356429515055],
           [39.4441221144682, -5.808013021443979],
           [39.436900282745434, -5.839426008142083],
           [39.41612801861534, -5.85513668124597],
           [39.38574118281512, -5.879041886406424],
           [39.44735970001012, -6.0190524268539765],
           [39.479558152729034, -6.069932456941471],
           [39.51763471941183, -6.08307920830603],
           [39.55571471264758, -6.118071780622345],
           [39.587286548154204, -6.254581075464072],
           [39.61339244450554, -6.392456744768216],
           [39.60240703158798, -6.419068261870955],
           [39.58318038402151, -6.4497725382814535],
           [39.55571487049271, -6.481157018744762],
           [39.51726314943641, -6.5111751348799505],
           [39.48086752320151, -6.498213131118175],
           [39.42800013952018, -6.425209501844574],
           [39.37066819737423, -6.379832707767457],
           [39.35847908073538, -6.400814428943395],
           [39.420451387648214, -6.462736886736475],
           [39.40568873340223, -6.495145182149549],
           [39.34423033729232, -6.500259780081213],
           [39.28105243835239, -6.41156766646391],
           [39.18630342723298, -6.365161544625139],
           [39.055842118270284, -6.336499863687681],
           [39.02288346133809, -6.322850854672482],
           [39.02151027695621, -6.392457231248899],
           [39.0462293046454, -6.432033073143583],
           [39.088800906197825, -6.459324930874536],
           [39.123132207036896, -6.471606463365595],
           [39.16021129071896, -6.472970252623719],
           [39.219262241244095, -6.542555991470246],
           [39.3002855727038, -6.5875768608231535],
           [39.337356926628495, -6.632591371879867],
           [39.33598052848369, -6.696702278681063],
           [39.32362117879356, -6.740344025812753],
           [39.36344821959584, -6.76489218507269],
           [39.4540926183351, -6.800347222711779],
           [39.69029601501841, -6.805801553778645],
           [39.822130466712906, -6.849434712751152],
           [39.86607528020005, -6.857615490601472],
           [39.92924595380982, -6.835799784816465],
           [39.96220456186555, -6.849434730213202],
           [39.97593730030791, -6.909423818449167],
           [39.969070828516344, -6.958499977626258],
           [39.93748558073808, -6.963952733749107],
           [39.910020084387675, -6.917603545801244],
           [39.91002009078125, -6.876703425767802],
           [39.86332872807148, -6.873976620169105],
           [39.797411509266446, -6.865796124142294],
           [39.67930643606807, -6.828996410069549],
           [39.561208127946536, -6.838526846852729],
           [39.515885062005395, -6.83034042860939],
           [39.558451391086386, -6.936683512819285],
           [39.58317068019832, -6.9966656745913305],
           [39.58318061836059, -7.051185831364843],
           [39.58867375878125, -7.157478883212544],
           [39.53443125887746, -7.179262720398069],
           [39.54575643571248, -7.26236035715008],
           [39.520000812680195, -7.327748372948878],
           [39.492193991290144, -7.364529884356294],
           [39.5373412034764, -7.385645969643047],
           [39.56464156748792, -7.433996332361169],
           [39.56841198760387, -7.497999672166198],
           [39.610208237167605, -7.5296561632217],
           [39.65475966655387, -7.584452461693554],
           [39.679093848946735, -7.571177525803276],
           [39.6848873781132, -7.542928413426598],
           [39.718448284999766, -7.5456439641074065],
           [39.731837457229744, -7.566743935849238],
           [39.72600129980622, -7.602818218473724],
           [39.755527453586375, -7.6797232857541555],
           [39.793464291749196, -7.720381542935167],
           [39.83620804005029, -7.686868224282472],
           [39.8756881318245, -7.627999698830885],
           [39.89869113603172, -7.612006941769445],
           [39.92443934946989, -7.611665938547918],
           [39.93765749255779, -7.627997572018954],
           [39.93027654733783, -7.651815572445627],
           [39.916886327556746, -7.710339582017786],
           [39.90590225917807, -7.770209065702401],
           [39.886674297256356, -7.830078013938816],
           [39.86882174426261, -7.847763738658549],
           [39.87156828841814, -7.8708900910850845],
           [39.84684937065231, -7.911698146817325],
           [39.83448991279261, -7.94026138304911],
           [39.82350372893807, -7.972902648085002],
           [39.80427790975631, -8.013700563754286],
           [39.67107048549967, -8.152382762771829],
           [39.63536211587848, -8.144908058927713],
           [39.60515073560306, -8.10480395118879],
           [39.565328481456795, -8.091205364300002],
           [39.48155136894372, -8.114314551738014],
           [39.45614213567183, -8.162234901816863],
           [39.48291741830342, -8.210155220901319],
           [39.53991157216566, -8.246519585304519],
           [39.60961077590003, -8.223923493763323],
           [39.65459124206401, -8.247529028180312],
           [39.66008434347413, -8.295093581461408],
           [39.62163274964726, -8.372543524168629],
           [39.59073664919517, -8.435016419566493],
           [39.59451038655858, -8.502930506152746],
           [39.603780300092346, -8.611589285763742],
           [39.57700459036956, -8.656391313696236],
           [39.533744093585135, -8.668605919107902],
           [39.52378616128309, -8.691345068322107],
           [39.5467879093557, -8.70865400251399],
           [39.587301095931615, -8.747343715291551],
           [39.62575274873318, -8.942742910718927],
           [39.65871127387339, -9.05667748546027],
           [39.63673896635526, -9.116343122725425],
           [39.65047168522666, -9.175998775273836],
           [39.655964780239756, -9.23022248002076],
           [39.666950956969174, -9.297990372251281],
           [39.650471752192395, -9.414520395077073],
           [39.70540255087329, -9.509341401251138],
           [39.73836102161811, -9.566221402301966],
           [39.74934718174229, -9.625799766782928],
           [39.760332436611165, -9.655583355089046],
           [39.76857304247493, -9.6934896477265],
           [39.779559107346806, -9.736804077096028],
           [39.793289707807325, -9.765226031256818],
           [39.81663716288858, -9.801765329658382],
           [39.82693733772795, -9.869410639798106],
           [39.80530771855346, -9.911351776685365],
           [39.81938315039484, -9.953291303190563],
           [39.91206590816165, -9.990490273012472],
           [39.97731014896549, -10.06553859448217],
           [40.1338153337269, -10.136536170031178],
           [40.18601660994162, -10.18722891020626],
           [40.22999097388751, -10.150710700282449],
           [40.47717900005921, -10.310180140907766],
           [40.576054178601495, -10.369622752787924],
           [40.53725891688095, -10.455051318608206],
           [40.54840677364246, -10.46770396704181],
           [40.56771468703612, -10.508464622225375],
           [40.585654388047445, -10.551924702115071],
           [40.618281273146884, -10.627188156419756],
           [40.64074392385069, -10.659390857115573],
           [40.68185139890722, -10.767248601290834],
           [40.67941466861959, -10.787450735735066],
           [40.66961401251304, -10.801599854192617],
           [40.67638679696906, -10.821490080410278],
           [40.69621355904303, -10.831600190085448],
           [40.70513156953075, -10.860758180371539],
           [40.760071010503296, -10.98229115446813],
           [40.73535194542473, -11.160188502591033],
           [40.69621560741666, -11.203297776835468],
           [40.61587715152926, -11.230575779415227],
           [40.59630684862056, -11.236300928609134],
           [40.59819192222361, -11.26560035204867],
           [40.60512312523735, -11.268715824546035],
           [40.61686085191589, -11.264086800749535],
           [40.63415606575849, -11.25684813776213],
           [40.68029027190427, -11.254657942483774],
           [40.695804667021186, -11.257601494398973],
           [40.70788647208132, -11.267952136551049],
           [40.687292644172736, -11.298255986759118],
           [40.630300356576875, -11.305999743262374],
           [40.59905589637863, -11.288995333444612],
           [40.578109793517804, -11.35480569156042],
           [40.61450234767382, -11.337307680625925],
           [40.65638603650516, -11.340001562244117],
           [40.6776724463047, -11.339663116575545],
           [40.688315842986654, -11.34420572060959],
           [40.69209335425624, -11.362212603673399],
           [40.68625565540332, -11.401922700167761],
           [40.68247967424513, -11.451730473746352],
           [40.67664427571303, -11.497143074191577],
           [40.65312654386149, -11.521196836419808],
           [40.6563881541497, -11.590326740840451],
           [40.68729664132914, -11.738819133381579],
           [40.59941595747005, -11.944416135115766],
           [40.618622215769214, -11.975318407242778],
           [40.60556609453839, -12.014312263624262],
           [40.67767329304803, -12.176906505126452],
           [41.38353071146465, -12.099039291983793],
           [41.45219378263765, -12.131263734233674],
           [41.46592625400682, -12.187646845385427],
           [41.45493995260744, -12.257437817975294],
           [41.416488540544, -12.276224448559603],
           [41.380783736188384, -12.265489243529284],
           [41.356065104742854, -12.227912845438956],
           [41.314867466347955, -12.131263379829223],
           [40.68316630512874, -12.203752473893804],
           [40.633728693949095, -12.30574218965776],
           [40.65570047289728, -12.399645110783325],
           [40.65432585558346, -12.564564125499727],
           [40.66040144902197, -12.776017774355166],
           [40.58123620725999, -13.166891897668558],
           [40.58947561337905, -13.284533509573942],
           [40.62518027888112, -13.359366731408924],
           [40.61282152907651, -13.452874575531299],
           [40.56818701364311, -13.448863343879216],
           [40.55547840014619, -13.506955637671325],
           [40.58826757360039, -13.509296267572521],
           [40.62105996277108, -13.530326393519383],
           [40.63479281410538, -13.661135727826288],
           [40.610738337286165, -13.703730219011216],
           [40.660501203137336, -13.894410996754575],
           [40.65539034811398, -14.101074812588221],
           [40.651254030754, -14.143696990174195],
           [40.67082192457805, -14.170334993490547],
           [40.728843331607976, -14.151693350139478],
           [40.76901623125032, -14.163672327637945],
           [40.80095615391535, -14.194287150567583],
           [40.81743084689357, -14.22689215038616],
           [40.80918758644338, -14.264821737701627],
           [40.76936209576747, -14.355974926212896],
           [40.77898221264178, -14.38325769473693],
           [40.850364670680044, -14.397877114582496],
           [40.88332527612005, -14.48098584069072],
           [40.87785710783379, -14.582700232272256],
           [40.87236410643336, -14.9890005861669],
           [40.79280968177812, -15.15063850196443],
           [40.729624015746474, -15.325538575576054],
           [40.71306557929792, -15.489835793298102],
           [40.57312771452353, -15.619447973721813],
           [40.41918858923134, -15.86268794983436],
           [40.28460832879581, -15.873254848560002],
           [40.1691544193836, -16.064800355636283],
           [40.19232769231944, -16.217313300957514],
           [40.02171422623895, -16.454225974712987],
           [39.571784108845414, -16.839167923255648],
           [39.47488443902315, -16.87942226379154],
           [39.35323909688143, -16.811859858997575],
           [39.222645153692106, -16.88753861507689],
           [39.23483857542377, -17.040717028363584],
           [39.13129970381444, -17.136250746323107],
           [39.01667476973501, -17.21072820953707],
           [38.795530094008726, -17.312688226862537],
           [38.752573103594976, -17.257155395022647],
           [38.87392302898795, -17.183485558344405],
           [39.00736106458034, -17.10990172997741],
           [38.958726244624465, -16.974637137340807],
           [38.80435174267368, -16.981140325662313],
           [38.701715597668944, -17.000423610489996],
           [38.644338306484634, -17.105033699201066],
           [38.69608482409945, -17.230913244364935],
           [38.72335443525463, -17.295161558715467],
           [38.750634675284466, -17.362031159335807],
           [38.7942742089762, -17.465564516576222],
           [38.82698487413612, -17.56908511319805],
           [38.87557379430567, -17.68368972140751],
           [39.06149951696081, -17.580965300977812],
           [42.30818262563858, -15.921435925548257]]],
         [[[35.68485386856369, -20.838122942036133],
           [35.483257037323064, -21.049744952377225],
           [35.27835972793869, -21.261066572337043],
           [35.131990145266194, -21.395200257518248],
           [35.11735128664969, -21.452566367505646],
           [35.20899225126483, -21.41390136406537],
           [35.287944842117824, -21.403043652330076],
           [35.37998326309494, -21.422235650176543],
           [35.43491490371994, -21.496364938210295],
           [35.50357945450119, -21.50658670716974],
           [35.52829869278244, -21.55513029265893],
           [35.52280552871994, -21.65727419188275],
           [35.53379185684494, -21.698111534990634],
           [35.57224400528244, -22.044759711850975],
           [35.55851109512619, -22.11093454884705],
           [35.59970982559494, -22.39310019733248],
           [35.57224400528244, -22.48195312671535],
           [35.57773716934494, -22.583429540834945],
           [35.58048375137619, -22.707636324481935],
           [35.62442906387619, -22.755767876684402],
           [35.64090855606369, -22.943065748164603],
           [35.61618931778244, -22.96835645673816],
           [35.61893589981369, -23.006283648734968],
           [35.61893589981369, -23.049254915624857],
           [35.53379185684494, -23.311838775026576],
           [35.48984654434494, -23.541175258638408],
           [35.59421666153244, -23.837961717885065],
           [35.55576451309494, -24.003665797414598],
           [35.44864781387619, -24.284372300346956],
           [35.36350377090744, -24.29688944356968],
           [35.49808629043869, -24.378533476668125],
           [35.64082095062715, -24.457200637088224],
           [35.7730878163176, -24.53010746625782],
           [36.03641636856369, -24.103988856406062],
           [35.888774800582546, -20.932411948722276]]],
         [[[39.625128505929695, -21.428559386569138],
           [39.677313564523445, -21.411939752264843],
           [39.72537875007032, -21.420889021126765],
           [39.79129671882032, -21.43111608550238],
           [39.792670009835945, -21.53845695041051],
           [39.729498623117195, -21.570388335785534],
           [39.680060146554695, -21.565279786565693],
           [39.63748812507032, -21.547398446818264],
           [39.608649013742195, -21.48990779271337],
           [39.28317904303907, -21.609973484466106],
           [39.29691195319532, -21.905878704775787],
           [39.92038607428907, -21.94791900656521],
           [40.262335537179695, -21.65082421275186],
           [40.18680453132032, -21.271236514241853],
           [39.32437777350782, -21.248199509754883],
           [39.257086513742195, -21.609973484466106],
           [39.375189541085945, -21.57166544495745],
           [39.410895107492195, -21.561448256507013],
           [39.61276888678907, -21.47712900458712]]],
         [[[40.30720582961698, -22.330090388273106],
           [40.37724367141386, -22.309763974339596],
           [40.41157594680448, -22.34152269482265],
           [40.41706911086698, -22.38216330146559],
           [40.39097658157011, -22.412635969249553],
           [40.34977785110136, -22.42279204048779],
           [40.31681886672636, -22.407557655168326],
           [40.29621950149198, -22.359304419414624],
           [40.27424684524198, -22.34914371176578],
           [40.00645509719511, -22.340252484824],
           [39.99958864211698, -22.627024721848553],
           [40.64640871047636, -22.62322190755482],
           [40.63679567336698, -22.057980363195927],
           [40.02430788039823, -22.084706048538948],
           [40.00096193313261, -22.327549748442838],
           [40.29621950149198, -22.345333255379206]]],
         [[[42.66777251650283, -16.93280914806448],
           [42.748796686424704, -16.9367503708304],
           [42.78038237978408, -16.931495388799526],
           [42.811968073143454, -16.972217658647303],
           [42.820207819237204, -17.030001841651636],
           [42.81883452822158, -17.068077118067848],
           [42.73918364931533, -17.117957100408805],
           [42.67875884462783, -17.091706142610317],
           [42.649919733299704, -17.026062577259033],
           [42.644426569237204, -16.995858796057767],
           [42.32170318056533, -16.96433661765999],
           [42.320329889549704, -17.150765588771865],
           [42.669145807518454, -17.439229242531137],
           [43.01384185244033, -17.509964586813883],
           [43.11821196962783, -17.504725874941062],
           [43.08799956728408, -16.78824078748151],
           [42.317583307518454, -16.800073256083184],
           [42.312090143455954, -16.93543663908054],
           [42.63481353212783, -16.984038599770173]]],
         [[[42.74892327385904, -22.240132274025196],
           [42.83956048089029, -23.013354162584903],
           [43.13619134026529, -24.55146144595099],
           [43.62508294182779, -25.4252583404666],
           [44.03707024651529, -26.053665227213173],
           [45.27577874260904, -26.51663006535293],
           [46.31398675042154, -26.1079372695843],
           [47.56642815667154, -25.861043810848166],
           [47.72161004143717, -25.060065622187434],
           [47.11804864006998, -24.8758132982377],
           [47.15104139741196, -24.904444044296532],
           [47.15843613649926, -24.923279957074477],
           [47.15209813220119, -24.943361265206896],
           [47.13648947558039, -24.950993399055463],
           [47.121563331859825, -24.985389885707466],
           [47.11399003333492, -25.01091404965838],
           [47.084970875609606, -25.021342737757035],
           [47.06831111480747, -24.985094702909112],
           [47.01525172605297, -25.014183988576303],
           [47.012065814700236, -25.043655489052004],
           [46.98552605706217, -25.07934634072358],
           [46.899041869079575, -25.10765502802316],
           [46.809058161554354, -25.155817319103484],
           [46.740762679157314, -25.19063558879515],
           [46.64083001214029, -25.23037698940805],
           [46.51587350026845, -25.21241106027286],
           [46.45476614026316, -25.158647855346516],
           [46.32771966057779, -25.154574271382653],
           [46.11227365133232, -25.21861105042197],
           [45.89650628167154, -25.31109840091175],
           [45.71535273944302, -25.43157638952403],
           [45.55593010979654, -25.509568014792038],
           [45.436486767956836, -25.54188164897279],
           [45.28951165276529, -25.556656487302703],
           [45.16164644906158, -25.54839225519009],
           [45.042120933765275, -25.584633689609504],
           [44.86928460198404, -25.456261411899344],
           [44.74156853753092, -25.360746408336315],
           [44.55293523172912, -25.34168198978734],
           [44.37408746150177, -25.30506117436666],
           [44.318876152409594, -25.299398876654],
           [44.26640984612467, -25.308615465994333],
           [44.24958412741423, -25.33031205410924],
           [44.28495308276741, -25.4339172079938],
           [44.23757073479654, -25.445101225567],
           [44.21285149651529, -25.402931189321368],
           [44.18675896721842, -25.394247292116326],
           [44.17849802159897, -25.337162172507004],
           [44.14144036370279, -25.27509086594874],
           [44.105001932154444, -25.193088455116314],
           [44.189819931241146, -25.140265934726724],
           [44.18046789282023, -25.09939146311581],
           [44.136784432818274, -25.116962394487224],
           [44.06865593987467, -25.114790060042306],
           [43.99308497765835, -25.088298612334643],
           [43.96974155512011, -25.00954861588864],
           [43.94368645745279, -24.847154751241533],
           [43.86607577562446, -24.72554177409933],
           [43.86540886956217, -24.610156790176244],
           [43.80632362937411, -24.54263670044127],
           [43.69094652015882, -24.46138773690427],
           [43.62782952385904, -24.298884101942342],
           [43.61535213023717, -23.94503163664749],
           [43.53444573479654, -23.648893141024143],
           [43.567424934595515, -23.584700077065417],
           [43.634711197572635, -23.571494586564512],
           [43.63194939690592, -23.49407234443799],
           [43.55498263282822, -23.337774025000165],
           [43.54948914130766, -23.22296828120963],
           [43.46715447503092, -23.14600834919371],
           [43.34114924821243, -22.94546281198439],
           [43.17739007073404, -22.546137549696667],
           [43.11696526604654, -22.201993307371094],
           [43.17189690667154, -21.835333960877346],
           [42.87526604729654, -21.539283403979677]]],
         [[[42.92822632449832, -21.566372720235524],
           [42.94261830567421, -21.616800090364148],
           [43.03396973270144, -21.716997958261427],
           [43.13971709449334, -21.81265543600355],
           [43.173018281175, -21.836876297348038],
           [43.193958136021756, -21.76738396493256],
           [43.21181091922488, -21.741236470896066],
           [43.27566895145144, -21.694669398581237],
           [43.35257324832644, -21.646810829598106],
           [43.38553223270144, -21.640428487342326],
           [43.40613159793582, -21.628939560492825],
           [43.42810425418582, -21.611066080846264],
           [43.30588135379519, -21.38618294416309],
           [43.31686768192019, -21.354211168291194],
           [43.34021362918582, -21.328628723923284],
           [43.39926514285769, -21.149426953401548],
           [43.62134109140012, -20.99005574398356],
           [43.70923171640012, -20.801459134047757],
           [43.78613601327512, -20.628050121335125],
           [43.699618679290744, -20.47502922659045],
           [43.58563552499387, -20.22652813856482],
           [42.84405837655637, -21.002876823574674]]],
         [[[44.18293630148486, -15.581632954964684],
           [44.62238942648486, -15.727091575572066],
           [44.87507497335986, -15.605442349373247],
           [45.06733571554736, -15.586924170097436],
           [45.20191823507861, -15.682142693731787],
           [45.39967214132861, -15.671565046219843],
           [45.50816213156298, -15.621975025570865],
           [45.712095847383296, -15.55782080118687],
           [45.92014943625048, -15.513496403604789],
           [45.98744069601611, -15.457250261940608],
           [46.01490651632861, -15.42812860990782],
           [46.10279714132861, -15.409594521955313],
           [46.16047536398486, -15.367224689395163],
           [46.19892751242236, -15.359279386297727],
           [46.25111257101611, -15.359279386297727],
           [46.31703053976611, -15.383114387067877],
           [46.36372243429736, -15.367224689395163],
           [46.39118825460986, -15.35663088466885],
           [46.45435964132861, -15.308952110920005],
           [46.54774343039111, -15.200309955421497],
           [46.69880544210986, -15.017346918951949],
           [47.09568654562548, -14.799044867019836],
           [47.172595129269624, -14.747260107724003],
           [47.16297780539111, -14.714717288510572],
           [47.19319020773486, -14.653609218054873],
           [47.27284108664111, -14.61042475761458],
           [47.35473128162085, -14.625647017524507],
           [47.42702005419046, -14.64350150852602],
           [47.50153117445441, -14.592142534762262],
           [47.54083112431458, -14.52990766755016],
           [47.54029472200849, -14.467671208046676],
           [47.43214284445361, -14.421642644543248],
           [47.48158132101611, -14.246676957420892],
           [47.52278005148486, -14.169462542546187],
           [47.60517751242236, -14.140167434280148],
           [47.667004708793876, -14.070214798517409],
           [47.647780917983674, -13.9695973543068],
           [47.63813649679736, -13.772328671997595],
           [47.70954762960986, -13.68428079831811],
           [47.74250661398486, -13.646917186913097],
           [47.77892277979907, -13.53811850855396],
           [47.85511647726611, -13.454668338129526],
           [48.00343190695361, -13.243551000196327],
           [48.17371999289111, -13.067033886574299],
           [48.21079885031298, -13.012849830818336],
           [48.249940793394565, -12.966684911370516],
           [48.31104909445361, -12.959323087594388],
           [48.46627469403668, -12.854890385210984],
           [48.44908760819127, -12.782248406933057],
           [48.46384237426437, -12.737219920189816],
           [48.49232350851611, -12.70558446565433],
           [48.68938635803119, -12.66940109553792],
           [48.75425388845547, -12.621823741840714],
           [48.72572954568061, -12.555483367005206],
           [48.580169844097135, -12.562217085802342],
           [48.48408376242236, -12.480421903543002],
           [48.50056325460986, -12.295320154551336],
           [48.61591969992236, -12.182585550645486],
           [48.68183766867236, -12.17990080784592],
           [48.75324880148486, -12.139626410623647],
           [49.04301320578173, -12.014737158735167],
           [49.11305876772933, -11.984512879404422],
           [49.15700169400599, -11.955627445088137],
           [49.17072927023486, -11.913977772612084],
           [49.22909395696054, -11.882408287214053],
           [49.30256520773486, -11.892477586455833],
           [49.39869557882861, -12.085917743530034],
           [49.583256627349336, -12.356919014083903],
           [49.65550099875048, -12.570242561603298],
           [49.71281504598156, -12.668077156799582],
           [49.770152515681794, -12.674780852390368],
           [49.85462819601611, -12.748450074524836],
           [49.95075856710986, -12.98943329973839],
           [49.99470387960986, -13.117862436165334],
           [50.01942311789111, -13.083086140170964],
           [50.04139577414111, -13.152633813967338],
           [50.02491628195361, -13.278304495880331],
           [50.08534108664111, -13.401238382526955],
           [50.12554478574851, -13.433718458409516],
           [50.15564148741914, -13.546176724418622],
           [50.19306366759492, -13.581553924312297],
           [50.24353211241914, -13.608917573225963],
           [50.18207733946992, -13.978347982429577],
           [50.19306366759492, -13.999668976101345],
           [50.19031708556367, -14.012993592901088],
           [50.194436958610545, -14.028982112235783],
           [50.199930122673045, -14.043637275728578],
           [50.20954315978242, -14.064952203230273],
           [50.213663032829295, -14.094256984548231],
           [50.19031708556367, -14.154186855223545],
           [50.18482392150117, -14.207444585506824],
           [50.20954315978242, -14.252703805911763],
           [50.224649360954295, -14.26068978538904],
           [50.23700898009492, -14.296623190027946],
           [50.23426239806367, -14.445618817159946],
           [50.28644745665742, -14.7340131678423],
           [50.31116669493867, -14.938449241871908],
           [50.348245552360545, -14.954371191283206],
           [50.38257782775117, -15.018047160584661],
           [50.444375923454295, -14.998150455626032],
           [50.49518769103242, -15.036615746298828],
           [50.474588325798045, -15.106896448521153],
           [50.485574653923045, -15.144016490501404],
           [50.48694794493867, -15.175828490401866],
           [50.50068085509492, -15.202334831560592],
           [50.51441376525117, -15.261961909460055],
           [50.53638642150117, -15.299054663379781],
           [50.53913300353242, -15.395729852892279],
           [50.518533638298045, -15.49236014559836],
           [50.455362251579295, -15.633914665502875],
           [50.372964790641795, -15.807086486087531],
           [50.31665985900117, -15.910126198554348],
           [50.227395942985545, -16.026312734569412],
           [50.17658417540742, -16.05270934836106],
           [50.084573677360545, -15.9827506862481],
           [50.054361275016795, -15.932576575302685],
           [50.01728241759492, -15.898239689514078],
           [50.007669380485545, -15.86653889936193],
           [49.991189888298045, -15.822942173564828],
           [49.952737739860545, -15.77933604437139],
           [49.917032173454295, -15.709282337633004],
           [49.911539009391795, -15.677551971391475],
           [49.88544648009492, -15.590268057096276],
           [49.85248749571992, -15.545289119231258],
           [49.749490669548045, -15.562488109878892],
           [49.72065155821992, -15.574394261281327],
           [49.72065155821992, -15.610108576267924],
           [49.735757759391795, -15.701350209001435],
           [49.796182564079295, -15.813693173575405],
           [49.80854218321992, -15.908805510029028],
           [49.782449653923045, -16.075143719359307],
           [49.90192597228242, -16.164855861509302],
           [49.90192597228242, -16.226839009388744],
           [49.87446015196992, -16.35206445776064],
           [49.908792427360545, -16.420574962744602],
           [49.870340278923045, -16.60490611636266],
           [49.807182117827374, -16.670684582679147],
           [49.801675728141795, -16.75224391661135],
           [49.83326142150117, -16.793004816267853],
           [49.89368622618867, -16.811410097776548],
           [49.930765083610545, -16.74435370123543],
           [49.969217232048045, -16.69174391746736],
           [50.015909126579295, -16.645698469611894],
           [50.046121528923045, -16.636488051226525],
           [50.08869355040742, -16.664117978218243],
           [50.098306587516795, -16.720681094160728],
           [50.04200165587617, -16.856101198888705],
           [50.00631718085864, -16.938215254017244],
           [49.96853058654023, -17.017032870516243],
           [49.95136444884492, -17.043622578599514],
           [49.92939179259492, -17.067911104626894],
           [49.87926667052461, -17.132883768856008],
           [49.89162628966523, -17.19455397295497],
           [49.87926667052461, -17.232595561437826],
           [49.87652008849336, -17.248334618123195],
           [49.86416046935273, -17.261449473426797],
           [49.84768097716523, -17.27587473694105],
           [49.84630768614961, -17.285053862092642],
           [49.83669464904023, -17.294232529662334],
           [49.82296173888398, -17.30472187487904],
           [49.79549591857148, -17.30865522511519],
           [49.77901642638398, -17.303410739437428],
           [49.76665680724336, -17.282431301589188],
           [49.76116364318086, -17.2627609076676],
           [49.75979035216523, -17.227348911121968],
           [49.77626984435273, -17.117134901991957],
           [49.80373566466523, -16.938554823161315],
           [49.683572700798045, -16.93264301475048],
           [49.59430878478242, -17.01933089570414],
           [49.56615631896211, -17.117791131404513],
           [49.540750435173045, -17.168313838958646],
           [49.52633087950898, -17.227348911121968],
           [49.51534455138398, -17.3283207137696],
           [49.50710480529023, -17.379441124172434],
           [49.52083771544648, -17.482948952147016],
           [49.54281037169648, -17.539263935813118],
           [49.56615631896211, -17.602106514254746],
           [49.52289765196992, -17.80161724531652],
           [49.49474518614961, -17.889200815310726],
           [49.48102956874555, -17.959098377097757],
           [49.47826569396211, -18.0740299243772],
           [49.45869629698945, -18.127222121707895],
           [49.46006958800508, -18.152670341789978],
           [49.48375885802461, -18.162783349269382],
           [49.45766632872773, -18.178441044182186],
           [49.42196076232148, -18.204534079802613],
           [49.433658277769034, -18.300356485394595],
           [49.40410797911836, -18.439194989755684],
           [49.18781464415742, -18.86337497560269],
           [49.81049804786033, -19.05758085589371],
           [51.19733477205914, -14.918323796822188],
           [50.17560625643414, -12.195151300231135],
           [49.40656328768414, -11.463952826151882],
           [47.89868975252789, -12.106544664271041],
           [47.77784014315289, -12.769024502379303],
           [47.77509356112164, -12.85204918243131],
           [47.73664141268414, -12.913630416634483],
           [47.65699053377789, -12.902921724719864],
           [47.62299909324189, -12.881837184887566],
           [47.610985284754456, -12.848701942865379],
           [47.58901237868481, -12.802166530647211],
           [47.608238702723206, -12.756970261879848],
           [47.65973711580914, -12.70204924108515],
           [47.71466875643414, -12.533193492355819],
           [47.87122393221539, -12.004476370824298],
           [47.87946367830914, -11.655004762362601],
           [47.47296953768414, -11.708798591733027],
           [47.12690020174664, -12.43933682143543],
           [47.15985918612164, -13.920815691179929],
           [46.23700762362164, -14.899744958435415],
           [45.18781328768414, -15.350487725448039],
           [44.74149370760602, -15.380944360365854],
           [44.17157793612164, -15.420663712621096]]]]),
    benthic_clean = ee.Image("projects/coral_atlas/east_africa/in_out/east_africa_benthic-clean"),
    Rivermouth_exported_byRB = ee.FeatureCollection("users/rodbio2008/Rivermouth-finalRB"),
    slithers_exported_byRB = ee.FeatureCollection("users/rodbio2008/slithers-finalRB"),
    no_reefs_exported_byRB = ee.FeatureCollection("users/rodbio2008/not_reefExportedByRB"),
    donnuts = ee.FeatureCollection("users/rodbio2008/NOreefTocheckDonnut"),
    donnuts_masks = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.MultiPolygon(
        [[[[32.910419004125764, -25.96176266956],
           [32.89428283469217, -25.969479336984033],
           [32.89874603049295, -25.98398530133282],
           [32.89908935324686, -25.992317705545602],
           [32.90046264426248, -26.00620373300334],
           [32.89084960715311, -26.021630726970344],
           [32.88707305686014, -26.056796690282955],
           [32.972560422582795, -26.09331492822489],
           [32.97874023215311, -26.04952374783819],
           [32.97942687766092, -26.01682388741183],
           [33.00345947043436, -25.97670784616097],
           [33.002772824926545, -25.96250965942528],
           [32.931361692114045, -25.959422870344163]]],
         [[[33.70282383665454, -25.139207838754032],
           [33.74264927610766, -25.12428840070797],
           [33.78934117063891, -25.103149411315325],
           [33.91156407102954, -25.06459243580699],
           [33.99258824095141, -25.044687311141125],
           [34.53778477415454, -24.865395987567563],
           [34.55014439329516, -24.851689399784853],
           [34.54602452024829, -24.840473789119667],
           [34.42654820188891, -24.86414999691144],
           [34.20544834837329, -24.94760358391307],
           [34.01456089720141, -25.009845567775365],
           [33.68497105345141, -25.116827998362517]]]]),
    final_refinements = 
    /* color: #98ff00 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[32.18985235256849, -27.034359396753377],
                  [33.60983526272474, -27.295826332170265],
                  [33.70321905178724, -27.173721736738415],
                  [32.23929082913099, -26.946251805658076]]]),
            {
              "system:index": "0"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// little viewing script for looking at reefs and classifications for each region/

// imports 
var pkg_vis = require('users/mitchest/global_reefs:Modules/pkg_vis')
var map_palettes = require('users/mitchest/global_reefs:Modules/colour_pals')

// choose where to centre (link this dynamically to map app?)
var centre_map = eaaf
Map.centerObject(centre_map, 10)


//latest masks (12/05/2020) from Chris Roelfsema. These masks are overlayed here for CR's perusal, these masks will b eventually applied to the export_maps
// script that move the final geo and benthic products to Vulcan's GCS. Its quick fix for EA
Map.addLayer(Rivermouth, {color:'#00ff00'}, 'RivermouthDrawnByCR', false)
Map.addLayer(Rivermouth_exported_byRB, {color:'#01ffff'}, 'RivermouthExportedByRB', false) 

Map.addLayer(no_reef, {color:'#09fc27'}, 'no_reefDrawByCR', false)
Map.addLayer(no_reefs_exported_byRB, {color:'#09fc27'}, 'no_reefExportedByRB', false)
Map.addLayer(slithers_exported_byRB, {color:'#d63000'}, 'SlithersExportedByRB', false) 
Map.addLayer(donnuts, {color:'#d63000'}, 'donnuts', false) 
//Vizualize the last two masks from Chris to reapply them to 3rd pass manual geo and benthic
var mergeMasks = ee.FeatureCollection(Rivermouth).merge(no_reef)
Map.addLayer(mergeMasks, {color:'#ff0000'}, 'mergedMasks', false);

// add some background data
//Map.addLayer(any_rrs, {bands: ['b3','b2','b1'], min: 66, max: 1260}, "Any tide mosaic", false)
Map.addLayer(high_rrs, {bands: ['b3','b2','b1'], min: 66, max: 1260}, "High tide mosaic", false)
Map.addLayer(low_rrs, {bands: ['b3','b2','b1'], min: 66, max: 1260}, "Low tide mosaic", false)

//Map.addLayer(any_depth, {min: -1, max: 1200, palette:['#d0d1e6','#a6bddb','#74a9cf','#3690c0','#0570b0','#045a8d','#023858']}, "Any tide depth", false)
Map.addLayer(high_depth, {min: -1, max: 1200, palette:['#d0d1e6','#a6bddb','#74a9cf','#3690c0','#0570b0','#045a8d','#023858']}, "High tide depth", false)
Map.addLayer(low_depth, {min: -1, max: 1200, palette:['#d0d1e6','#a6bddb','#74a9cf','#3690c0','#0570b0','#045a8d','#023858']}, "Low tide depth", false)

// east africa
Map.addLayer(benthic, map_palettes.benthic, "East Africa Benthic - RAW", false)
Map.addLayer(benthic_clean, map_palettes.benthic, "East Africa Benthic - FINAL", false)
Map.addLayer(geo, map_palettes.geo, "East Africa Geo - RAW", false)
Map.addLayer(geo_clean1, map_palettes.geo, "East Africa Geo - CLEAN1", false)
Map.addLayer(geo_clean2, map_palettes.geo, "East Africa Geo - CLEAN2", false)
Map.addLayer(geo_clean3man, map_palettes.geo, "East Africa Geo - FINAL", false)
Map.addLayer(wcmc, {color:'#FFFF33'}, "WCMC (UNEP)", false )

// wave data
/*var kd1 = ee.Image('users/danleeharris/reefwave/fiji_v1_kd1')
var kd2 = ee.Image('users/danleeharris/reefwave/fiji_v1_kd2')

Map.addLayer(kd1, {}, "waves - kd1", false)
Map.addLayer(kd2, {}, "waves - kd2", false)*/

// add training data / sample point distributions
// ----> possibly - points are only intermediate in the mapping script, so will have to pull those out if we want that
//Map.addLayer(ee.Image().byte().paint(fiji_training_geo_oldmaps, 'class_num'), map_palettes.geo, "Training data - geo (old maps) ", false)
//Map.addLayer(ee.Image().byte().paint(fiji_training_geo, 'class_num'), map_palettes.geo, "Training data - geo (new maps)", false)
//Map.addLayer(ee.Image().byte().paint(fiji_training_benthic, 'class_num'), map_palettes.benthic, "Training - benthic (manual curation)", false)

// #############
// example confidence layers

/*// depth and nir combos
var depth_nir_flag = fiji_dove_ocean.select('b4').multiply(fiji_high_depth_ocean).gt(250000)
//Map.addLayer(depth_nir_flag, {}, "NIR flag", false)
var conf_flag = fiji_high_depth_ocean.eq(-1)
                        .or(fiji_high_depth_ocean.gt(1000))
                        .add(depth_nir_flag.eq(1))
                        .selfMask()
Map.addLayer(conf_flag, {min:1,max:2,palette:["#f7f7f7","#bababa"]}, "Confidence flag", false)

//straight depth missing/-1
var depth_flag = fiji_high_depth_ocean.gt(0).selfMask()
//Map.addLayer(depth_flag, {min:0,max:1,palette:["#ffff00"]}, "Valid depth retrievals", false)

//Map.addLayer(fiji_geo_clean.gt(0).updateMask(fiji_high_depth_ocean.lte(0)), {min:0,max:1,palette:["#ff0000"]}, "Unmapped area via original algorithm", false)
*/

////////// UI SET UP //////////

//Generate title
var title = ui.Label({
  value: 'Coral Atlas map classes',
  style: {fontWeight: 'bold', fontSize: '18px'}
})

// generate the legend
var geo_legend = pkg_vis.discrete_legend(map_palettes.geo_atlas_names, map_palettes.geo_atlas_cols, 'Geomorphic Zone', false)
var benthic_legend = pkg_vis.discrete_legend(map_palettes.benthic_atlas_names, map_palettes.benthic_atlas_cols, 'Benthic Habitat', false)



//var mask_legend = pkg_vis.discrete_legend(["Low confidence depth","Water conditions"], ["#f7f7f7","#bababa"], 'Confidence Mask reason', false)
pkg_vis.add_lgds([title, geo_legend, benthic_legend])//, mask_legend])





///////// LINK TO DATA EXPORT /////////
// hopefully eventually we can link this to a download link in the app?

// // map to export 
// var export_map = gbr_geo_map10
// // extent
// var export_convhull = export_map.gt(0).reduceToVectors({scale: 1000, maxPixels: 1e13, bestEffort: true, geometry: export_map.geometry().bounds()}).geometry().convexHull({maxError: 100})
// // export
// Export.image.toDrive({
//     image: export_map,
//     description: 'gbr_sent2_geo_map',
//     folder: 'GBR Mapping',
//     region: export_convhull,
//     scale: 10,
//     maxPixels: 1e13
// })

//Masks to finally be applied after revision on 7/7/2020

//1. cliping no_reefs with donnuts masks (only two feautures)

var no_reefc = no_reef.difference(donnuts_masks)
Map.addLayer(no_reefc, {color:'#09fc27'}, 'no_reefclipped', false)
var no_reefc=ee.FeatureCollection(ee.Feature(no_reefc))

//2. merge all masks in a single one to export and apply to export maps.

var final_mask1=no_reefc.merge(slithers_exported_byRB).merge(Rivermouth)
Map.addLayer(final_mask1, {}, 'final_mask1', false)




//Export.table.toAsset({
 //   collection: no_reef,
 //   description: 'NOreefTocheckDonnut',
//})