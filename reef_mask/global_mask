/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var global_bathy = ee.Image("users/murrnick/global-reefs/existingData/GEBCO_RN5136");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
/*
Little script to make a coarse global layer based on
  - global bathymetry (gebco)
  - TODO: Sentinel 2

Fundamental motivation is to mask out noise and error in deep water
in the bathymetry data (and Dove mosaic)
*/

var global_bathy_mask = global_bathy.lt(0).and(global_bathy.gt(-300)).selfMask()

var global_bathy_mask_buffer = ee.Image(1)
        .cumulativeCost({
          source: global_bathy_mask,
          maxDistance: 2000,
          geodeticDistance: false
        }).lt(2000).selfMask()