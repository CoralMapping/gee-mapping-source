/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var notReef_mask = /* color: #d63000 */ee.Geometry.MultiPolygon(
        [[[[71.60342946217652, 12.65909936158879],
           [71.68308034108277, 12.474125345239695],
           [72.21866383717652, 12.433896045657525],
           [72.04562916920777, 12.675177750692391],
           [71.88907399342652, 12.675177750692391]]],
         [[[72.71755096164087, 7.914742843027254],
           [72.47310516085962, 7.264063722961609],
           [73.53654615747737, 7.143550264651811],
           [73.13365813937524, 7.720187402744904],
           [73.11443206515649, 7.948746666513787]]],
         [[[72.61774093367676, 4.713846678989372],
           [72.70425826766113, 4.445541267884463],
           [72.86905318953613, 4.50167465686995],
           [72.7797892735205, 4.745324820875827]]],
         [[[72.88046310200002, 2.000226206221777],
           [73.06860397114065, 2.089433271265267],
           [72.84887740864065, 2.1649122234602767]]],
         [[[72.96822759144477, 4.536532520872901],
           [73.05886479847602, 4.294181595870132],
           [73.21541997425727, 4.343479687246037],
           [73.1289026402729, 4.607716403032213],
           [73.05062505238227, 4.6036098332757875]]]]),
    artifact_layer = 
    /* color: #98ff00 */
    /* shown: false */
    ee.Geometry.MultiPoint(),
    center_map = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.Point([73.36350406430057, 3.4513743887798998]),
    region_extent = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[70.16383984620248, 13.135866931352913],
          [70.14682558742047, 12.617194359154508],
          [70.2690563075083, 11.807120477151644],
          [70.75799813787245, 10.497269313191726],
          [71.1883486767209, 9.918038419941574],
          [71.47614859713114, 8.090218465993845],
          [71.59908832513908, 5.52591426513123],
          [71.49717465104942, 4.724023756667231],
          [71.63786599252497, 1.9241941877135522],
          [71.79169706752515, -0.00897274020001368],
          [71.76991375572192, -1.3710512046844305],
          [71.49502445725186, -2.765513665803016],
          [71.35011857751672, -3.4180227969815036],
          [70.78266724738901, -4.467873920373559],
          [70.37679876655831, -5.156730459644507],
          [70.0414366086369, -5.673827050931439],
          [69.63155494916931, -6.620623477840547],
          [69.61632242222679, -7.654629654247595],
          [69.88596916257875, -8.325549044857805],
          [70.33702213279423, -8.649621844082038],
          [71.15440380682881, -8.861512281458042],
          [72.50302938219875, -8.730914493557336],
          [73.42866829614745, -8.55743897796769],
          [74.30064119056354, -7.7866094054231425],
          [74.78510906713221, -6.8540012175349405],
          [74.87181187774016, -5.590383988857091],
          [74.71281221914346, -4.718369474096369],
          [74.42252946027796, -3.890078116525247],
          [74.39495159818864, -2.819413619339805],
          [74.80701657465998, 0.26047582105125183],
          [74.97178689803962, 2.752606230303411],
          [74.95623341371372, 3.7796590463055497],
          [73.98795167784473, 8.437740216584354],
          [73.80616705637192, 9.279013186527788],
          [73.88180364769623, 9.530197153338912],
          [74.05559477809774, 9.730752468582905],
          [74.36104571392184, 9.786128362399857],
          [72.93930746651232, 14.377460777937939],
          [72.04231647306855, 14.34492727644073],
          [71.49518330115245, 14.31657896080115],
          [70.94844908898446, 14.180519984144992],
          [70.70783078637048, 14.098023158448601],
          [70.48943631098639, 13.930058399473841]]]),
    pixels = ee.Image("projects/coral_atlas/central_indian_ocean/in_out/cio_pixels"),
    segmentation = ee.Image("projects/coral_atlas/central_indian_ocean/in_out/cio_segmentation"),
    geo = ee.Image("projects/coral_atlas/central_indian_ocean/in_out/cio_geo"),
    ben = ee.Image("projects/coral_atlas/central_indian_ocean/in_out/cio_benthic"),
    deepwater = /* color: #25d610 */ee.Geometry({
      "type": "GeometryCollection",
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.422575661516,
                -5.273764220744974
              ],
              [
                72.20390223456661,
                -5.396638780792507
              ],
              [
                72.29023991201737,
                -5.53531411567033
              ],
              [
                72.25160231167408,
                -5.590593834254645
              ],
              [
                72.41845578846913,
                -5.63808761806013
              ],
              [
                72.45072812733632,
                -5.657220366789967
              ],
              [
                72.51733274159413,
                -5.650387314784492
              ],
              [
                72.57226438221913,
                -5.63740429392719
              ],
              [
                72.61140317616444,
                -5.686601569370111
              ],
              [
                72.61620969471913,
                -5.712565104599872
              ],
              [
                72.6196429222582,
                -5.7408150998525755
              ],
              [
                72.56059140858632,
                -5.774290997216448
              ],
              [
                72.48574704823476,
                -5.790003492188808
              ],
              [
                72.35185117421132,
                -5.762677133849532
              ],
              [
                72.32163877186757,
                -5.809131157116495
              ],
              [
                72.45965451893788,
                -5.887684373332356
              ],
              [
                72.51115293202382,
                -6.0311006197836265
              ],
              [
                72.6196429222582,
                -6.040660364522768
              ],
              [
                72.60453672108632,
                -5.889050418406293
              ],
              [
                72.61758298573476,
                -5.874023737994912
              ],
              [
                72.697233864641,
                -5.792052915868868
              ],
              [
                72.68487424550038,
                -5.667024561906921
              ],
              [
                72.62856931385976,
                -5.531034052292801
              ],
              [
                72.48094052968007,
                -5.553587425032556
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                71.78100203075167,
                -5.265004840441034
              ],
              [
                71.74804304637667,
                -5.294405329632169
              ],
              [
                71.76383589305635,
                -5.340896270048868
              ],
              [
                71.7665824750876,
                -5.373711283082955
              ],
              [
                71.76040266551729,
                -5.3860164577893785
              ],
              [
                71.76383589305635,
                -5.43660177444672
              ],
              [
                71.7995414594626,
                -5.441386652544458
              ],
              [
                71.82632063426729,
                -5.419512613874888
              ],
              [
                71.79610823192354,
                -5.423614056571237
              ],
              [
                71.79610823192354,
                -5.413360397610425
              ],
              [
                71.80709456004854,
                -5.403790159017131
              ],
              [
                71.92245100536104,
                -5.3853328435036465
              ],
              [
                71.94442366161104,
                -5.2793633930522885
              ],
              [
                71.84760664500948,
                -5.289619298546896
              ],
              [
                71.80846785106417,
                -5.271842287856811
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.66961731969077,
                -4.991101947052824
              ],
              [
                72.7259222513314,
                -5.030775174492281
              ],
              [
                72.73965516148765,
                -4.855647795717727
              ],
              [
                72.6703041240994,
                -4.792701321677471
              ],
              [
                72.66137757359702,
                -4.861121223246245
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.98147324636214,
                7.062868403770186
              ],
              [
                72.99692415248501,
                7.026750366057057
              ],
              [
                73.02267168277491,
                6.994038861238035
              ],
              [
                73.04052434267197,
                6.950418841259906
              ],
              [
                73.11948799308836,
                6.9892681380228785
              ],
              [
                73.11030522744478,
                6.926902037975679
              ],
              [
                73.06641355107911,
                6.871644042919813
              ],
              [
                73.08719720102548,
                6.877768950174838
              ],
              [
                73.09861919730454,
                6.881853793241194
              ],
              [
                73.09287514567956,
                6.888665405196386
              ],
              [
                73.10456174193112,
                6.901947415762528
              ],
              [
                73.11074509405903,
                6.899558940100579
              ],
              [
                73.11624172075165,
                6.895466209414042
              ],
              [
                73.11880633185137,
                6.896957058019649
              ],
              [
                73.12068430923661,
                6.897766220327956
              ],
              [
                73.12547026479615,
                6.900066186945145
              ],
              [
                73.1292057600106,
                6.9033027333016355
              ],
              [
                73.12066745441172,
                6.907987914612898
              ],
              [
                73.11384557208694,
                6.914717947572665
              ],
              [
                73.1235657717233,
                6.9308218238140595
              ],
              [
                73.14300645948461,
                6.936785929317867
              ],
              [
                73.14978643785147,
                6.935422982179054
              ],
              [
                73.15622303609993,
                6.932696700225342
              ],
              [
                73.16257483064635,
                6.9488852225113655
              ],
              [
                73.19879549228632,
                6.970525970063224
              ],
              [
                73.2147596763367,
                6.969503585651863
              ],
              [
                73.22660382561325,
                6.9650729297430045
              ],
              [
                73.22265576699579,
                6.949757488208312
              ],
              [
                73.21390148455266,
                6.93103387297588
              ],
              [
                73.22420135650385,
                6.92457922582314
              ],
              [
                73.23587452991129,
                6.928008095389663
              ],
              [
                73.23896483733279,
                6.906279896115732
              ],
              [
                73.23776290797862,
                6.87330445951759
              ],
              [
                73.25200966351296,
                6.846805156052908
              ],
              [
                73.19911561891836,
                6.7680263755729175
              ],
              [
                73.19405047224083,
                6.772117309367692
              ],
              [
                73.17525307131959,
                6.741432732630366
              ],
              [
                73.15465464518174,
                6.720634169038177
              ],
              [
                73.14143740857395,
                6.723702637920096
              ],
              [
                73.13233946977674,
                6.719994564269499
              ],
              [
                73.13216804845631,
                6.710490040379184
              ],
              [
                73.13903489102883,
                6.7102342419380765
              ],
              [
                73.10161739296841,
                6.65243681149704
              ],
              [
                73.09449589011123,
                6.661390287766564
              ],
              [
                73.08325479689913,
                6.643744877006891
              ],
              [
                73.07744060374301,
                6.652206673831311
              ],
              [
                73.07281686708981,
                6.665303528792896
              ],
              [
                73.05892354827445,
                6.64805099731973
              ],
              [
                73.05860268051366,
                6.636051935560215
              ],
              [
                73.07303328047239,
                6.635338328484184
              ],
              [
                73.07853722553291,
                6.623029669947081
              ],
              [
                73.0773801744367,
                6.615400395258929
              ],
              [
                73.07491338689454,
                6.60877222059891
              ],
              [
                73.07656649146712,
                6.600268279347806
              ],
              [
                73.1311610146004,
                6.475794859051941
              ],
              [
                73.30399190752436,
                6.27345119180911
              ],
              [
                73.37188556335111,
                6.430201372576579
              ],
              [
                73.2722265637241,
                6.642900060174348
              ],
              [
                73.34745271381134,
                6.831806598212349
              ],
              [
                73.41131020184257,
                6.99131286300151
              ],
              [
                73.32204688376149,
                7.108582839399306
              ],
              [
                73.05219719597827,
                7.152187879130522
              ],
              [
                72.8599378932524,
                7.244834891595643
              ],
              [
                72.65737897880769,
                7.147418783561399
              ],
              [
                72.69102432081152,
                6.968882343452688
              ],
              [
                72.79127382270543,
                6.844138926459514
              ],
              [
                72.73908911535818,
                6.70231450338483
              ],
              [
                72.69445934119369,
                6.536749856068424
              ],
              [
                72.50203664495758,
                6.492129711807878
              ],
              [
                72.45946484141531,
                6.3345083401977815
              ],
              [
                72.4828105615202,
                6.162502818384517
              ],
              [
                72.59816622414294,
                6.02731636480171
              ],
              [
                72.73755439657371,
                6.098327587421495
              ],
              [
                72.85291011062043,
                6.18298253760397
              ],
              [
                72.86801621571347,
                6.26079852960861
              ],
              [
                72.95590737490909,
                6.3849300578476536
              ],
              [
                72.9337631387913,
                6.406927885970449
              ],
              [
                72.9229496091031,
                6.364440402773686
              ],
              [
                72.915911937775,
                6.364090302357357
              ],
              [
                72.90887422933626,
                6.367152169324009
              ],
              [
                72.89308282862058,
                6.3875895278008
              ],
              [
                72.88750430064482,
                6.405654868192483
              ],
              [
                72.87883547447838,
                6.421673063942474
              ],
              [
                72.84913632846731,
                6.443473627408698
              ],
              [
                72.81033838123867,
                6.403827258706281
              ],
              [
                72.72656818886993,
                6.401097835162048
              ],
              [
                72.64760445653927,
                6.294638613311174
              ],
              [
                72.6070926082161,
                6.193618643520989
              ],
              [
                72.5837468066702,
                6.177235201177017
              ],
              [
                72.53362202037036,
                6.21136683032323
              ],
              [
                72.54117508730153,
                6.253686950539238
              ],
              [
                72.60503275117999,
                6.4181565838369705
              ],
              [
                72.7032224104185,
                6.467964748589361
              ],
              [
                72.83196758827255,
                6.455342454841542
              ],
              [
                72.86475470964471,
                6.436536545636072
              ],
              [
                72.8539398406095,
                6.473337673634172
              ],
              [
                72.85771620918564,
                6.486897549440115
              ],
              [
                72.87625592269875,
                6.499007018651952
              ],
              [
                72.91556895785041,
                6.473593675713877
              ],
              [
                72.90054787252134,
                6.450481253684335
              ],
              [
                72.95350347721535,
                6.44237857631638
              ],
              [
                72.92329340836882,
                6.480586033026688
              ],
              [
                72.96792517969936,
                6.462676446817036
              ],
              [
                73.0001971470462,
                6.525698504289116
              ],
              [
                72.95041531004841,
                6.531454495964496
              ],
              [
                72.90638397265626,
                6.5236839171256955
              ],
              [
                72.9262107826086,
                6.510796589216176
              ],
              [
                72.91161989701239,
                6.500712343542782
              ],
              [
                72.89101888383564,
                6.5153802865592505
              ],
              [
                72.91058829801419,
                6.533117362149652
              ],
              [
                72.88792900259409,
                6.526636496273769
              ],
              [
                72.87325173724273,
                6.541900366608428
              ],
              [
                72.87848753279356,
                6.5537528551098925
              ],
              [
                72.89827138185832,
                6.557291719690044
              ],
              [
                72.9070692307477,
                6.564923090249244
              ],
              [
                72.87295145562143,
                6.5647102968385
              ],
              [
                72.86698636366255,
                6.559039548416387
              ],
              [
                72.8602914533405,
                6.5774569631442965
              ],
              [
                72.86080664473917,
                6.5948509617284286
              ],
              [
                72.87865881978999,
                6.611391583247228
              ],
              [
                72.8762559665006,
                6.663738193470693
              ],
              [
                72.8961684920103,
                6.739434358900735
              ],
              [
                72.9274095541682,
                6.756821866639095
              ],
              [
                72.93530700743624,
                6.796710235179693
              ],
              [
                72.93187380003934,
                6.8826112299254225
              ],
              [
                72.9227766397267,
                6.915330534388033
              ],
              [
                72.91530926004899,
                6.929645158328856
              ],
              [
                72.91490145692786,
                6.940636366445116
              ],
              [
                72.92276559740706,
                6.944257504777478
              ],
              [
                72.9293491227625,
                6.94179208248069
              ],
              [
                72.93318599377088,
                6.936600135500665
              ],
              [
                72.94148603573682,
                6.931748874404974
              ],
              [
                72.95155720761507,
                6.927670521500078
              ],
              [
                72.96986810536681,
                6.929385800262509
              ],
              [
                72.97707509356931,
                6.923482100926261
              ],
              [
                72.97097988070381,
                6.9153595000968995
              ],
              [
                72.9617313461593,
                6.911284014129201
              ],
              [
                72.95145298012669,
                6.907719580341165
              ],
              [
                72.93224848295252,
                6.905859478223582
              ],
              [
                72.96179548923557,
                6.878607055273889
              ],
              [
                73.05715075086928,
                6.888720187883943
              ],
              [
                73.04161529200641,
                6.907691912410296
              ],
              [
                72.99955134250418,
                6.940528834074988
              ],
              [
                72.99622468679748,
                6.959543313259586
              ],
              [
                72.98328470844424,
                6.957428257039461
              ],
              [
                72.98287617728496,
                6.954631493602852
              ],
              [
                72.98761741072146,
                6.941610771035995
              ],
              [
                72.98508366188838,
                6.940532841546426
              ],
              [
                72.98315072851986,
                6.9415849364123545
              ],
              [
                72.982676870032,
                6.942253563649967
              ],
              [
                72.9810013787761,
                6.944626216166734
              ],
              [
                72.96983972324821,
                6.964281133806833
              ],
              [
                72.9589319591099,
                6.9574559459935665
              ],
              [
                72.95832415423266,
                6.941088396751752
              ],
              [
                72.95556342743429,
                6.935276202229794
              ],
              [
                72.94915509047355,
                6.935883837428843
              ],
              [
                72.9509877632596,
                6.941722801943228
              ],
              [
                72.94242219430603,
                6.964348705907904
              ],
              [
                72.93710929226184,
                6.956917776876564
              ],
              [
                72.93179216441811,
                6.959336617613115
              ],
              [
                72.93213989778012,
                6.94744202138719
              ],
              [
                72.92290503897677,
                6.948049009179443
              ],
              [
                72.91883877165705,
                6.954055668071867
              ],
              [
                72.92083970281114,
                6.963789493469217
              ],
              [
                72.93184010163448,
                6.961278906995746
              ],
              [
                72.93906395454307,
                6.9669471472098214
              ],
              [
                72.92123933061228,
                6.972831070870211
              ],
              [
                72.91322746704303,
                6.976931194325849
              ],
              [
                72.90472211242562,
                6.990508889982275
              ],
              [
                72.89995451121811,
                6.993719404320218
              ],
              [
                72.90651650631085,
                6.966601071556085
              ],
              [
                72.91250849509304,
                6.954907796284172
              ],
              [
                72.90784141065171,
                6.94498210879168
              ],
              [
                72.89840221557091,
                6.948900889146956
              ],
              [
                72.89333860999055,
                6.963384706456849
              ],
              [
                72.88878981093887,
                6.968155929165145
              ],
              [
                72.8856142619323,
                6.976931311039777
              ],
              [
                72.88106529652283,
                6.9802541427297635
              ],
              [
                72.82475787791316,
                6.991669423882633
              ],
              [
                72.7859628443316,
                7.053344235421712
              ],
              [
                72.79454567425486,
                7.080941734395299
              ],
              [
                72.84879029942196,
                7.103427640403932
              ],
              [
                72.90715473415341,
                7.112285366273055
              ],
              [
                72.96071268538678,
                7.116373492717335
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                73.03501025240526,
                8.380884273019994
              ],
              [
                73.10230151217088,
                8.349634628890383
              ],
              [
                73.08994189303026,
                8.302076025576719
              ],
              [
                73.05972949068651,
                8.242279897296612
              ],
              [
                72.96634570162401,
                8.235484309449424
              ],
              [
                72.83725634615526,
                8.2218927838777
              ],
              [
                72.92102709810838,
                8.102267354130591
              ],
              [
                73.16547289888963,
                8.107705649124126
              ],
              [
                73.26297656099901,
                8.28848679363447
              ],
              [
                73.24512377779588,
                8.503141269298094
              ],
              [
                73.10779467623338,
                8.539810789972956
              ],
              [
                73.04462328951463,
                8.497708448923209
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.3019705579088,
                10.219349309906503
              ],
              [
                72.41320713017443,
                10.030082651297162
              ],
              [
                72.54504306767443,
                10.232864070245974
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.12893588994005,
                9.87453074950338
              ],
              [
                72.3019705579088,
                9.923233218130521
              ],
              [
                72.13442905400255,
                10.059831933302098
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.39398105595568,
                10.973921429023482
              ],
              [
                72.29712629950366,
                10.905829139478357
              ],
              [
                72.22554241290074,
                10.912401712234674
              ],
              [
                72.22812345706197,
                10.843451949285749
              ],
              [
                72.18386753056505,
                10.759483706782845
              ],
              [
                72.2360525891588,
                10.68662093802307
              ],
              [
                72.39398105595568,
                10.72170520211932
              ],
              [
                72.4997244641588,
                10.570544171130882
              ],
              [
                72.63293369267443,
                10.601592277125762
              ],
              [
                72.62881381962755,
                10.632637234297222
              ],
              [
                72.67962558720568,
                10.704163577688568
              ],
              [
                72.8348074719713,
                10.979314095484108
              ],
              [
                72.55053623173693,
                11.182814823425264
              ],
              [
                72.4557791516588,
                11.026495721714456
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                71.94537890571331,
                10.996459785849844
              ],
              [
                72.16991028128317,
                10.784740207030643
              ],
              [
                72.14022919895335,
                10.831118915297832
              ],
              [
                72.13251650256032,
                10.853217133466172
              ],
              [
                72.18159616771788,
                10.885250679785315
              ],
              [
                72.23308166800192,
                10.95467031671939
              ],
              [
                71.96117004690817,
                11.11237529415959
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                71.95705017386129,
                11.27942257319617
              ],
              [
                71.98726257620504,
                11.233628889427926
              ],
              [
                72.13832458792379,
                11.256526641893506
              ],
              [
                72.30037292776754,
                11.182439110793444
              ],
              [
                72.27840027151754,
                11.387143576725533
              ],
              [
                71.99824890433004,
                11.384451047042944
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.64644226370504,
                11.337327658472587
              ],
              [
                72.90874084768942,
                11.294236615470934
              ],
              [
                72.99113830862692,
                11.428874524587675
              ],
              [
                72.97465881643942,
                11.515009281135061
              ],
              [
                72.99937805472067,
                11.60246289878074
              ],
              [
                72.88814148245504,
                11.597081926837859
              ],
              [
                72.83183354899933,
                11.714418409565544
              ],
              [
                72.75075681027974,
                11.79677555536155
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                73.5401607513071,
                10.831640510360986
              ],
              [
                73.72986618025084,
                10.68369441689829
              ],
              [
                73.83782327013353,
                10.755606533826699
              ],
              [
                73.79482816057362,
                10.804902129541292
              ],
              [
                73.65843838606366,
                10.792117302928778
              ],
              [
                73.64796632942821,
                10.825255409764363
              ],
              [
                73.77362022396335,
                10.820175287424046
              ],
              [
                73.93017539974458,
                10.789824052387177
              ],
              [
                73.82305870052585,
                10.970537018554417
              ],
              [
                73.71112822532903,
                10.99417049101018
              ],
              [
                73.50445518490085,
                10.943571902422399
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                73.72040907825026,
                10.16990058229804
              ],
              [
                73.78084778419493,
                10.244369448592453
              ],
              [
                73.63528893170363,
                10.300055354163321
              ],
              [
                73.51392965942735,
                10.219170464868753
              ],
              [
                73.50637655884141,
                9.978512117924138
              ],
              [
                73.60848349351011,
                9.973702528862324
              ],
              [
                73.65998190659604,
                10.04402684201001
              ],
              [
                73.63869589585386,
                10.04740743433586
              ],
              [
                73.63251608628354,
                10.056196808960681
              ],
              [
                73.6132900120648,
                10.073098780262537
              ],
              [
                73.6132900120648,
                10.107576053870927
              ],
              [
                73.62702292222104,
                10.123123419070001
              ],
              [
                73.64144247788511,
                10.142725544963
              ],
              [
                73.6682216526898,
                10.179222856822875
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                73.16951165996792,
                6.9151247386584656
              ],
              [
                73.17260148020164,
                6.9028547871573265
              ],
              [
                73.16796670757535,
                6.892459314115174
              ],
              [
                73.15509209961326,
                6.891777807329604
              ],
              [
                73.14341913067105,
                6.895186039150925
              ],
              [
                73.13157447344973,
                6.901491553836624
              ],
              [
                73.13157449566128,
                6.888028352479177
              ],
              [
                73.12590967424913,
                6.891053371850996
              ],
              [
                73.11964401125168,
                6.8966559295028524
              ],
              [
                73.11616784933693,
                6.894685429177795
              ],
              [
                73.11852817928015,
                6.892374088135004
              ],
              [
                73.12264802470516,
                6.8825747636741985
              ],
              [
                73.12196145855191,
                6.872349232943703
              ],
              [
                73.13020120464566,
                6.847806964615679
              ],
              [
                73.15904031597378,
                6.8553061252003795
              ],
              [
                73.18650613628628,
                6.834171825289565
              ],
              [
                73.2311380942941,
                6.84167120009405
              ],
              [
                73.23302649511533,
                6.867236271126847
              ],
              [
                73.22238336406949,
                6.868599801610972
              ],
              [
                73.20830764922916,
                6.888453963921363
              ],
              [
                73.2036722739816,
                6.909501087996599
              ],
              [
                73.21864980680873,
                6.92419920176125
              ],
              [
                73.20159082403971,
                6.921238628797721
              ],
              [
                73.18453205529293,
                6.918277448250313
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.41403673609993,
                -4.62320405016819
              ],
              [
                72.44974230250618,
                -4.8326025176314085
              ],
              [
                72.10367296656868,
                -4.802496850557715
              ],
              [
                71.59280870875618,
                -5.0775027361049645
              ],
              [
                71.56968840822614,
                -5.2593203639776895
              ],
              [
                71.69215416404002,
                -5.296169706308761
              ],
              [
                71.7887719409784,
                -5.226259971210383
              ],
              [
                71.8666680162449,
                -5.2436931766854125
              ],
              [
                72.01698458571724,
                -5.237490987467515
              ],
              [
                71.97697573882871,
                -5.413881859781609
              ],
              [
                72.14693131992836,
                -5.538320202966636
              ],
              [
                72.2313890310218,
                -5.111699379178122
              ],
              [
                72.2258958669593,
                -5.006367923231125
              ],
              [
                72.38657091578743,
                -4.948907228423469
              ],
              [
                72.43051622828743,
                -4.913333817662517
              ],
              [
                72.43738268336556,
                -4.872285215930241
              ],
              [
                72.47034166774056,
                -4.905124298882353
              ],
              [
                72.41403673609993,
                -5.061087702506327
              ],
              [
                72.52939318141243,
                -5.046040222449706
              ],
              [
                72.55685900172493,
                -4.766915712934408
              ],
              [
                72.48956038670207,
                -4.601986910011816
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                70.88282142191957,
                -6.622586314265346
              ],
              [
                71.09726053840903,
                -7.434909762087101
              ],
              [
                71.69738871223716,
                -7.294627753474287
              ],
              [
                71.37425616966723,
                -6.76709438285316
              ],
              [
                71.29735187279223,
                -6.679808206814521
              ],
              [
                71.30284503685473,
                -6.626610542648352
              ],
              [
                71.38386920677661,
                -6.636159265235256
              ],
              [
                71.43605426537036,
                -6.711178479761983
              ],
              [
                71.77800372826098,
                -6.775276656123975
              ],
              [
                71.82194904076098,
                -6.203556943512397
              ],
              [
                71.49647907005786,
                -6.218574472556464
              ],
              [
                71.39348224388598,
                -6.263624482305822
              ],
              [
                71.30284503685473,
                -6.520198043195211
              ],
              [
                71.20534137474536,
                -6.445149984888906
              ],
              [
                71.25203326927661,
                -6.263624482305822
              ],
              [
                71.14628986107348,
                -6.219939681217888
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.52460181000205,
                -6.193013353457753
              ],
              [
                72.14220414045609,
                -6.172733130981275
              ],
              [
                71.96070395254002,
                -6.724478924753461
              ],
              [
                71.98017814476039,
                -7.416308945558021
              ],
              [
                72.31388786155726,
                -7.325058746427702
              ],
              [
                72.36195304710414,
                -7.2147164130306916
              ],
              [
                72.4222806504352,
                -6.84897895502355
              ],
              [
                72.28769813090395,
                -6.580296551644828
              ],
              [
                72.37009559184145,
                -6.394725021444779
              ],
              [
                72.42502723246645,
                -6.340132249296812
              ],
              [
                72.55823646098207,
                -6.359240379558589
              ],
              [
                72.64063392191957,
                -6.28416865944782
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.99115354262933,
                0.6437031651632243
              ],
              [
                73.10925656997308,
                0.6725403737320848
              ],
              [
                73.21225339614496,
                0.7329606305878571
              ],
              [
                73.15594846450433,
                0.8386940783074699
              ],
              [
                73.04333860122308,
                0.8345746444715016
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                73.53323627603513,
                1.8076223458429321
              ],
              [
                73.41787983072263,
                1.7774247282699978
              ],
              [
                73.32586933267575,
                1.7664436535303616
              ],
              [
                73.2352321256445,
                1.8240935624409338
              ],
              [
                73.21463276041013,
                1.9215451294451378
              ],
              [
                73.32646666262553,
                2.045962680929226
              ],
              [
                73.10811339114116,
                2.133794836967783
              ],
              [
                72.93645201418803,
                2.168102921809305
              ],
              [
                72.86916075442241,
                2.4150974250697637
              ],
              [
                72.80186949465678,
                2.3890278229314372
              ],
              [
                72.74693785403178,
                2.4000045581455223
              ],
              [
                72.96666441653178,
                1.9622431768902067
              ],
              [
                73.09850035403178,
                1.6177158504310476
              ],
              [
                73.55855284426616,
                1.6355614393426305
              ],
              [
                73.74669371340678,
                1.9416557646786365
              ],
              [
                73.57091246340678,
                1.967733110786325
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                73.53739535978805,
                3.33892161299145
              ],
              [
                73.50992953947555,
                3.3135585294584984
              ],
              [
                73.4657984100069,
                3.1946082202595
              ],
              [
                73.67385199887408,
                3.108907366363006
              ],
              [
                73.6573719890172,
                3.0746249272816097
              ],
              [
                73.63265326840533,
                3.055426493335499
              ],
              [
                73.64020636899127,
                3.0190854024374523
              ],
              [
                73.74320319516315,
                3.1413324436158363
              ],
              [
                73.7624292693819,
                3.372358086574742
              ],
              [
                73.67797187192096,
                3.3607052570081013
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                73.43920505217086,
                3.1476662029238445
              ],
              [
                73.4525946395732,
                3.131554253200341
              ],
              [
                73.49207675627243,
                3.104129088553005
              ],
              [
                73.52778232267868,
                3.1013865328294536
              ],
              [
                73.51035883882254,
                3.083388365493147
              ],
              [
                73.53357602359502,
                3.06376153799992
              ],
              [
                73.54065713124945,
                3.083216962483472
              ],
              [
                73.5514715926982,
                3.07807452262805
              ],
              [
                73.55868137053024,
                3.011906787094738
              ],
              [
                73.5727576034404,
                3.024934952069461
              ],
              [
                73.6118963973857,
                3.0259634847511445
              ],
              [
                73.61464297941696,
                3.0530478264394767
              ],
              [
                73.62082278898727,
                3.07807452262805
              ],
              [
                73.61962122480256,
                3.085188197790138
              ],
              [
                73.61155314949951,
                3.0909305517739227
              ],
              [
                73.59267032316696,
                3.0893877679895496
              ],
              [
                73.5562781112529,
                3.097958328173222
              ],
              [
                73.55602120405246,
                3.1092716202089545
              ],
              [
                73.52143164771049,
                3.1205846252870155
              ],
              [
                73.48452365568649,
                3.144580955203712
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                73.59100921276396,
                3.421010154768579
              ],
              [
                73.63083465221709,
                3.3966773686607215
              ],
              [
                73.66173370006865,
                3.4251226774303127
              ],
              [
                73.66310699108428,
                3.402846302223213
              ],
              [
                73.63564117077178,
                3.3819403123757152
              ],
              [
                73.64079101208037,
                3.3750857912096666
              ],
              [
                73.66242034557646,
                3.3829684863734104
              ],
              [
                73.69091613415068,
                3.3905083956760187
              ],
              [
                73.7249050867874,
                3.3877666172696244
              ],
              [
                73.74413116100615,
                3.4282070578337938
              ],
              [
                73.74962432506865,
                3.452539042665643
              ],
              [
                73.7355480921585,
                3.479954616445206
              ],
              [
                73.71666534069365,
                3.4861230108338974
              ],
              [
                73.7025891077835,
                3.4748142569360363
              ],
              [
                73.66482360485381,
                3.455966032799093
              ],
              [
                73.63941772106475,
                3.451510943213585
              ],
              [
                73.61298186901396,
                3.4319768425960873
              ],
              [
                73.60027886416579,
                3.4292352295557262
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.88739199852384,
                7.08833674981344
              ],
              [
                72.87846560692228,
                7.084929749570943
              ],
              [
                72.87056918358243,
                7.087314652385308
              ],
              [
                72.8688525698129,
                7.101964498744162
              ],
              [
                72.84928317284025,
                7.097876216432779
              ],
              [
                72.85340304588712,
                7.087996050922634
              ],
              [
                72.84756655907071,
                7.081522724148237
              ],
              [
                72.82799716209806,
                7.062783634757208
              ],
              [
                72.83246035789884,
                7.0457474399388484
              ],
              [
                72.88155551170743,
                7.011673173502193
              ],
              [
                72.90490145897306,
                7.012354683297077
              ],
              [
                72.93374057030118,
                7.055969232056115
              ],
              [
                72.91005130028165,
                7.096172754747783
              ],
              [
                72.88739199852384,
                7.0958320616541615
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                72.97201864916752,
                6.83818243037469
              ],
              [
                72.97819845873784,
                6.8272741303347715
              ],
              [
                72.97373526293705,
                6.818410953446422
              ],
              [
                72.95828573901127,
                6.812615710675574
              ],
              [
                72.94214956957768,
                6.821478994778323
              ],
              [
                72.93837301928471,
                6.792161353316782
              ],
              [
                72.9435228605933,
                6.760455381500363
              ],
              [
                72.94043295580815,
                6.741703558544209
              ],
              [
                72.92464010912846,
                6.7290882875065545
              ],
              [
                72.93493979174565,
                6.714426885122615
              ],
              [
                72.96034567553471,
                6.746476818753522
              ],
              [
                73.00806753832768,
                6.752272857192541
              ],
              [
                73.04583304125737,
                6.7952295624299
              ],
              [
                73.08531515795659,
                6.777501862043879
              ],
              [
                73.09904806811284,
                6.7747744656205935
              ],
              [
                73.0969881315894,
                6.75670507504441
              ],
              [
                73.06608908373784,
                6.7669331150119065
              ],
              [
                73.0588793059058,
                6.756364136651474
              ],
              [
                73.06231253344487,
                6.742385455738618
              ],
              [
                73.05750601489018,
                6.736248346460632
              ],
              [
                73.04171316821049,
                6.73897596017411
              ],
              [
                73.0369066496558,
                6.728065413320888
              ],
              [
                73.0204271574683,
                6.744772088362835
              ],
              [
                73.01184408862065,
                6.734884533852045
              ],
              [
                73.02386038500737,
                6.732156897134927
              ],
              [
                73.03381674487065,
                6.725337738294841
              ],
              [
                73.0259203215308,
                6.7130630112685035
              ],
              [
                73.01150076586674,
                6.730793073027934
              ],
              [
                72.9651521940894,
                6.741021660390456
              ],
              [
                72.96137564379643,
                6.72124619704599
              ],
              [
                72.99725421639937,
                6.673678991236614
              ],
              [
                73.0012876346542,
                6.667114984504984
              ],
              [
                73.0039476652808,
                6.659527951649445
              ],
              [
                73.02248709399174,
                6.651002720338626
              ],
              [
                73.02145712573002,
                6.665325024355511
              ],
              [
                73.0369066496558,
                6.667371033654903
              ],
              [
                73.03862326342534,
                6.655094849839347
              ],
              [
                73.03004019457768,
                6.6421363228674615
              ],
              [
                73.04720633227299,
                6.635997954084911
              ],
              [
                73.05819266039799,
                6.651343732432303
              ],
              [
                73.07295553881596,
                6.672486019532563
              ],
              [
                73.09561484057377,
                6.692263461950602
              ],
              [
                73.11621420580815,
                6.713744948673279
              ],
              [
                73.14248080467618,
                6.735580790073017
              ],
              [
                73.15518374657071,
                6.7546737899537215
              ],
              [
                73.1706332704965,
                6.774447888267627
              ],
              [
                73.18299288963712,
                6.782289116704948
              ],
              [
                73.19191928123868,
                6.773766036290006
              ],
              [
                73.20221896385587,
                6.775129739281336
              ],
              [
                73.2145785829965,
                6.798993916755077
              ],
              [
                73.19535250877775,
                6.808880157644302
              ],
              [
                73.19226260399259,
                6.818084405734623
              ],
              [
                73.19672579979337,
                6.8289929152718125
              ],
              [
                73.17990298485196,
                6.832401773515234
              ],
              [
                73.17303652977384,
                6.83035646148443
              ],
              [
                73.16102023338712,
                6.82047066342831
              ],
              [
                73.14213748192228,
                6.82047066342831
              ],
              [
                73.13355441307462,
                6.809561959856522
              ],
              [
                73.12531466698087,
                6.8146754455606064
              ],
              [
                73.12188143944181,
                6.823197800522895
              ],
              [
                73.11467166160978,
                6.827970253062038
              ],
              [
                73.10368533348478,
                6.830015575295643
              ],
              [
                73.10162539696134,
                6.841264691193899
              ],
              [
                73.11638827537931,
                6.844673461901255
              ],
              [
                73.12085147118009,
                6.827970253062038
              ],
              [
                73.13046450828946,
                6.8146754455606064
              ],
              [
                73.14694400047696,
                6.834447076798001
              ],
              [
                73.14248080467618,
                6.841946447282237
              ],
              [
                73.12462802147306,
                6.844332585925752
              ],
              [
                73.12256808494962,
                6.85967176365949
              ],
              [
                73.1157016298715,
                6.860353493434347
              ],
              [
                73.10437197899259,
                6.856603967598379
              ],
              [
                73.08445925926603,
                6.859330898406118
              ],
              [
                73.08068270897306,
                6.872283606434987
              ],
              [
                73.05630679344571,
                6.870920180091955
              ],
              [
                73.03639407371915,
                6.872283606434987
              ],
              [
                73.03261752342618,
                6.854558759250705
              ],
              [
                73.04772372459806,
                6.8538770211844975
              ],
              [
                73.05596347069181,
                6.857285701763611
              ],
              [
                73.06214328026212,
                6.85421789033948
              ],
              [
                73.06935305809415,
                6.844332585925752
              ],
              [
                73.05974002098478,
                6.83137911859318
              ],
              [
                73.03982730125821,
                6.831720003810167
              ],
              [
                73.03055758690275,
                6.841264691193899
              ],
              [
                73.02609439110196,
                6.851150059170605
              ],
              [
                73.0168246767465,
                6.8477413347250025
              ],
              [
                73.01854129051603,
                6.837855896155515
              ],
              [
                73.0171679995004,
                6.827970253062038
              ],
              [
                73.00892825340665,
                6.82626581118898
              ],
              [
                73.00515170311368,
                6.832401773515234
              ],
              [
                73.00103183006681,
                6.836833252901236
              ],
              [
                72.99210543846525,
                6.838196776753918
              ],
              [
                72.98867221092618,
                6.8477413347250025
              ],
              [
                72.98214907860196,
                6.84569608836713
              ],
              [
                72.97081942772306,
                6.8514909302752685
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "coordinates": []
    }),
    chagos = 
    /* color: #12d6cd */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[69.78325931094987, -4.155237145551639],
          [69.78325931094987, -8.260972289180684],
          [73.91411868594987, -8.260972289180684],
          [73.91411868594987, -4.155237145551639]]], null, false),
    maldives = 
    /* color: #f331ff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[69.95904056094987, 13.298212886857753],
          [69.95904056094987, -2.312553106145913],
          [76.02349368594987, -2.312553106145913],
          [76.02349368594987, 13.298212886857753]]], null, false),
    TwoDepths = ee.Image("projects/coral_atlas/central_indian_ocean/in_out/cio_geo_clean2_twodepths"),
    SRStoRS = 
    /* color: #88d4d6 */
    /* shown: false */
    ee.Geometry.MultiPolygon(
        [[[[72.99809025742242, 6.151675331411386],
           [73.01173704622582, 6.1393014623204],
           [73.01881817062814, 6.1048236106398095],
           [73.02243384099022, 6.080414573477545],
           [73.0325673227821, 6.047768183433615],
           [73.08398063361324, 6.01411150538943],
           [73.09245663465171, 6.01282448419583],
           [73.09474737982418, 5.987748176549546],
           [73.12167022758304, 5.939691935750457],
           [73.1284814765931, 5.884396168938947],
           [73.15278691121165, 5.8308749778375955],
           [73.1571894624973, 5.832906044507342],
           [73.15026230252555, 5.857649634233323],
           [73.15391753421754, 5.86137077038416],
           [73.13260651944535, 5.942531600657149],
           [73.1292950131843, 5.953566676575292],
           [73.1163203059443, 5.96590478409166],
           [73.10665099574159, 6.000059874979753],
           [73.09904437690997, 6.0152931268454655],
           [73.05986264027801, 6.035935956219135],
           [73.04201110868614, 6.058415796245551],
           [73.04939525000303, 6.066502737143688],
           [73.02504080293969, 6.124452368006432],
           [73.01371115206078, 6.150224669804175],
           [73.00547140596703, 6.152272746237948],
           [72.99448507784203, 6.1689984081692515],
           [72.98924940584496, 6.16677972824131]]],
         [[[72.71800631217779, 5.522242173399679],
           [72.79455772474729, 5.037356585183495],
           [72.83129325941526, 4.979898605637685],
           [72.86734214857542, 4.988791241854478],
           [72.83266655043089, 5.040947540875825],
           [72.82116523817503, 5.0741201909275615],
           [72.84874409494164, 5.156072722925499],
           [72.85612553415062, 5.221720552473264],
           [72.87277668771507, 5.274541553581147],
           [72.85612553415062, 5.322572284202641],
           [72.87200990165047, 5.377743120643074],
           [72.87441316092782, 5.412094215032077],
           [72.87303986991219, 5.448664877279525],
           [72.85604539359383, 5.445418039165164],
           [72.84162583792977, 5.496169233146508],
           [72.78858247245125, 5.5200908573657905],
           [72.8184515520411, 5.587237103060289],
           [72.82531800711922, 5.607909083591118],
           [72.83922257865242, 5.635413640787188],
           [72.84351411307625, 5.649080017392245],
           [72.84265580619149, 5.666504179832769],
           [72.84282746756844, 5.695201653472803],
           [72.85003724540047, 5.71176005504717],
           [72.84711900199227, 5.743529666185075],
           [72.8601652666407, 5.76522080276451],
           [72.87750306571297, 5.770173780783638],
           [72.88049085639076, 5.797536568492202],
           [72.9045234491642, 5.841938484998761],
           [72.9264961054142, 5.850476912316861],
           [72.93662412665444, 5.9058027532677295],
           [72.93851240180092, 5.91604767450254],
           [72.90795667670326, 5.915535432946331]]],
         [[[72.81598593136962, 4.883176005706707],
           [72.82971884152587, 4.770281297166577],
           [72.8936297998529, 4.8079070721260235],
           [72.88762165165954, 4.887101997112609]]],
         [[[72.67336902235039, 3.949059676356584],
           [72.66695451992045, 3.5274586741219323],
           [72.69919593511106, 3.480682732881525],
           [72.74846275029661, 3.483748404900423],
           [72.72116859136106, 3.536178249956203],
           [72.71172721562864, 3.5651124457775545],
           [72.72855003057005, 3.578476024119925],
           [72.7064057129431, 3.62353382818362],
           [72.70812232671263, 3.665686596509434],
           [72.70743568120481, 3.7693920293594405],
           [72.71464545903684, 3.8800382786926795],
           [72.71241386113645, 3.8933970702725964],
           [72.73026664433958, 3.897164896270507],
           [72.71756370244505, 3.9129210764661546],
           [72.71601875005247, 3.9504264412430468],
           [72.77970512090208, 3.9428912523894084],
           [72.78159339604856, 3.9589890727741373],
           [72.76786048589231, 3.9619003473301353],
           [72.77163703618528, 3.980224016409043],
           [72.7173920410681, 3.977312806461523],
           [72.71550376592161, 3.997691059696744],
           [72.71069724736692, 4.034507626169681],
           [72.72323944331438, 4.043455401099854],
           [72.71379806758196, 4.085920338421309],
           [72.73954727412493, 4.122219229241131],
           [72.742980501664, 4.174096367050432],
           [72.7404055810097, 4.217752689895728],
           [72.7817759728554, 4.281777519171029],
           [72.72375442744524, 4.283660521691456]]],
         [[[72.93254078973017, 4.269369944548204],
           [73.0166548644372, 4.330309384088425],
           [72.98283757317743, 4.343318294019482],
           [72.92464436639032, 4.326030088480779]]],
         [[[72.8082584184285, 3.04595882460334],
           [72.89820897995193, 3.0444160537632903],
           [72.84516561447342, 3.0836703105447096],
           [72.86919820724685, 3.1191521698439884],
           [72.85598028122146, 3.1681734422439876],
           [72.82464029250731, 3.193735117487161],
           [72.81834686105275, 3.237342733762019],
           [72.82441155254267, 3.288755624231119],
           [72.78630272685908, 3.2911549226799126]]],
         [[[72.88832183908734, 2.2446348774295086],
           [72.93502723056004, 2.1731721024612796],
           [73.01779508376956, 2.132241697488493],
           [73.10465574050784, 2.153341282475403],
           [73.10036420608401, 2.189878895512935],
           [73.07204007888674, 2.1668928945401698],
           [73.0395960786426, 2.167064433157705],
           [72.98483609939456, 2.180787459463768],
           [72.95016050125002, 2.2101200074987872],
           [72.93182327585686, 2.2535808790345357],
           [72.9290766938256, 2.2799960445233967],
           [72.94761612253654, 2.2847987499567926],
           [72.94418289499748, 2.29954981607029],
           [72.92306854563225, 2.308983557531677],
           [72.90178253489006, 2.3395141447123313],
           [72.90624573069084, 2.366270742334773],
           [72.8957743866967, 2.397029132474452],
           [72.89388611155022, 2.4474524820965846],
           [72.93586329905683, 2.5063929476524045],
           [72.96271392452275, 2.5389956948498047],
           [72.81371184932743, 2.532135962359592]]],
         [[[73.21775591140874, 1.790334736366346],
           [73.31697618728765, 1.7704316294832876],
           [73.29294359451421, 1.8092081726134608],
           [73.25620805984624, 1.8514153254301915],
           [73.24625169998296, 1.8967096878717142],
           [73.25243150955328, 1.9492084860226004],
           [73.20093309646734, 1.9598452993889612]]],
         [[[72.97158033277954, 0.3841186265104192],
           [72.99080640699829, 0.26292764899474536],
           [73.1178358259436, 0.18327738034484534],
           [73.14667493727173, 0.21211631969409775],
           [73.09620649244751, 0.262241010697913],
           [73.07217389967407, 0.27082398666936375],
           [73.02857190992798, 0.3082456883707198],
           [73.02822858717407, 0.36626622614896015],
           [73.01140577223266, 0.3865218314416212],
           [72.99423963453735, 0.4723501010872141],
           [72.99526960279907, 0.5344891178678397],
           [73.01792890455688, 0.5596494041496506],
           [73.05226117994751, 0.5926067218478264],
           [73.0790403547522, 0.5956964604978742],
           [73.1123426618811, 0.6434155319446057],
           [73.13156873609985, 0.6581774580047619],
           [73.12504561893702, 0.6707078931566287],
           [72.94960767652954, 0.563769079212486]]],
         [[[73.5634176043785, 4.639799249845519],
           [73.58444612305526, 4.598392122211691],
           [73.59774987976913, 4.586414404129179],
           [73.61355091438124, 4.555916299494011],
           [73.6416557986116, 4.532168326718659],
           [73.68229656382371, 4.493081159090437],
           [73.72186451121141, 4.45731331422673],
           [73.6698998436739, 4.380882782455912],
           [73.61966673174729, 4.3547379015211884],
           [73.6067387767345, 4.3394397313885404],
           [73.57217842197089, 4.308184527695884],
           [73.5464869990837, 4.270302928946998],
           [73.59152005785771, 4.307740675500942],
           [73.61990334906335, 4.341771889020823],
           [73.70174302909871, 4.3920080887817186],
           [73.74407933456985, 4.460462890125742],
           [73.58314479267801, 4.6662549285718695],
           [73.55310405171122, 4.654192810783871]]],
         [[[73.50503407800471, 4.122792264691239],
           [73.52563344323909, 4.102588383192837],
           [73.53661977136409, 4.043343556631512],
           [73.52431718460132, 4.0076308845569475],
           [73.50921098342944, 3.9887940895266563],
           [73.50097123733569, 3.957626808567288],
           [73.48709938544201, 3.927180053057636],
           [73.46375343817638, 3.8956679327277137],
           [73.46169350165295, 3.8504528313646493],
           [73.44384071844982, 3.8288720482424585],
           [73.44899055975841, 3.8079758509233606],
           [73.46752998846935, 3.8271592643355348],
           [73.50426552313732, 3.9182745740282443],
           [73.55645058173107, 4.022231132609484],
           [73.54924080389904, 4.135240671045543],
           [73.5032355548756, 4.133528524427034]]],
         [[[73.63495540484485, 3.0910882850112613],
           [73.62070659111853, 3.0229773398201627],
           [73.60716685944826, 2.9614156351437844],
           [73.57935771638185, 2.9099848082745496],
           [73.55459880560979, 2.863352162285968],
           [73.49417400092229, 2.8544368805085587],
           [73.440272328559, 2.8119168964832255],
           [73.39941692084416, 2.7508774418210042],
           [73.40834331244572, 2.734759758162798],
           [73.56524181098088, 2.845864428952385],
           [73.5995740863715, 2.8870116115674214],
           [73.61983012885197, 2.943586550176905],
           [73.68300151557072, 3.1057519318917493],
           [73.63527965277775, 3.110551379894014]]],
         [[[73.34155039805151, 0.9059940740389175],
           [73.36008982676245, 0.9047925944243339],
           [73.38446574228979, 0.8881434790388426],
           [73.40993717702707, 0.8442000483652731],
           [73.4271323094329, 0.8016324187528129],
           [73.43343776175934, 0.7462085638342281],
           [73.44064753959137, 0.7142821413698714],
           [73.43910258719879, 0.65682036037339],
           [73.44861094474655, 0.6334089155093081],
           [73.48051453663415, 0.6088882040380077],
           [73.51210022999352, 0.5874317013768939],
           [73.52394486500329, 0.5666617282979075],
           [73.53287125660485, 0.5462349879131183],
           [73.5656585796029, 0.4629824562501561],
           [73.57561493946618, 0.4320843513537459],
           [73.5456956008378, 0.3565557902215653],
           [73.52715617212687, 0.3352701675300345],
           [73.56389170679483, 0.3496894655563839],
           [73.60153625924377, 0.42726619147831246],
           [73.56800741218645, 0.5141028325195182],
           [73.51558919391178, 0.6079750620501748],
           [73.46666570148014, 0.6527213020307586],
           [73.45688100299381, 0.7331531197505601],
           [73.44287279075307, 0.8148360405373659],
           [73.41666373785546, 0.8723977451678908],
           [73.36894187506249, 0.9168526210422585],
           [73.34250602301171, 0.9161660633804259]]]]),
    clean2RCdist = ee.Image("projects/coral_atlas/central_indian_ocean/in_out/cio_geo_clean2_distRC_250orf"),
    clean3 = ee.Image("projects/coral_atlas/central_indian_ocean/in_out/cio_geo_clean3");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// Viewing script for looking at reefs and classifications for each region. 
// From this region Timor Sea onwards the map_viewer script is going to be used from the very beginning
// in the workflow 

//Viewer for cio

// Load and libraries needed
var map_palettes = require('users/mitchest/global_reefs:Modules/colour_pals');
var param_module = require('users/mitchest/global_reefs:Modules/reef_params');
var pkg_vis = require('users/mitchest/global_reefs:Modules/pkg_vis');

// ###########################################
// SENSOR GENERICS
var sensor_params = param_module.dove ;      //<------------ THIS IS WHERE YOU CHOOSE THE SENSOR
// REGION AND SENSOR SPECIFIC LOAD PATHS
var region_params = param_module.cio;       //<------------ THIS IS WHERE YOU CHOOSE THE REGION
//  ^^ all the data paths are in this module ^^
// ###########################################



// Choose which layers will be shown in the map viewer
var vars = {
  raw: true, // set to true if you want to view the raw classifications for benthic and geo
  geo_cleanup_stage: 2, // set to 0, 1, 2 or 3 - this controls the display of the geo clean stages (0 = cleanup not ready)
  benthic_cleanup_stage: 0, // set to 0, 1 or 2 - this controls the display of the benthic clean stages (0 = cleanup not ready)
};


// choose where to centre the map (link this dynamically to map app?)
Map.centerObject(center_map, 6);

// Add low-tide base map to viewer
// var low_tide_image = ee.Image(region_params.pixels);
// Map.addLayer(low_tide_image, {bands: ['b3','b2','b1'], min: 0, max: 3000}, sensor_params.sname + " from stack", false); // image data

//print (region_params.image[0])
var low_tide_image_dove = ee.Image(region_params.image);
Map.addLayer(low_tide_image_dove, {bands: ['b3','b2','b1'], min: 0, max: 3000}, sensor_params.sname + ' low tide', false); // image data

Map.addLayer(pixels, {color:'#00FFFF'}, "pixels", false)
Map.addLayer(segmentation, {color:'#00FF00'}, "segments", false)


// Load the raw classifications
if (vars.raw) {
// geo raw (test if more than one map exists for the region)
  if (ee.List(region_params.geo_map).length().getInfo() > 1) {
    var geo_map_raw = ee.Image(region_params.geo_map[0]).unmask(0, false)
                 .add(ee.Image(region_params.geo_map[1]).unmask(0, false))
                 .selfMask();
  } else {
    var geo_map_raw = ee.Image(region_params.geo_map);
  }

  // benthic raw (test if more than one map exists for the region)
  if (ee.List(region_params.benthic_map).length().getInfo() > 1) {
    var benthic_map_raw = ee.Image(region_params.benthic_map[0]).unmask(0, false)
                     .add(ee.Image(region_params.benthic_map[1]).unmask(0, false))
                     .selfMask();
  } else {
      var benthic_map_raw = ee.Image(region_params.benthic_map);
  }

  // Add the raw region classification to the viewer
  Map.addLayer(geo_map_raw, map_palettes.geo, 'Geomorphic RAW', false);
  Map.addLayer(benthic_map_raw.updateMask(geo_map_raw.gt(2)), map_palettes.benthic, 'Benthic RAW', false);
  //Map.addLayer(benthic_subreg2_no_b4p.updateMask(geo_map_raw.gt(2)), map_palettes.benthic, 'Benthic RAW (no band4 outer reefs)', false); // test without band b4p
}

// Add geo clean stage 1 to the viewer
if (vars.geo_cleanup_stage == 1||vars.geo_cleanup_stage == 2) {
  Map.addLayer(ee.Image(region_params.geo_map_clean1), map_palettes.geo, 'Geomorphic - stage 1 clean', false);
  //Map.addLayer(ee.Image(region_params.geo_map_clean1), map_palettes.geo, 'timor_geo_clean1_10m_5m', false);
  //Map.addLayer(ee.Image(timor_geo_clean1_10m_4m), map_palettes.geo, 'timor_geo_clean1_10m_4m', false);
  //Map.addLayer(ee.Image(timor_geo_clean1_15m), map_palettes.geo, 'timor_geo_clean1_15m_5m', false);
  //Map.addLayer(ee.Image(timor_geo_clean1_15m_4m), map_palettes.geo, 'timor_geo_clean1_15m_4m', false);
  }
/*
// Add geo clean stage 2 to the viewer
if (vars.geo_cleanup_stage == 2||vars.geo_cleanup_stage == 3) {
  Map.addLayer(ee.Image(region_params.geo_map_clean2), map_palettes.geo, 'Geomorphic - stage 2 clean', false);
  //Map.addLayer(ee.Image(region_params.geo_map_clean1), map_palettes.geo, 'timor_geo_clean2_10m_5m', false);
  //Map.addLayer(ee.Image(timor_geo_clean2_10m_4m), map_palettes.geo, 'timor_geo_clean2_10m_4m', false);
  //Map.addLayer(ee.Image(timor_geo_clean2_15m), map_palettes.geo, 'timor_geo_clean2_15m_5m', false);
  //Map.addLayer(ee.Image(timor_geo_clean2_15m_4m), map_palettes.geo, 'timor_geo_clean2_15m_4m', false);
}
*/
// Add geo clean stage 3 to the viewer
if (vars.geo_cleanup_stage == 3) {
  var geo_map_clean3 = ee.Image(region_params.geo_map_clean3)
  Map.addLayer(geo_map_clean3.updateMask(geo_map_clean3.gt(2)), map_palettes.geo, 'Geomorphic - stage 3 clean', true);
}

// Add benthic clean stage 1 to the viewer
if (vars.benthic_cleanup_stage == 1||vars.benthic_cleanup_stage == 2) {
  Map.addLayer(ee.Image(region_params.benthic_map_clean1), map_palettes.benthic, 'Benthic - stage 1 clean', false);
  }

// Add geo clean stage 2 to the viewer
if (vars.benthic_cleanup_stage == 2) {
  Map.addLayer(ee.Image(region_params.benthic_map_clean2), map_palettes.benthic, 'Benthic - stage 2 clean', false);
}

// Geo Training Data - Needs more work + add flag to show
var geo_train = ee.FeatureCollection(region_params.geo_train_library);

var geo_buff = function(feature) {
  return feature.buffer(20);   // substitute in your value of Z here
};

var geo_train_buff = geo_train.map(geo_buff)

// Create an empty image into which to paint the features, cast to byte.
var empty = ee.Image().byte();

// Paint the interior of the polygons with different colors.
var geo_fill = empty.paint({
  featureCollection: geo_train_buff,
  color: 'class_num',
});

Map.addLayer(geo_fill, map_palettes.geo, 'Geo Training Data', false);
Map.addLayer(TwoDepths, map_palettes.geo, 'Geo 2', false);
//Map.addLayer(RCdist500IRF, map_palettes.geo, 'Geo 2+ RC500m_IRF', false);
//Map.addLayer(RC500IRFdeep, map_palettes.geo, 'Geo 2+ RC500m_IRF + deepwaterclean', false);
//Map.addLayer(RCdist500ORF, map_palettes.geo, 'Geo 2+ RC500m_ORF', false);
Map.addLayer(clean2RCdist, map_palettes.geo, 'Geo 2+ RC250m_ORF', false);
Map.addLayer(clean3, map_palettes.geo, 'Geo 3 - manual clean', false);
//Map.addLayer(RCdist250ORFdeep, map_palettes.geo, 'Geo 2+ RC250m_ORF + deepwaterclean', false);
//Map.addLayer(ReefMask, map_palettes.geo, 'Geo 2 + RCtoORF reefmask', false);
//Map.addLayer(clean1_2depths, map_palettes.geo, 'Geo 1 two depths', false);
//Map.addLayer(clean2_2depths, map_palettes.geo, 'Geo 2 two depths', false);



////////// UI SET UP //////////

//Generate title
var title = ui.Label({
  value: 'Coral Atlas map classes',
  style: {fontWeight: 'bold', fontSize: '14px'}
});

// generate the legend
var geo_legend = pkg_vis.discrete_legend(map_palettes.geo_atlas_names, map_palettes.geo_atlas_cols, 'Geomorphic Zone', false);
var benthic_legend = pkg_vis.discrete_legend(map_palettes.benthic_atlas_names, map_palettes.benthic_atlas_cols, 'Benthic Habitat', false);
//var mask_legend = pkg_vis.discrete_legend(["Low confidence depth","Water conditions"], ["#f7f7f7","#bababa"], 'Confidence Mask reason', false)
pkg_vis.add_lgds([title, geo_legend, benthic_legend]);//, mask_legend])
// generate the legend

